!function(){"use strict";angular.module("app",["ngImgCrop","toastService","textAngular","luegg.directives","DropDSC","authService","ui.router","ngMaterial","ngMdIcons","ngCookies","pascalprecht.translate"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor")}])}(),function(){"use strict";function e(e){function t(t){this.message=t,e.show({controller:"toastController",controllerAs:"vm",templateUrl:"views/pages/dsctoast.html",action:"OK",highlightAction:!0,position:"top right",hideDelay:500})}var o={message:"",errorMessage:t};return o}angular.module("toastService",[]).controller("toastController",["$mdToast","toastApp",function(e,t){var o=this;o.message=t.message,o.closeToast=function(){e.hide()}}]).factory("toastApp",e),e.$inject=["$mdToast"]}(),function(){"use strict";function e(e,t){e.state("init",{url:"/",templateUrl:"views/pages/initpage.html",controller:"loginController as vm"}).state("init.login",{url:"login",views:{"content-tab":{templateUrl:"views/pages/userlogin.html",controller:"loginController as vm"}}}).state("init.signup",{url:"signup",views:{"content-tab":{templateUrl:"views/pages/signup.html",controller:"signupController as vm"}}}).state("init.rescuepassword",{url:"rescuepassword",views:{"content-tab":{templateUrl:"views/pages/rescuepassword.html",controller:"signupController as vm"}}}).state("startproblem",{url:"/startproblem",templateUrl:"views/pages/startproblem.html",controller:"startProblemController as vm"}).state("profile",{url:"/profile",templateUrl:"views/pages/profile.html",controller:"profileController as vm"}).state("dscreport",{url:"/dscreport",templateUrl:"views/pages/problemreport.html",controller:"problemReportController as vm"}).state("newpassword",{url:"/newpassword/:mytoken",templateUrl:"views/pages/newpassword.html",controller:"signupController as vm"}).state("problem",{url:"/problem",templateUrl:"views/pages/problem.html",controller:"menuProblemController as vm"}).state("problem.description",{url:"/description",views:{"problem-description":{templateUrl:"views/pages/problemdescription.html",controller:"editProblemController as vm"}}}).state("problem.collaborators",{url:"/collaborators",views:{"problem-description":{templateUrl:"views/pages/collaborators.html",controller:"controllerCollaborators as vm"}}}).state("problem.stakeholders",{url:"stakeholders",views:{"dsc-artifact":{templateUrl:"views/pages/stakeholders.html",controller:"stakeholderController as vm"}}}).state("problem.evaluationframework",{url:"evaluationframework",views:{"dsc-artifact":{templateUrl:"views/pages/evaluationframework.html",controller:"evaluationframeworkController as vm"}}}).state("problem.semioticframework",{url:"semioticframework",views:{"dsc-artifact":{templateUrl:"views/pages/semioticframework.html",controller:"semioticframeworkController as vm"}}}).state("problem.carf",{url:"carf",views:{"dsc-artifact":{templateUrl:"views/pages/carf.html",controller:"carfController as vm"}}}).state("problem.vif",{url:"vif",views:{"dsc-artifact":{templateUrl:"views/pages/vif.html",controller:"valueIdentificationFrameController as vm"}}}),t.otherwise("/login")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.useStaticFilesLoader({prefix:"app/language/lang-",suffix:".json"}),e.preferredLanguage("en"),e.useSanitizeValueStrategy("escaped"),e.useLocalStorage()}function t(e){function t(t){e.use(t)}var o=this;o.setLang=t}function o(){return{templateUrl:"app/language/changeLanguage.html",restrict:"E"}}angular.module("app").config(e).controller("languageController",t).directive("changeLanguage",o),e.$inject=["$translateProvider"],t.$inject=["$translate"]}(),function(){"use strict";function e(e,t,o,r){function n(){p.idProblem=e.localStorage.getItem("problemid"),o.getcarf(p.idProblem).success(function(e){e.success&&(p.localStakeholders=e.stakeholders,p.stakeholderList=p.localStakeholders,p.carfList=e.carf,p.carfPriorityList=p.localPriorityList)}),p.inProcessing=!1}function a(){p.carf={_id:"",pms:"",values:[],priority:"",requirement:"",stakeholders:[]},p.valueList=[]}function i(e){""===e.pms?r.errorMessage("Select PMS"):e.values.length<1?r.errorMessage("Select one or more Value"):e.stakeholders.length<1?r.errorMessage("Select one or more Stakeholder(s)"):""===e.priority?r.errorMessage("Select priority [Low, Medium or High]"):(t.emit("broadcastCARFadd",e),p.stakeholderList=[],p.carfPriorityList=[])}function s(e,o){var r={index:e,carf:o};t.emit("broadcastCARFremove",r)}function l(e){void 0!==e&&angular.forEach(p.carfPMSValue,function(t){return t.pms==e?(p.carf.values=[],void(p.valueList=t.values)):void 0})}function c(e){p.carf.priority=e}function u(e){if(0===p.carf.values.length)p.carf.values.push(e);else{for(var t=0;t<p.carf.values.length;t++)if(e==p.carf.values[t])return void p.carf.values.splice(t,1);p.carf.values.push(e)}}function m(e){if(0===p.carf.stakeholders.length)p.carf.stakeholders.push(e);else{for(var t=0;t<p.carf.stakeholders.length;t++)if(e==p.carf.stakeholders[t])return void p.carf.stakeholders.splice(t,1);p.carf.stakeholders.push(e)}}var p=this;p.idProblem="",p.inProcessing=!0,p.valueList=[],p.stakeholderList=[],p.localStakeholders=[],p.addpmsvalue=i,p.removeCARF=s,p.selectPMSValue=l,p.setPriotity=c,p.addListValue=u,p.addStakeholder=m,p.carf={pms:"",values:[],priority:"",requirement:"",stakeholders:[]},p.initCarf=n,p.carfList=[],p.carfPriorityList=[],t.on("onBroadcastCARFadd",function(e){p.carfList.push(e),a(),p.stakeholderList=p.localStakeholders,p.carfPriorityList=p.localPriorityList}),t.on("onBroadcastCARFremove",function(e){p.carfList.splice(e,1)}),p.localPriorityList=["Low","Medium","High"],p.carfPMSValue=[{pms:"Interaction",values:["Identity","Norms"]},{pms:"Association",values:["Conversation","Groups","Relationship","Trust"]},{pms:"Learning",values:["Meta-communication"]},{pms:"Play",values:["Aesthetics","Emotion and Affection"]},{pms:"Protection",values:["Informed consert","Reputation","Security"]},{pms:"Exploitation",values:["Accessibility","Object","Property (ownership)","Usability"]},{pms:"Teporality",values:["Availability","Awareness","Presence"]},{pms:"Territoriality",values:["Portability","Privacy","Scalability","Visibility"]},{pms:"Classification",values:["Autonomy","Collaboration","Sharing","Adaptability"]},{pms:"Subsistence",values:["Reciprocity"]}]}angular.module("app").controller("carfController",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r){function n(){l.isOpenChat=!l.isOpenChat,document.getElementById("message").focus()}function a(){l.idProblem=r.localStorage.getItem("problemid"),l.nickname=r.localStorage.getItem("nickname"),l.photo=r.localStorage.getItem("photo"),o.gethistorychat(l.idProblem).success(function(e){if(e.success)for(var t=0;t<e.historychat.length;t++){var o=new Date(e.historychat[t].time),r={nickname:e.historychat[t].nickname,msg:e.historychat[t].msg,time:o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear()+" ["+o.getHours()+":"+o.getMinutes()+"] "};l.messages.push(r)}}),t.emit("checkUsers")}function i(){l.replay?l.replay=!1:l.replay=!0}function s(e){void 0===e||e.length<2||(t.emit("broadcastChat",e),l.newmsg="")}var l=this;l.newmsg="",l.messages=[],l.replay=!1,l.nickname="",l.userList=[],l.initHistoryChat=a,l.showReplay=i,l.sendMessage=s,l.photo="",l.openChat=n,l.isOpenChat=!1,t.on("onBroadcastChat",function(e){var t=new Date(e[e.length-1].time);l.messages.push({nickname:e[e.length-1].nickname,msg:e[e.length-1].msg,time:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" ["+t.getHours()+":"+t.getMinutes()+"] "})}),t.on("onCheckUsers",function(e){l.userList=e})}angular.module("app").controller("chatDSC",e),e.$inject=["$timeout","Socket","problemService","$window"]}(),function(){"use strict";function e(e,t,o,r){function n(){l.idProblem=e.localStorage.getItem("problemid"),l.useremail=e.localStorage.getItem("useremail"),o.getcollaborators(l.idProblem).success(function(e){e.success?l.collaborators=e.collaborators:r.errorMessage(e.message)})}function a(e){for(var t=0;t<l.collaborators.length;t++)if(e==l.collaborators[t].email)return!0;return!1}function i(e){if(l.useremail==e)r.errorMessage(l.useremail+" is email of owner.");else if(a(e))r.errorMessage("Usuario Cadastrado.");else{var t={idproblem:l.idProblem,email:e};o.invite(t).success(function(e){e.success?l.collaborators=e.collaborators:r.errorMessage(e.message)})}}function s(e){var t={idproblem:l.idProblem,email:e.email};o.removecollaborators(t).success(function(e){e.success?(r.errorMessage("Colaborador foi removido do projeto."),l.collaborators=e.collaborators):r.errorMessage(e.message)})}var l=this;l.idProblem="",l.collaborators=[],l.useremail="",l.initCollaborators=n,l.addCollaborator=i,l.removeCollaborator=s}angular.module("app").controller("controllerCollaborators",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(){function e(e){var t=document.getElementById("projectResport"),o=new jsPDF("l","px");o.addHTML(t,0,0,{pagesplit:!0},function(e){o.save("test.pdf")})}var t=this;t.idproblem="ajflajfljalfjaljf",t.buidReport=e}angular.module("app").controller("dscReportController",e)}(),function(){"use strict";function e(e,t,o,r){function n(){s.idproblem=e.localStorage.getItem("problemid"),t.getevaluation(s.idproblem).success(function(e){e.success?s.evaluationframeworkList=e.evaluationframework:r.errorMessage(e.message)})}function a(e){o.emit("broadcastFrameSave",e)}function i(e){e.openEdit=!0}var s=this;s.evaluationframeworkList=[],s.initEvaluation=n,s.setOpenEditDiscution=i,s.saveDiscution=a,o.on("onBroadcastFrameSave",function(e){angular.forEach(s.evaluationframeworkList,function(t){t.onionlayer==e.onionlayer&&angular.forEach(t.stakeholders,function(t){t._id==e._id&&(t.name=e.name,t.onionlayer=e.onionlayer,t.description=e.description,t.openEdit=e.openEdit,t.problems=e.problems,t.solutions=e.solutions)})})}),o.on("onUpdateStakeholder",function(e){console.log(e)})}angular.module("app").controller("evaluationframeworkController",e),e.$inject=["$window","problemService","Socket","toastApp"]}(),function(){"use strict";function e(e,t,o,r,n,a){function i(){p.nickname=o.localStorage.getItem("nickname"),p.idProblem=o.localStorage.getItem("problemid"),r.getproblem(p.idProblem).success(function(e){e.success?p.problem=e.problem:n.errorMessage(e.message)});var e={idproblem:p.idProblem,nickname:p.nickname};a.emit("initProblem",e)}function s(){t.go("startproblem")}function l(){t.go("problem.collaborators")}function c(){t.go("dscreport")}function u(){t.go("problem.description")}function m(){e.logout(),t.go("init.login")}var p=this;p.formAddCollaborators=l,p.editDescriptionProblem=u,p.doLogout=m,p.systemReturn=s,p.formProblemReport=c,p.getCurrentProblem=i,p.nickname}angular.module("app").controller("menuProblemController",e),e.$inject=["Auth","$state","$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,r,n){function a(){c.nickname=r.localStorage.getItem("nickname"),c.idProblem=r.localStorage.getItem("problemid"),n.getproblem(c.idProblem).success(function(e){e.success?c.problem=e.problem:o.errorMessage(e.message)});var t={idproblem:c.idProblem,nickname:c.nickname};e.emit("initProblem",t)}function i(){u=!0}function s(o){o.update=u,e.emit("atualizarProblema",o),u&&(u=!1,t(i,2e3))}function l(t){t.update=u,e.emit("atualizarProblema",t)}var c=this,u=!0;c.problem="",c.problemUpdate=s,c.getCurrentProblem=a,c.saveDescription=l,c.nickname,e.on("onAtualizarProblema",function(e){c.problem.description=e.description,c.problem.update=u})}angular.module("app").controller("editProblemController",e),e.$injectre=["$scope","Socket"],e.$inject=["Socket","$timeout","toastApp","$window","problemService"]}(),function(){"use strict";function e(e,t,o,r){function n(){i.idProblem=e.localStorage.getItem("problemid"),t.getproblemreport(i.idProblem).success(function(e){e.success?i.problem=e.problem:o.errorMessage(e.message)})}function a(){r.go("problem.stakeholders")}var i=this;i.idProblem,i.problem,i.initProblemPeport=n,i.systemReturn=a}angular.module("app").controller("problemReportController",e),e.$inject=["$window","problemService","toastApp","$state"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(v,t)}function r(t){return e.get(w+"?idproblem="+t)}function n(t){return e.get(k+"?idproblem="+t)}function a(t){return e.get(b+"?email="+t)}function i(t){return e.get(y+"?idproblem="+t)}function s(t){return e.post(S,t)}function l(t){return e.get(P+"?idproblem="+t)}function c(t){return e.get(C+"?idproblem="+t)}function u(t){return e.get($+"?idproblem="+t)}function m(t){return e.get(A+"?idproblem="+t)}function p(t){return e.get(L+"?idproblem="+t)}function d(t){return e.get(h+"?email="+t)}function g(t){return e.get(I+"?idproblem="+t.idproblem+"&email="+t.email)}function f(t){return e.get(E+"?idproblem="+t)}var b="/api/problem/getproblems",h="/api/problem/getproblemscollaborator",v="/api/problem/newproblem",k="/api/problem/getproblem",w="/api/problem/getproblemreport",y="/api/problem/getcollaborators",S="/api/problem/invite",P="/api/problem/getonion",C="/api/problem/getevaluation",$="/api/problem/getsemiotic",A="/api/problem/getcarf",L="/api/problem/removeproblem",I="/api/problem/removecollaborator",E="/api/problem/historychat",M={newproblem:o,getuserproblems:a,getproblem:n,getcollaborators:i,invite:s,getonion:l,getevaluation:c,getsemiotic:u,getcarf:m,removeproblem:p,getproblemscollaborator:d,removecollaborators:g,gethistorychat:f,getproblemreport:r};return M}angular.module("app").factory("problemService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e,t,o,r){function n(){m.idproblem=t.localStorage.getItem("problemid"),o.getsemiotic(m.idproblem).success(function(e){e.success?m.semioticframework=e.semioticframework:r.errorMessage(e.message)})}function a(t,o){var r={text:t,update:o};e.emit("updateSocialWorld",r)}function i(t,o){var r={text:t,update:o};e.emit("updatePragmatic",r)}function s(t,o){var r={text:t,update:o};e.emit("updateSemantic",r)}function l(t,o){var r={text:t,update:o};e.emit("updateSyntatic",r)}function c(t,o){var r={text:t,update:o};e.emit("updateEmpirical",r)}function u(t,o){var r={text:t,update:o};e.emit("updatePhysical",r)}var m=this;m.idproblem="",m.saveSocialWorld=a,m.savePragmatic=i,m.saveSemantic=s,m.saveSyntatic=l,m.saveEmpirical=c,m.savePhysical=u,m.semioticframework="",m.initSemioticFramework=n,e.on("onUpdateSocialWorld",function(e){m.semioticframework.socialworld=e}),e.on("onUpdatePragmatic",function(e){m.semioticframework.pragmatic=e}),e.on("onUpdateSemantic",function(e){m.semioticframework.semioticramework=e}),e.on("onUpdateSyntatic",function(e,t){m.semioticframework.syntatic=e}),e.on("onUpdateEmpirical",function(e){m.semioticframework.empirical=e}),e.on("onUpdatePhysical",function(e){m.semioticframework.physical=e})}angular.module("app").controller("semioticframeworkController",e),e.$inject=["Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r,n){function a(){d.idproblem=t.localStorage.getItem("problemid"),o.getonion(d.idproblem).success(function(e){e.success?d.stakeholderList=e.stakeholders:n.errorMessage(e.message)}),d.inProcessing=!1}function i(t){e.emit("broadcastOnionSave",t)}function s(t){e.emit("broadcastOnionEdit",t)}function l(t,o){var r={index:t,stakeholder:o};e.emit("broadcastOnionRemove",r)}function c(e,t,o){var n=r.confirm().parent(angular.element(document.body)).title("Detete Stakeholder?").content("Title: "+o.name).ariaLabel("Remove Stakeholder").ok("Yes!").cancel("Cancel").targetEvent(e);r.show(n).then(function(){l(t,o)})}function u(t,o){var r={onionlayer:o,name:"",description:"",openEdit:!0,x:t.pageX+"px",y:t.pageY-130+"px"};e.emit("broadcastOnionAdd",r)}function m(e){document.getElementById("name"+e).setAttribute("style","text-decoration: underline;"),document.getElementById("legend"+e).setAttribute("opacity","0.7"),document.getElementById(e).setAttribute("opacity","0.7")}function p(e){document.getElementById("name"+e).setAttribute("style","text-decoration: none;"),document.getElementById("legend"+e).setAttribute("opacity","1.0"),document.getElementById(e).setAttribute("opacity","1.0")}var d=this;d.idproblem="",d.stakeholderList=[],d.stakeholder="",d.intitOnion=a,d.move=!1,d.inProcessing=!0,d.saveStakeholder=i,d.setOpenEdit=s,d.delPostIt=c,d.addPostIt=u,d.acende=m,d.apaga=p,e.on("onBroadcastOnionSave",function(e){angular.forEach(d.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.zindex=10)})}),e.on("onBroadcastOnionEdit",function(e){angular.forEach(d.stakeholderList,function(t){t._id===e&&(t.openEdit=!0,t.zindex=9999)})}),e.on("onBroadcastOnionRemove",function(e){var t=document.getElementById("stakeholder"+d.stakeholderList[e]._id);t.style.display="none",d.stakeholderList.splice(e,1)}),e.on("onBroadcastOnionAdd",function(e){d.stakeholderList.push(e)})}angular.module("app").controller("stakeholderController",e),e.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(),function(){"use strict";function e(e,t,o,r,n,a,i){function s(){b.userid=n.localStorage.getItem("userid"),b.nickname=n.localStorage.getItem("nickname"),b.useremail=n.localStorage.getItem("useremail"),b.photo=n.localStorage.getItem("photo"),a.getuserproblems(b.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,460);b.problemList=e.problems}else i.errorMessage(e.message)}),a.getproblemscollaborator(b.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,460);b.problemCollaboratorList=e.problems}else i.errorMessage(e.message)}),b.loginInProgress=!1}function l(e){a.removeproblem(e).success(function(t){if(t.success){for(var o=0;o<b.problemList.length;o++)if(b.problemList[o]._id==e){b.problemList.splice(o,1);break}}else i.errorMessage(t.message)})}function c(t,o){var r=e.confirm().parent(angular.element(document.body)).title("Detete Problem?").content("Title: "+o.title).ariaLabel("Remove Problem").ok("Desejo remover!").cancel("Cancel").targetEvent(t);e.show(r).then(function(){l(o._id)})}function u(e){e.userid=b.userid,a.newproblem(e).success(function(e){e.success?b.editProblem(e.problem):i.errorMessage(e.message)})}function m(e){n.localStorage.setItem("problemid",e._id);var o={idproblem:e._id,nickname:b.nickname};r.emit("initProblem",o),t.go("problem.stakeholders")}function p(){o.logout(),t.go("init.login")}function d(){t.go("profile")}function g(t){e.show({controller:f,templateUrl:"views/pages/newproblem.html",parent:angular.element(document.body),targetEvent:t})}function f(e,t){e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.addNewProblem=function(e){b.startNewProblem(e),t.cancel()}}var b=this;b.nickname="",b.userid="",b.useremail="",b.problemList=[],b.problemCollaboratorList=[],b.loginInProgress=!0,b.getProblems=s,b.revomveProblem=c,b.startNewProblem=u,b.editProblem=m,b.doLogout=p,b.newProblem=g,b.editProfile=d,b.photo,f.$inject=["$scope","$mdDialog"]}angular.module("app").controller("startProblemController",e),e.$inject=["$mdDialog","$state","Auth","Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r){function n(){u.idproblem=e.localStorage.getItem("problemid"),t.getonion(u.idproblem).success(function(e){if(e.success){if(e.stakeholders.length>0){for(var t=1;t<u.sugestionValuesArray.length;t++)u.sugestionValues+=u.sugestionValuesArray[t]+", ";u.sugestionValues[u.sugestionValuesArray[u.sugestionValuesArray.length-1]]+".";for(var r=0;r<e.stakeholders.length;r++)for(var n=0;n<u.stakeholderList.length;n++){var a={_id:e.stakeholders[r]._id,onionlayer:e.stakeholders[r].onionlayer,values:e.stakeholders[r].values,name:e.stakeholders[r].name,description:e.stakeholders[r].description,openEdit:e.stakeholders[r].openEdit,x:e.stakeholders[r].x,y:e.stakeholders[r].y,newValues:[]};e.stakeholders[r].onionlayer!=u.stakeholderList[n].onionlayer||u.stakeholderList[n].stakeholders.push(a)}}u.inProcessing=!1}else o.errorMessage(e.message)})}function a(e){e.openEdit=!0}function i(e){e.openEdit=!1}function s(e,t){for(var o=[],n=0;n<t.values.length;n++)t.values[n]!=e&&o.push(t.values[n]);t.values=o,r.emit("broadcastOnionSave",t)}function l(e){if(""===e.newValues||void 0===e.newValues)o.errorMessage("Valor não especificado.");else{for(var t=e.newValues.split(","),n=0;n<t.length;n++)c(e.values,t[n])?o.errorMessage("Duplicate value: "+t[n]):e.values.push(t[n]);e.newValues="",e.openEdit=!1,r.emit("broadcastOnionSave",e)}}function c(e,t){for(var o=0;o<e.length;o++)if(t===e[o])return!0;return!1}var u=this;u.inProcessing=!0,u.idProblem="",u.useremail="",u.newvalues="",u.initValueIdentificationFrame=n,u.setSuggestionShow=a,u.leaveSuggestionShow=i,u.removeValueIdentication=s,u.setValueIdentication=l,u.sugestionValues="",u.stakeholderList=[{onionlayer:"Community",stakeholders:[]},{onionlayer:"Market",stakeholders:[]},{onionlayer:"Source",stakeholders:[]},{onionlayer:"Contribution",stakeholders:[]},{onionlayer:"Technico",stakeholders:[]}],u.sugestionValuesArray=["Acessibilidade","Adaptabilidade","Estética","Autonomia","Disponibilidade","Consciência","Colaboração","Conversação","Emoção e Afeto","Grupos","Identidade","Consentimento informado","Meta-comunicação","Normas","Objeto","Portabilidade","Presença","Privacidade","Propriedade","Reciprocidade, Relacionamento, Reputação","Escalabilidade","Segurança","Compartilhamento","Confiança","Usabilidade","Visibilidade"],r.on("onBroadcastOnionSave",function(e){angular.forEach(u.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.newValues=[])})})}angular.module("app").controller("valueIdentificationFrameController",e),e.$inject=["$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,r){function n(){t.go("startproblem")}function a(){s.userid=e.localStorage.getItem("userid"),void 0!==s.userid}function i(t){var o={userid:e.localStorage.getItem("userid"),photo:t};r.uploadPhoto(o).success(function(o){o.success?e.localStorage.setItem("photo",t):toastApp.errorMessage("-----")})}var s=this;s.startProfile=a,s.uploadInProgress=!0,s.uploadProgress=0,s.userid,s.savePhoto=i,s.systemReturn=n,s.myImage="",s.myCroppedImage="";var l=function(e){var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){o.$apply(function(t){t.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",l)}angular.module("app").controller("profileController",e),e.$inject=["$window","$state","$scope","signupService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i,s,l){function c(e){o.create(e).success(function(t){t.success?(n.errorMessage(s("translate")("WELCOME_SYSTEM")+e.nickname),r.go("init.login")):n.errorMessage("Email Já cadastrado")})}function u(t){e.use(t)}function m(e){o.rescuePassword(e).success(function(t){t.success?(n.errorMessage("Email com instruções enviado para "+e.email),r.go("init.login")):n.errorMessage("Error")})}function p(e){o.changePassword(e).success(function(e){e.success?(n.errorMessage("Senha alterada com sucesso. Faça login com a nova senha."),r.go("init.login")):n.errorMessage("Error")})}var d=this;d.message="",d.save=c,d.rescuePassword=m,d.changePassword=p,d.setLang=u,d.loginInProgress=!1}angular.module("app").controller("signupController",e),e.$inject=["$translate","$window","signupService","$state","toastApp","AuthToken","Auth","$filter","$stateParams"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(i,t)}function r(t){return e.post(s,t)}function n(o){var r=t.search();return e.get(l+"?mytoken="+r.mytoken+"&password="+o.password)}function a(t){return e.post(c,t)}var i="/api/signup/",s="/api/rescuepasswd/",l="/api/rescuepasswd/newpasswd/",c="/api/profile/photo/",u={create:o,rescuePassword:r,changePassword:n,uploadPhoto:a};return u}angular.module("app").factory("signupService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e){var t=e.extendPalette("teal",{50:"E0F2F1",100:"B2DFDB",200:"80CBC4",300:"4DB6AC",400:"26A69A",500:"009688",600:"00897B",700:"00796B",800:"00695C",900:"004D40",A100:"A7FFEB",A200:"64FFDA",A400:"1DE9B6",A700:"00BFA5",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0});e.definePalette("teal",t),e.theme("default").primaryPalette("teal").accentPalette("orange")}angular.module("app").config(e),e.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";angular.module("authService",[]).factory("Auth",["$http","$q","AuthToken",function(e,t,o){var r={};return r.login=function(t,r){return e.post("/api/login",{email:t,password:r}).success(function(e){return o.setToken(e.token),e})},r.logout=function(){o.setToken()},r.isLoggedIn=function(){return o.getToken()?!0:!1},r.getUser=function(r){return o.getToken()?e.get("/api/me/?userid="+r):t.reject({message:"User has no token"})},r}]).factory("AuthToken",["$window",function(e){var t={};return t.getToken=function(){return e.localStorage.getItem("token")},t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token")},t}]).factory("AuthInterceptor",["$q","$location","AuthToken",function(e,t,o){var r={};return r.request=function(e){var t=o.getToken();return t&&(e.headers["x-access-token"]=t),e},r}])}(),angular.module("DropDSC",[]).directive("draggable",["$document","Socket",function(e,t){return{restrict:"A",replace:!0,link:function(t,o,r){function n(e){var r=e.target.id;"svg"==r&&(r=""),t.stakeholder.onionlayer=r,y=e.pageY-130,x=e.pageX,o.css({top:y+"px",left:x+"px"}),t.stakeholder.x=x+"px",t.stakeholder.y=y+"px"}function a(){e.unbind("mousemove",n),e.unbind("mouseup",a)}o.on("mousedown",function(t){"stakeholder"==t.target.id.substring(0,11)&&(t.preventDefault(),e.bind("mousemove",n),e.bind("mouseup",a))})}}}]),function(){"use strict";function e(e,t,o,r,n,a,i){function s(t){e.use(t)}function l(e){u.inProcessing=!0,u.error="",r.login(e.email,e.password).success(function(e){n.localStorage.setItem("useremail",e.email),n.localStorage.setItem("userid",e.id),n.localStorage.setItem("nickname",e.nickname),u.setLang(e.language),u.inProcessing=!1,r.getUser(e.id).then(function(t){i.errorMessage(a("translate")("WELCOME_SYSTEM")+": "+e.nickname),e.success?(n.localStorage.setItem("photo",t.data.photo),o.go("startproblem")):i.errorMessage("Usu�rio e senha n�o conferem.")})})}function c(){r.logout(),o("init")}var u=this;u.inProcessing=!1,u.setLang=s,u.doLogout=c,u.doLogin=l,u.loggedIn=r.isLoggedIn(),t.$on("$routeChangeStart",function(){u.loggedIn=r.isLoggedIn(),r.getUser().then(function(e){u.user=e.data})})}angular.module("app").controller("loginController",e),e.$inject=["$translate","$rootScope","$state","Auth","$window","$filter","toastApp"]}(),function(){"use strict";angular.module("app").service("Socket",["$location","$timeout",function(e,t){this.socket=io(),this.on=function(e,o){this.socket&&this.socket.on(e,function(e){t(function(){o(e)})})},this.emit=function(e,t){this.socket&&this.socket.emit(e,t)},this.removeListener=function(e){this.socket&&this.socket.removeListener(e)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRzYy5hcHAuanMiLCJ0b2FzdC5zZXJ2aWNlLmpzIiwicm91dGVyLmFwcC5qcyIsImFwcC5kc2MubWluLmpzIiwibGFuZ3VhZ2UvdHJhbnNsYXRlLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2NhcmYuY29udHJvbGxlci5qcyIsInByb2JsZW0vY2hhdC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9jb2xsYWJvcmF0b3JzLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2RzY3Jlc3BvcnQuY29udHJvbGxlci5qcyIsInByb2JsZW0vZXZhbHVhdGlvbmZyYW1ld29yay5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9tZW51LnByb2JsZW0uY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3Byb2JsZW0ucmVwb3J0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3Byb2JsZW0uc2VydmljZS5qcyIsInByb2JsZW0vc2VtaW90aWNmcmFtZXdvcmsuZWRpdC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9zdGFrZWhvbGRlci5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3N0YXJ0LnByb2JsZW0uY29udHJvbGxlci5qcyIsInByb2JsZW0vdmFsdWVkZW50aWZpY2F0aW9uZnJhbWUuY29udHJvbGxlci5qcyIsInVzZXIvcHJvZmlsZS5jb250cm9sbGVyLmpzIiwidXNlci9zaWdudXAuY29udHJvbGxlci5qcyIsInVzZXIvc2lnbnVwLnNlcnZpY2UuanMiLCJhcHAuY29uZmlnLmpzIiwiYXV0aC5zZXJ2aWNlLmpzIiwiZHJhZy5kc2MuanMiLCJsb2dpbi5jb250cm9sbGVyLmpzIiwic29ja2V0LnNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwidG9hc3RBcHAiLCIkbWRUb2FzdCIsImVycm9yTWVzc2FnZSIsInRoaXMiLCJtZXNzYWdlIiwic2hvdyIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsImFjdGlvbiIsImhpZ2hsaWdodEFjdGlvbiIsInBvc2l0aW9uIiwiaGlkZURlbGF5Iiwic2VydmljZSIsInNlbGYiLCJjbG9zZVRvYXN0IiwiaGlkZSIsImZhY3RvcnkiLCIkaW5qZWN0Iiwicm91dGVzIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwiY29udGVudC10YWIiLCJwcm9ibGVtLWRlc2NyaXB0aW9uIiwiZHNjLWFydGlmYWN0Iiwib3RoZXJ3aXNlIiwiaW5pdExhbmd1YWdlIiwiJHRyYW5zbGF0ZVByb3ZpZGVyIiwidXNlU3RhdGljRmlsZXNMb2FkZXIiLCJwcmVmaXgiLCJzdWZmaXgiLCJwcmVmZXJyZWRMYW5ndWFnZSIsInVzZVNhbml0aXplVmFsdWVTdHJhdGVneSIsInVzZUxvY2FsU3RvcmFnZSIsImxhbmd1YWdlQ29udHJvbGxlciIsIiR0cmFuc2xhdGUiLCJzZXRMYW5nIiwibGFuZ0tleSIsInVzZSIsImNoYW5nZUxhbmd1YWdlIiwicmVzdHJpY3QiLCJkaXJlY3RpdmUiLCJjYXJmQ29udHJvbGxlciIsIiR3aW5kb3ciLCJTb2NrZXQiLCJwcm9ibGVtU2VydmljZSIsImluaXRDYXJmIiwiaWRQcm9ibGVtIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImdldGNhcmYiLCJzdWNjZXNzIiwiZGF0YSIsImxvY2FsU3Rha2Vob2xkZXJzIiwic3Rha2Vob2xkZXJzIiwic3Rha2Vob2xkZXJMaXN0IiwiY2FyZkxpc3QiLCJjYXJmIiwiY2FyZlByaW9yaXR5TGlzdCIsImxvY2FsUHJpb3JpdHlMaXN0IiwiaW5Qcm9jZXNzaW5nIiwicmVzZXRDYXJmIiwiX2lkIiwicG1zIiwidmFsdWVzIiwicHJpb3JpdHkiLCJyZXF1aXJlbWVudCIsInZhbHVlTGlzdCIsImFkZHBtc3ZhbHVlIiwibGVuZ3RoIiwiZW1pdCIsInJlbW92ZUNBUkYiLCJpbmRleCIsIm9iaiIsInNlbGVjdFBNU1ZhbHVlIiwidW5kZWZpbmVkIiwiZm9yRWFjaCIsImNhcmZQTVNWYWx1ZSIsInBtc192YWx1ZSIsInNldFByaW90aXR5IiwiYWRkTGlzdFZhbHVlIiwibmV3dmFsdWUiLCJpIiwic3BsaWNlIiwiYWRkU3Rha2Vob2xkZXIiLCJuZXdTdGFrZWhvbGRlciIsIm9uIiwiaWQiLCJjaGF0RFNDIiwiJHRpbWVvdXQiLCJvcGVuQ2hhdCIsImlzT3BlbkNoYXQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZm9jdXMiLCJpbml0SGlzdG9yeUNoYXQiLCJuaWNrbmFtZSIsInBob3RvIiwiZ2V0aGlzdG9yeWNoYXQiLCJoaXN0b3J5Y2hhdCIsInRtcCIsIkRhdGUiLCJ0aW1lIiwibXNuIiwibXNnIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJtZXNzYWdlcyIsInNob3dSZXBsYXkiLCJyZXBsYXkiLCJzZW5kTWVzc2FnZSIsImNoYXRtc2ciLCJuZXdtc2ciLCJ1c2VyTGlzdCIsImNvbnRyb2xsZXJDb2xsYWJvcmF0b3JzIiwiaW5pdENvbGxhYm9yYXRvcnMiLCJ1c2VyZW1haWwiLCJnZXRjb2xsYWJvcmF0b3JzIiwiY29sbGFib3JhdG9ycyIsInNlYXJjaENhbGxhYm9yYXRpb24iLCJlbWFpbCIsImFkZENvbGxhYm9yYXRvciIsImludml0ZSIsImlkcHJvYmxlbSIsInJlbW92ZUNvbGxhYm9yYXRvciIsInBlb3BsZSIsInJlbW92ZWNvbGxhYm9yYXRvcnMiLCJkc2NSZXBvcnRDb250cm9sbGVyIiwiYnVpZFJlcG9ydCIsImVsZW1lbnQiLCJodG1sIiwicGRmIiwianNQREYiLCJhZGRIVE1MIiwicGFnZXNwbGl0IiwiZGlzcG9zZSIsInNhdmUiLCJldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlciIsImluaXRFdmFsdWF0aW9uIiwiZ2V0ZXZhbHVhdGlvbiIsImV2YWx1YXRpb25mcmFtZXdvcmtMaXN0IiwiZXZhbHVhdGlvbmZyYW1ld29yayIsInNhdmVEaXNjdXRpb24iLCJzdGFrZWhvbGRlciIsInNldE9wZW5FZGl0RGlzY3V0aW9uIiwiY3VycmVudFN0YWtlaG9sZGVyIiwib3BlbkVkaXQiLCJvbmlvbmxheWVyIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicHJvYmxlbXMiLCJzb2x1dGlvbnMiLCJzdGFrZWhvbGRlck9uaW9uIiwiY29uc29sZSIsImxvZyIsIm1lbnVQcm9ibGVtYUNvbnRyb2xsZXIiLCJBdXRoIiwiJHN0YXRlIiwiZ2V0Q3VycmVudFByb2JsZW0iLCJnZXRwcm9ibGVtIiwicHJvYmxlbSIsImluaXRzb2NrZXRwcm9ibGVtIiwic3lzdGVtUmV0dXJuIiwiZ28iLCJmb3JtQWRkQ29sbGFib3JhdG9ycyIsImZvcm1Qcm9ibGVtUmVwb3J0IiwiZWRpdERlc2NyaXB0aW9uUHJvYmxlbSIsImRvTG9nb3V0IiwibG9nb3V0IiwiZWRpdFByb2JsZW1hQ29udHJvbGxlciIsInNldFVwZGF0ZSIsInVwZGF0ZVRydWUiLCJwcm9ibGVtVXBkYXRlIiwidXBkYXRlIiwic2F2ZURlc2NyaXB0aW9uIiwicmV0b3JubyIsIiRpbmplY3RyZSIsInByb2JsZW1SZXBvcnRDb250cm9sbGVyIiwiaW5pdFByb2JsZW1QZXBvcnQiLCJnZXRwcm9ibGVtcmVwb3J0IiwiJGh0dHAiLCIkbG9jYXRpb24iLCJuZXdwcm9ibGVtIiwicG9zdCIsIkFQSV9ST1VURV9ORVdQUk9CTEVNIiwiZ2V0IiwiQVBJX1JPVVRFX0dFVFBST0JMRU1SRVBPUlQiLCJBUElfUk9VVEVfR0VUUFJPQkxFTSIsImdldHVzZXJwcm9ibGVtcyIsIkFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVMiLCJBUElfUk9VVEVfR0VUQ09MTEFCT1JBVE9SUyIsIkFQSV9ST1VURV9JTlZJVEUiLCJnZXRvbmlvbiIsIkFQSV9ST1VURV9HRVRPTklPTiIsIkFQSV9ST1VURV9HRVRFVkFMVUFUSU9OIiwiZ2V0c2VtaW90aWMiLCJBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksiLCJBUElfUk9VVEVfR0VUQ0FSRiIsInJlbW92ZXByb2JsZW0iLCJBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSIsImdldHByb2JsZW1zY29sbGFib3JhdG9yIiwiQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiIsIkFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IiLCJBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQiLCJzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIiLCJpbml0U2VtaW90aWNGcmFtZXdvcmsiLCJzZW1pb3RpY2ZyYW1ld29yayIsInNhdmVTb2NpYWxXb3JsZCIsInRleHQiLCJmbGFnU2F2ZSIsInNhdmVQcmFnbWF0aWMiLCJzYXZlU2VtYW50aWMiLCJzYXZlU3ludGF0aWMiLCJzYXZlRW1waXJpY2FsIiwic2F2ZVBoeXNpY2FsIiwic29jaWFsd29ybGQiLCJwcmFnbWF0aWMiLCJzZW1pb3RpY3JhbWV3b3JrIiwic3ludGF0aWMiLCJlbXBpcmljYWwiLCJwaHlzaWNhbCIsInN0YWtlaG9sZGVyQ29udHJvbGxlciIsIiRtZERpYWxvZyIsImludGl0T25pb24iLCJzYXZlU3Rha2Vob2xkZXIiLCJzZXRPcGVuRWRpdCIsInJlbW92ZVBvc3RJdCIsImRlbFBvc3RJdCIsImV2IiwiY29uZmlybSIsInBhcmVudCIsImJvZHkiLCJ0aXRsZSIsImNvbnRlbnQiLCJhcmlhTGFiZWwiLCJvayIsImNhbmNlbCIsInRhcmdldEV2ZW50IiwidGhlbiIsImFkZFBvc3RJdCIsImUiLCJjYW1hZGEiLCJ4IiwicGFnZVgiLCJ5IiwicGFnZVkiLCJhY2VuZGUiLCJzZXRBdHRyaWJ1dGUiLCJhcGFnYSIsIm1vdmUiLCJ6aW5kZXgiLCJzdHlsZSIsImRpc3BsYXkiLCJzdGFydFByb2JsZW1Db250cm9sbGVyIiwiZ2V0UHJvYmxlbXMiLCJ1c2VyaWQiLCJyZXBsYWNlIiwic3Vic3RyaW5nIiwicHJvYmxlbUxpc3QiLCJwcm9ibGVtQ29sbGFib3JhdG9yTGlzdCIsImxvZ2luSW5Qcm9ncmVzcyIsImRlbGV0ZVByb2JsZW0iLCJwcm9ibGVtaWQiLCJyZXZvbXZlUHJvYmxlbSIsInN0YXJ0TmV3UHJvYmxlbSIsImVkaXRQcm9ibGVtIiwic2V0SXRlbSIsImVkaXRQcm9maWxlIiwibmV3UHJvYmxlbSIsIkRpYWxvZ0NvbnRyb2xsZXIiLCIkc2NvcGUiLCJhZGROZXdQcm9ibGVtIiwidmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlciIsImluaXRWYWx1ZUlkZW50aWZpY2F0aW9uRnJhbWUiLCJrIiwic3VnZXN0aW9uVmFsdWVzQXJyYXkiLCJzdWdlc3Rpb25WYWx1ZXMiLCJqIiwibmV3VmFsdWVzIiwic2V0U3VnZ2VzdGlvblNob3ciLCJsZWF2ZVN1Z2dlc3Rpb25TaG93IiwicmVtb3ZlVmFsdWVJZGVudGljYXRpb24iLCJ2YWx1ZSIsIm5ld0xpc3QiLCJzZXRWYWx1ZUlkZW50aWNhdGlvbiIsInZhbHVlc0xpc3QiLCJzcGxpdCIsImZpbmRWYWx1ZSIsImxpc3QiLCJuZXd2YWx1ZXMiLCJwcm9maWxlQ29udHJvbGxlciIsInNpZ251cFNlcnZpY2UiLCJzdGFydFByb2ZpbGUiLCJzYXZlUGhvdG8iLCJteWltYWdlIiwidXNlclBob3RvIiwidXBsb2FkUGhvdG8iLCJ1cGxvYWRJblByb2dyZXNzIiwidXBsb2FkUHJvZ3Jlc3MiLCJteUltYWdlIiwibXlDcm9wcGVkSW1hZ2UiLCJoYW5kbGVGaWxlU2VsZWN0IiwiZXZ0IiwiZmlsZSIsImN1cnJlbnRUYXJnZXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCIkYXBwbHkiLCJ0YXJnZXQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwicXVlcnlTZWxlY3RvciIsInNpZ251cENvbnRyb2xsZXIiLCJBdXRoVG9rZW4iLCIkZmlsdGVyIiwiJHN0YXRlUGFyYW1zIiwic2F2ZVVzZXIiLCJ1c2VyIiwiY3JlYXRlIiwicmVzY3VlUGFzc3dvcmQiLCJ1c2VyRW1haWwiLCJjaGFuZ2VQYXNzd29yZCIsIkFQSV9ST1VURV9VU0VSIiwiQVBJX1JPVVRFX1JFU0NVRVBBU1NXT1JEIiwibXl0b2tlblVSTCIsInNlYXJjaCIsIkFQSV9ST1VURV9TRVRORVdQQVNTV09SRCIsIm15dG9rZW4iLCJwYXNzd29yZCIsIkFQSV9ST1VURV9VUERBVEVQSE9UTyIsImFwcENvbmZpZyIsIiRtZFRoZW1pbmdQcm92aWRlciIsIm5lb25SZWRNYXAiLCJleHRlbmRQYWxldHRlIiwiNTAiLCIxMDAiLCIyMDAiLCIzMDAiLCI0MDAiLCI1MDAiLCI2MDAiLCI3MDAiLCI4MDAiLCI5MDAiLCJBMTAwIiwiQTIwMCIsIkE0MDAiLCJBNzAwIiwiY29udHJhc3REZWZhdWx0Q29sb3IiLCJjb250cmFzdERhcmtDb2xvcnMiLCJjb250cmFzdExpZ2h0Q29sb3JzIiwiZGVmaW5lUGFsZXR0ZSIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwiJHEiLCJhdXRoRmFjdG9yeSIsImxvZ2luIiwic2V0VG9rZW4iLCJ0b2tlbiIsImlzTG9nZ2VkSW4iLCJnZXRUb2tlbiIsImdldFVzZXIiLCJyZWplY3QiLCJhdXRoVG9rZW5GYWN0b3J5IiwicmVtb3ZlSXRlbSIsImludGVyY2VwdG9yRmFjdG9yeSIsInJlcXVlc3QiLCJoZWFkZXJzIiwiJGRvY3VtZW50IiwibGluayIsInNjb3BlIiwiYXR0ciIsIm1vdXNlbW92ZSIsImV2ZW50IiwiaWRfZGl2IiwiY3NzIiwidG9wIiwibGVmdCIsIm1vdXNldXAiLCJ1bmJpbmQiLCJwcmV2ZW50RGVmYXVsdCIsImJpbmQiLCJsb2dpbkNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiZG9Mb2dpbiIsImVycm9yIiwibGFuZ3VhZ2UiLCJ1c2VyRGF0YSIsImxvZ2dlZEluIiwiJG9uIiwic29ja2V0IiwiaW8iLCJldmVudE5hbWUiLCJjYWxsYmFjayIsInJlbW92ZUxpc3RlbmVyIl0sIm1hcHBpbmdzIjoiQ0FHQSxXQUNBLFlBRUFBLFNBQ0FDLE9BQUEsT0FBQSxZQUFB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QUFBLEtBQUEzUSxFQUFBNEMsVUFDQTVDLEVBQUFELFNBQ0FSLEVBQUFLLGFBQUE2TixRQUFBLFFBQUE0SCxFQUFBclYsS0FBQTZDLE9BQ0ErRCxFQUFBTSxHQUFBLGlCQUdBekssRUFBQUUsYUFBQSxxQ0FPQSxRQUFBMkssS0FDQVgsRUFBQVksU0FDQVgsRUFBQSxRQS9DQSxHQUFBckosR0FBQVgsSUFDQVcsR0FBQWlELGNBQUEsRUFDQWpELEVBQUF5QixRQUFBQSxFQUNBekIsRUFBQStKLFNBQUFBLEVBQ0EvSixFQUFBMlgsUUFBQUEsRUFNQTNYLEVBQUErWCxTQUFBM08sRUFBQThNLGFBRUF3QixFQUFBTSxJQUFBLG9CQUFBLFdBQ0FoWSxFQUFBK1gsU0FBQTNPLEVBQUE4TSxhQUNBOU0sRUFBQWdOLFVBQ0E5SCxLQUFBLFNBQUE3TCxHQUNBekMsRUFBQXVULEtBQUE5USxFQUFBQSxTQXJCQTdELFFBQ0FDLE9BQUEsT0FDQVcsV0FBQSxrQkFBQWlZLEdyQjhqRVFBLEVBQWdCclgsU0FBVyxhQUFjLGFBQWMsU0FBVSxPQUFRLFVBQVcsVUFBVyxlc0Jwa0V2RyxXQUVBLFlBRUF4QixTQUNBQyxPQUFBLE9BQ0FrQixRQUFBLFVBQ0EsWUFBQSxXQUNBLFNBQUE4SyxFQUFBL0YsR0FFQXpGLEtBQUE0WSxPQUFBQyxLQUtBN1ksS0FBQXNGLEdBQUEsU0FBQXdULEVBQUFDLEdBQ0EvWSxLQUFBNFksUUFDQTVZLEtBQUE0WSxPQUFBdFQsR0FBQXdULEVBQUEsU0FBQTFWLEdBQ0FxQyxFQUFBLFdBQ0FzVCxFQUFBM1YsUUFNQXBELEtBQUFzRSxLQUFBLFNBQUF3VSxFQUFBMVYsR0FDQXBELEtBQUE0WSxRQUNBNVksS0FBQTRZLE9BQUF0VSxLQUFBd1UsRUFBQTFWLElBSUFwRCxLQUFBZ1osZUFBQSxTQUFBRixHQUNBOVksS0FBQTRZLFFBQ0E1WSxLQUFBNFksT0FBQUksZUFBQUYiLCJmaWxlIjoiYXBwLmRzYy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnLFsnbmdJbWdDcm9wJywndG9hc3RTZXJ2aWNlJywndGV4dEFuZ3VsYXInLCdsdWVnZy5kaXJlY3RpdmVzJywgJ0Ryb3BEU0MnLCdhdXRoU2VydmljZScsJ3VpLnJvdXRlcicsJ25nTWF0ZXJpYWwnLCduZ01kSWNvbnMnLCduZ0Nvb2tpZXMnLCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXHJcbiAgICAgICAgLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhJbnRlcmNlcHRvcicpO1xyXG4gICAgICAgIH0pXHJcblxyXG59KSgpO1xyXG5cclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjcvMDYvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgndG9hc3RTZXJ2aWNlJyxbXSlcclxuICAgICAgICAuY29udHJvbGxlcigndG9hc3RDb250cm9sbGVyJywgZnVuY3Rpb24oJG1kVG9hc3QsdG9hc3RBcHApIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2UgPSAgdG9hc3RBcHAubWVzc2FnZTtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVRvYXN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5oaWRlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmFjdG9yeSggJ3RvYXN0QXBwJywgdG9hc3RBcHAgKTtcclxuXHJcbiAgICB0b2FzdEFwcC4kaW5qZWN0ID0gWyAnJG1kVG9hc3QnIF07XHJcblxyXG4gICAgZnVuY3Rpb24gdG9hc3RBcHAgKCRtZFRvYXN0KSB7XHJcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XHJcblxyXG4gICAgICAgIC8qZnVuY3Rpb24gZXJyb3JNZXNzYWdlKGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgICAgICAgIC50ZXh0Q29udGVudChlcnJvck1lc3NhZ2UpXHJcbiAgICAgICAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAgICAgICAuaGlkZURlbGF5KDgwMClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9Ki9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZXJyb3JNZXNzYWdlKGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3RvYXN0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvZHNjdG9hc3QuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIk9LXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0QWN0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInRvcCByaWdodFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVEZWxheTogNTAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSkoKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29uZmlnKHJvdXRlcyk7XHJcblxyXG4gICAgZnVuY3Rpb24gcm91dGVzKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuXHJcblxyXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdpbml0Jywge1xyXG4gICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9pbml0cGFnZS5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2luaXQubG9naW4nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdsb2dpbicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy91c2VybG9naW4uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2luaXQuc2lnbnVwJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnc2lnbnVwJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdGFiJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3NpZ251cC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cENvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2luaXQucmVzY3VlcGFzc3dvcmQnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdyZXNjdWVwYXNzd29yZCcsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9yZXNjdWVwYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cENvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3N0YXJ0cHJvYmxlbScsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9zdGFydHByb2JsZW0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9zdGFydHByb2JsZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc3RhcnRQcm9ibGVtQ29udHJvbGxlciBhcyB2bSdcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvZmlsZScsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9wcm9maWxlJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvZmlsZS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9maWxlQ29udHJvbGxlciBhcyB2bSdcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnZHNjcmVwb3J0Jywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2RzY3JlcG9ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvYmxlbXJlcG9ydC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Byb2JsZW1SZXBvcnRDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ25ld3Bhc3N3b3JkJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL25ld3Bhc3N3b3JkLzpteXRva2VuJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvbmV3cGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbnVwQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3Byb2JsZW0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21lbnVQcm9ibGVtQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmRlc2NyaXB0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2Rlc2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3Byb2JsZW0tZGVzY3JpcHRpb24nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvYmxlbWRlc2NyaXB0aW9uLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZWRpdFByb2JsZW1Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmNvbGxhYm9yYXRvcnMnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvY29sbGFib3JhdG9ycycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdwcm9ibGVtLWRlc2NyaXB0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2NvbGxhYm9yYXRvcnMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb250cm9sbGVyQ29sbGFib3JhdG9ycyBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5zdGFrZWhvbGRlcnMnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdzdGFrZWhvbGRlcnMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3N0YWtlaG9sZGVycy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YWtlaG9sZGVyQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5ldmFsdWF0aW9uZnJhbWV3b3JrJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnZXZhbHVhdGlvbmZyYW1ld29yaycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvZXZhbHVhdGlvbmZyYW1ld29yay5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5zZW1pb3RpY2ZyYW1ld29yaycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3NlbWlvdGljZnJhbWV3b3JrJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2RzYy1hcnRpZmFjdCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9zZW1pb3RpY2ZyYW1ld29yay5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5jYXJmJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnY2FyZicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvY2FyZi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NhcmZDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLnZpZicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3ZpZicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvdmlmLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9sb2dpbicpO1xyXG5cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiIsbnVsbCwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxOS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoaW5pdExhbmd1YWdlKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2xhbmd1YWdlQ29udHJvbGxlcicsbGFuZ3VhZ2VDb250cm9sbGVyKVxyXG4gICAgLmRpcmVjdGl2ZSgnY2hhbmdlTGFuZ3VhZ2UnLGNoYW5nZUxhbmd1YWdlKTtcclxuXHJcbmluaXRMYW5ndWFnZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlUHJvdmlkZXInXTtcclxubGFuZ3VhZ2VDb250cm9sbGVyLiRpbmplY3QgPSBbJyR0cmFuc2xhdGUnXTtcclxuXHJcbmZ1bmN0aW9uIGluaXRMYW5ndWFnZSAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVN0YXRpY0ZpbGVzTG9hZGVyKHtcclxuICAgICAgICAgICAgcHJlZml4OiAnYXBwL2xhbmd1YWdlL2xhbmctJyxcclxuICAgICAgICAgICAgc3VmZml4OiAnLmpzb24nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3koJ2VzY2FwZWQnKTtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlTG9jYWxTdG9yYWdlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxhbmd1YWdlQ29udHJvbGxlciAoJHRyYW5zbGF0ZSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgIGZ1bmN0aW9uIHNldExhbmcobGFuZ0tleSkge1xyXG4gICAgICAgICAgICAkdHJhbnNsYXRlLnVzZShsYW5nS2V5KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gY2hhbmdlTGFuZ3VhZ2UoKXtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdGVtcGxhdGVVcmwgOiBcImFwcC9sYW5ndWFnZS9jaGFuZ2VMYW5ndWFnZS5odG1sXCIsXHJcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxNC8wNy8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoXCJjYXJmQ29udHJvbGxlclwiLGNhcmZDb250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjYXJmQ29udHJvbGxlcigkd2luZG93LFNvY2tldCxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCl7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmlkUHJvYmxlbSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYudmFsdWVMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzID0gW107XHJcbiAgICAgICAgc2VsZi5hZGRwbXN2YWx1ZSA9IGFkZHBtc3ZhbHVlO1xyXG4gICAgICAgIHNlbGYucmVtb3ZlQ0FSRiA9IHJlbW92ZUNBUkY7XHJcbiAgICAgICAgc2VsZi5zZWxlY3RQTVNWYWx1ZSA9IHNlbGVjdFBNU1ZhbHVlO1xyXG4gICAgICAgIHNlbGYuc2V0UHJpb3RpdHkgPSBzZXRQcmlvdGl0eTtcclxuICAgICAgICBzZWxmLmFkZExpc3RWYWx1ZSA9IGFkZExpc3RWYWx1ZTtcclxuICAgICAgICBzZWxmLmFkZFN0YWtlaG9sZGVyID0gYWRkU3Rha2Vob2xkZXI7XHJcbiAgICAgICAgc2VsZi5jYXJmID0ge1xyXG4gICAgICAgICAgICBwbXM6IFwiXCIsXHJcbiAgICAgICAgICAgIHZhbHVlczogW10sXHJcbiAgICAgICAgICAgIHByaW9yaXR5OiBcIlwiLFxyXG4gICAgICAgICAgICByZXF1aXJlbWVudDogXCJcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuaW5pdENhcmYgPSBpbml0Q2FyZjtcclxuICAgICAgICBzZWxmLmNhcmZMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5jYXJmUHJpb3JpdHlMaXN0ID0gW107XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRDYXJmKCl7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGNhcmYoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9jYWxTdGFrZWhvbGRlcnMgPSBkYXRhLnN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmZMaXN0ID0gZGF0YS5jYXJmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBzZWxmLmxvY2FsUHJpb3JpdHlMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzZXRDYXJmKCl7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZiA9IHtcclxuICAgICAgICAgICAgICAgIF9pZDogXCJcIixcclxuICAgICAgICAgICAgICAgIHBtczogXCJcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlczogW10sXHJcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogXCJcIixcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzZWxmLnZhbHVlTGlzdCA9IFtdO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RDQVJGYWRkJywgZnVuY3Rpb24gKGNhcmYpIHtcclxuICAgICAgICAgICAgc2VsZi5jYXJmTGlzdC5wdXNoKGNhcmYpO1xyXG4gICAgICAgICAgICByZXNldENhcmYoKTtcclxuICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBzZWxmLmxvY2FsUHJpb3JpdHlMaXN0O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRwbXN2YWx1ZShjYXJmKXtcclxuXHJcbiAgICAgICAgICAgIGlmKGNhcmYucG1zID09PSBcIlwiKXtcclxuICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBQTVNcIik7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgaWYoY2FyZi52YWx1ZXMubGVuZ3RoIDwgMSApe1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBvbmUgb3IgbW9yZSBWYWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhcmYuc3Rha2Vob2xkZXJzLmxlbmd0aCA8IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZWxlY3Qgb25lIG9yIG1vcmUgU3Rha2Vob2xkZXIocylcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhcmYucHJpb3JpdHkgPT09IFwiXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IHByaW9yaXR5IFtMb3csIE1lZGl1bSBvciBIaWdoXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0Q0FSRmFkZCcsIGNhcmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZlByaW9yaXR5TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENBUkZyZW1vdmUnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgc2VsZi5jYXJmTGlzdC5zcGxpY2UoaWQsMSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNBUkYoaW5kZXgsY2FyZil7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICBjYXJmOiBjYXJmXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDQVJGcmVtb3ZlJywgb2JqKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZWxlY3RQTVNWYWx1ZShwbXMpe1xyXG4gICAgICAgICAgICBpZihwbXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuY2FyZlBNU1ZhbHVlLCBmdW5jdGlvbiAocG1zX3ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBtc192YWx1ZS5wbXMgPT0gcG1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi52YWx1ZUxpc3QgPSBwbXNfdmFsdWUudmFsdWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldFByaW90aXR5KHByaW9yaXR5KXtcclxuICAgICAgICAgICAgc2VsZi5jYXJmLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRMaXN0VmFsdWUobmV3dmFsdWUpe1xyXG4gICAgICAgICAgIGlmKHNlbGYuY2FyZi52YWx1ZXMubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMucHVzaChuZXd2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmNhcmYudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICBpZiAobmV3dmFsdWUgPT0gc2VsZi5jYXJmLnZhbHVlc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBzZWxmLmNhcmYudmFsdWVzLnB1c2gobmV3dmFsdWUpO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFN0YWtlaG9sZGVyKG5ld1N0YWtlaG9sZGVyKXtcclxuICAgICAgICAgICAgaWYoc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5wdXNoKG5ld1N0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld1N0YWtlaG9sZGVyID09IHNlbGYuY2FyZi5zdGFrZWhvbGRlcnNbaV0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5wdXNoKG5ld1N0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5sb2NhbFByaW9yaXR5TGlzdCA9IFsnTG93JywgJ01lZGl1bScsJ0hpZ2gnXTtcclxuXHJcbiAgICAgICAgc2VsZi5jYXJmUE1TVmFsdWUgPSBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJJbnRlcmFjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJZGVudGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk5vcm1zXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiQXNzb2NpYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udmVyc2F0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiR3JvdXBzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVsYXRpb25zaGlwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVHJ1c3RcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJMZWFybmluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJNZXRhLWNvbW11bmljYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJQbGF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkFlc3RoZXRpY3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJFbW90aW9uIGFuZCBBZmZlY3Rpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJQcm90ZWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkluZm9ybWVkIGNvbnNlcnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJSZXB1dGF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU2VjdXJpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJFeHBsb2l0YXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQWNjZXNzaWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk9iamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlByb3BlcnR5IChvd25lcnNoaXApXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVXNhYmlsaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiVGVwb3JhbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBdmFpbGFiaWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBd2FyZW5lc3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQcmVzZW5jZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlRlcnJpdG9yaWFsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlBvcnRhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJpdmFjeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNjYWxhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVmlzaWJpbGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkNsYXNzaWZpY2F0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkF1dG9ub215XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29sbGFib3JhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNoYXJpbmdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBZGFwdGFiaWxpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJTdWJzaXN0ZW5jZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJSZWNpcHJvY2l0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDE1LzA3LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2NoYXREU0MnLGNoYXREU0MpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNoYXREU0MoJHRpbWVvdXQsIFNvY2tldCwgcHJvYmxlbVNlcnZpY2UsICR3aW5kb3cpIHtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYubmV3bXNnID0gXCJcIjtcclxuICAgICAgICBzZWxmLm1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgc2VsZi5yZXBsYXkgPSBmYWxzZTtcclxuICAgICAgICBzZWxmLm5pY2tuYW1lID0gXCJcIjtcclxuICAgICAgICBzZWxmLnVzZXJMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5pbml0SGlzdG9yeUNoYXQgPSBpbml0SGlzdG9yeUNoYXQ7XHJcbiAgICAgICAgc2VsZi5zaG93UmVwbGF5ID0gc2hvd1JlcGxheTtcclxuICAgICAgICBzZWxmLnNlbmRNZXNzYWdlID0gc2VuZE1lc3NhZ2U7XHJcbiAgICAgICAgc2VsZi5waG90byA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5vcGVuQ2hhdCA9IG9wZW5DaGF0O1xyXG4gICAgICAgIHNlbGYuaXNPcGVuQ2hhdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBvcGVuQ2hhdCgpe1xyXG4gICAgICAgICAgICBzZWxmLmlzT3BlbkNoYXQgPSAhc2VsZi5pc09wZW5DaGF0O1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZScpLmZvY3VzKClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRIaXN0b3J5Q2hhdCgpe1xyXG4gICAgICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgICAgICAgICAgc2VsZi5waG90byA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bob3RvJyk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGhpc3RvcnljaGF0KHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaGlzdG9yeWNoYXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShkYXRhLmhpc3RvcnljaGF0W2ldLnRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1zbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuaWNrbmFtZTogZGF0YS5oaXN0b3J5Y2hhdFtpXS5uaWNrbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGRhdGEuaGlzdG9yeWNoYXRbaV0ubXNnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IHRtcC5nZXREYXRlKCkgKyBcIi9cIiArICh0bXAuZ2V0TW9udGgoKSArIDEgKSsgXCIvXCIgKyB0bXAuZ2V0RnVsbFllYXIoKSArIFwiIFtcIiArIHRtcC5nZXRIb3VycygpICsgXCI6XCIgKyB0bXAuZ2V0TWludXRlcygpICsgXCJdIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKG1zbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2NoZWNrVXNlcnMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dSZXBsYXkoKXtcclxuICAgICAgICAgICAgaWYoc2VsZi5yZXBsYXkpe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5yZXBsYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlcGxheSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RDaGF0JywgZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICB2YXIgdG1wID0gbmV3IERhdGUob2JqW29iai5sZW5ndGggLTFdLnRpbWUpO1xyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmlja25hbWU6IG9ialtvYmoubGVuZ3RoIC0xXS5uaWNrbmFtZSxcclxuICAgICAgICAgICAgICAgIG1zZzogb2JqW29iai5sZW5ndGggLTFdLm1zZyxcclxuICAgICAgICAgICAgICAgIHRpbWU6IHRtcC5nZXREYXRlKCkgKyBcIi9cIiArICh0bXAuZ2V0TW9udGgoKSArIDEpICsgXCIvXCIgKyB0bXAuZ2V0RnVsbFllYXIoKSArIFwiIFtcIiArIHRtcC5nZXRIb3VycygpICsgXCI6XCIgKyB0bXAuZ2V0TWludXRlcygpICsgXCJdIFwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uQ2hlY2tVc2VycycsIGZ1bmN0aW9uICh1c2VyTGlzdCkge1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJMaXN0ID0gdXNlckxpc3Q7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKGNoYXRtc2cpe1xyXG4gICAgICAgICAgICBpZihjaGF0bXNnID09PSB1bmRlZmluZWQgfHwgY2hhdG1zZy5sZW5ndGggPCAyICl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENoYXQnLCBjaGF0bXNnKTtcclxuICAgICAgICAgICAgc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8qXHJcbnZhciBzZWxmID0gdGhpcztcclxuc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG5zZWxmLm1lc3NhZ2VzID0gW107XHJcbnNlbGYucmVwbGF5ID0gZmFsc2U7XHJcbnNlbGYubmlja25hbWUgPSBcIlwiO1xyXG5zZWxmLnVzZXJMaXN0ID0gW107XHJcbnNlbGYuaW5pdEhpc3RvcnlDaGF0ID0gaW5pdEhpc3RvcnlDaGF0O1xyXG5zZWxmLmNsb3NlID0gY2xvc2U7XHJcbnNlbGYuc2hvd1JlcGxheSA9IHNob3dSZXBsYXk7XHJcbnNlbGYuc2VuZE1lc3NhZ2UgPSBzZW5kTWVzc2FnZTtcclxuXHJcbmZ1bmN0aW9uIGNsb3NlKCkge1xyXG4gICAgJG1kU2lkZW5hdignY2hhdCcpLmNsb3NlKClcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRsb2cuZGVidWcoXCJjbG9zZSBjaGF0XCIpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0SGlzdG9yeUNoYXQoKXtcclxuICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgIHNlbGYucGhvdG8gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG90bycpO1xyXG4gICAgcHJvYmxlbVNlcnZpY2UuZ2V0aGlzdG9yeWNoYXQoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5oaXN0b3J5Y2hhdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShkYXRhLmhpc3RvcnljaGF0W2ldLnRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtc24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBkYXRhLmhpc3RvcnljaGF0W2ldLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGRhdGEuaGlzdG9yeWNoYXRbaV0ubXNnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxICkrIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKG1zbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIFNvY2tldC5lbWl0KCdjaGVja1VzZXJzJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dSZXBsYXkoKXtcclxuICAgIGlmKHNlbGYucmVwbGF5KXtcclxuICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgc2VsZi5yZXBsYXkgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5Tb2NrZXQub24oJ29uQnJvYWRjYXN0Q2hhdCcsIGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHZhciB0bXAgPSBuZXcgRGF0ZShvYmpbb2JqLmxlbmd0aCAtMV0udGltZSk7XHJcbiAgICBzZWxmLm1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgIG5pY2tuYW1lOiBvYmpbb2JqLmxlbmd0aCAtMV0ubmlja25hbWUsXHJcbiAgICAgICAgbXNnOiBvYmpbb2JqLmxlbmd0aCAtMV0ubXNnLFxyXG4gICAgICAgIHRpbWU6IHRtcC5nZXREYXRlKCkgKyBcIi9cIiArICh0bXAuZ2V0TW9udGgoKSArIDEpICsgXCIvXCIgKyB0bXAuZ2V0RnVsbFllYXIoKSArIFwiIFtcIiArIHRtcC5nZXRIb3VycygpICsgXCI6XCIgKyB0bXAuZ2V0TWludXRlcygpICsgXCJdIFwiXHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5Tb2NrZXQub24oJ29uQ2hlY2tVc2VycycsIGZ1bmN0aW9uICh1c2VyTGlzdCkge1xyXG4gICAgc2VsZi51c2VyTGlzdCA9IHVzZXJMaXN0O1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHNlbmRNZXNzYWdlKGNoYXRtc2cpe1xyXG4gICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENoYXQnLCBjaGF0bXNnKTtcclxuICAgIHNlbGYubmV3bXNnID0gXCJcIjtcclxufSovXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTAvMDcvMjAxNS5cclxuICovXHJcblxyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbnRyb2xsZXJDb2xsYWJvcmF0b3JzJywgY29udHJvbGxlckNvbGxhYm9yYXRvcnMpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXJDb2xsYWJvcmF0b3JzKCR3aW5kb3csU29ja2V0LHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwKXtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuaWRQcm9ibGVtID0gXCJcIjtcclxuICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnMgPSBbXTtcclxuICAgICAgICBzZWxmLnVzZXJlbWFpbCA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5pbml0Q29sbGFib3JhdG9ycyA9IGluaXRDb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgIHNlbGYuYWRkQ29sbGFib3JhdG9yID0gYWRkQ29sbGFib3JhdG9yO1xyXG4gICAgICAgIHNlbGYucmVtb3ZlQ29sbGFib3JhdG9yID0gcmVtb3ZlQ29sbGFib3JhdG9yO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0Q29sbGFib3JhdG9ycygpe1xyXG4gICAgICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJlbWFpbCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJlbWFpbCcpO1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRjb2xsYWJvcmF0b3JzKHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnMgPSBkYXRhLmNvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vU29ja2V0LmVtaXQoJ2NoZWNrVXNlcnMnKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZWFyY2hDYWxsYWJvcmF0aW9uKGVtYWlsKXtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHNlbGYuY29sbGFib3JhdG9ycy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZihlbWFpbCA9PSBzZWxmLmNvbGxhYm9yYXRvcnNbaV0uZW1haWwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZENvbGxhYm9yYXRvcihlbWFpbCl7XHJcbiAgICAgICAgICAgIGlmKHNlbGYudXNlcmVtYWlsID09IGVtYWlsKXtcclxuICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShzZWxmLnVzZXJlbWFpbCArIFwiIGlzIGVtYWlsIG9mIG93bmVyLlwiKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaENhbGxhYm9yYXRpb24oZW1haWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiVXN1YXJpbyBDYWRhc3RyYWRvLlwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludml0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWRwcm9ibGVtOiBzZWxmLmlkUHJvYmxlbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5pbnZpdGUoaW52aXRlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29sbGFib3JhdG9ycyA9IGRhdGEuY29sbGFib3JhdG9ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVDb2xsYWJvcmF0b3IocGVvcGxlKXtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgIGlkcHJvYmxlbTogc2VsZi5pZFByb2JsZW0sXHJcbiAgICAgICAgICAgICAgICBlbWFpbDogcGVvcGxlLmVtYWlsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UucmVtb3ZlY29sbGFib3JhdG9ycyhvYmopXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkNvbGFib3JhZG9yIGZvaSByZW1vdmlkbyBkbyBwcm9qZXRvLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb2xsYWJvcmF0b3JzID0gZGF0YS5jb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qU29ja2V0Lm9uKCdvbkNoZWNrVXNlcnMnLCBmdW5jdGlvbiAodXNlckxpc3QpIHtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCB1c2VyTGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyTGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgc2VsZi5jb2xsYWJvcmF0b3JzLmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyTGlzdFtpXSArICcgICAnICsgc2VsZi5jb2xsYWJvcmF0b3JzW2pdLm5pY2tuYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHVzZXJMaXN0W2ldID09PSBzZWxmLmNvbGxhYm9yYXRvcnNbal0ubmlja25hbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnNbal0ubmlja25hbWUgPSBzZWxmLmNvbGxhYm9yYXRvcnNbal0ubmlja25hbWUgKyAnIChvbmxpbmUpICc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pOyovXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyMi8wNy8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignZHNjUmVwb3J0Q29udHJvbGxlcicsZHNjUmVwb3J0Q29udHJvbGxlcik7XHJcblxyXG5mdW5jdGlvbiBkc2NSZXBvcnRDb250cm9sbGVyKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaWRwcm9ibGVtID0gJ2FqZmxhamZsamFsZmphbGpmJztcclxuICAgIHNlbGYuYnVpZFJlcG9ydCA9IGJ1aWRSZXBvcnQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYnVpZFJlcG9ydChlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGh0bWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFJlc3BvcnQnKTtcclxuICAgICAgICB2YXIgcGRmID0gbmV3IGpzUERGKCdsJywncHgnKTtcclxuICAgICAgICBwZGYuYWRkSFRNTChcclxuICAgICAgICAgICAgaHRtbCwgMCwgMCwge1xyXG4gICAgICAgICAgICAgICAgcGFnZXNwbGl0OiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGRpc3Bvc2Upe1xyXG4gICAgICAgICAgICAgICAgcGRmLnNhdmUoJ3Rlc3QucGRmJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2V2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyJyxldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlcik7XHJcblxyXG4gIGZ1bmN0aW9uIGV2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyICgkd2luZG93LHByb2JsZW1TZXJ2aWNlLFNvY2tldCx0b2FzdEFwcCl7XHJcblxyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHNlbGYuZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QgPVtdO1xyXG4gICAgICBzZWxmLmluaXRFdmFsdWF0aW9uID0gaW5pdEV2YWx1YXRpb247XHJcbiAgICAgIHNlbGYuc2V0T3BlbkVkaXREaXNjdXRpb24gPSBzZXRPcGVuRWRpdERpc2N1dGlvbjtcclxuICAgICAgc2VsZi5zYXZlRGlzY3V0aW9uID0gc2F2ZURpc2N1dGlvbjtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGluaXRFdmFsdWF0aW9uKCl7XHJcbiAgICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRldmFsdWF0aW9uKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLmV2YWx1YXRpb25mcmFtZXdvcmtMaXN0ID0gZGF0YS5ldmFsdWF0aW9uZnJhbWV3b3JrO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RGcmFtZVNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QsZnVuY3Rpb24oZXZhbHVhdGlvbmZyYW1ld29yayl7XHJcbiAgICAgICAgICAgICBpZiggZXZhbHVhdGlvbmZyYW1ld29yay5vbmlvbmxheWVyID09IGRhdGEub25pb25sYXllcil7XHJcbiAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGV2YWx1YXRpb25mcmFtZXdvcmsuc3Rha2Vob2xkZXJzLGZ1bmN0aW9uKHN0YWtlaG9sZGVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWtlaG9sZGVyLl9pZCA9PSBkYXRhLl9pZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub25pb25sYXllciA9IGRhdGEub25pb25sYXllcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZGF0YS5vcGVuRWRpdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnByb2JsZW1zID0gZGF0YS5wcm9ibGVtcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnNvbHV0aW9ucyA9IGRhdGEuc29sdXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmdW5jdGlvbiBzYXZlRGlzY3V0aW9uKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0RnJhbWVTYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBTb2NrZXQub24oJ29uVXBkYXRlU3Rha2Vob2xkZXInLCBmdW5jdGlvbiAoc3Rha2Vob2xkZXJPbmlvbikge1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhzdGFrZWhvbGRlck9uaW9uKTtcclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gc2V0T3BlbkVkaXREaXNjdXRpb24oY3VycmVudFN0YWtlaG9sZGVyKXtcclxuICAgICAgICAgIGN1cnJlbnRTdGFrZWhvbGRlci5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignbWVudVByb2JsZW1Db250cm9sbGVyJywgbWVudVByb2JsZW1hQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gbWVudVByb2JsZW1hQ29udHJvbGxlcihBdXRoLCAkc3RhdGUsICR3aW5kb3csIHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwLCBTb2NrZXQpe1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgLy9zZWxmLm9wZW5DaGF0ID0gYnVpbGRUb2dnbGVyKCdjaGF0Jyk7XHJcbiAgICAgICAgc2VsZi5mb3JtQWRkQ29sbGFib3JhdG9ycyA9IGZvcm1BZGRDb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgIHNlbGYuZWRpdERlc2NyaXB0aW9uUHJvYmxlbSA9IGVkaXREZXNjcmlwdGlvblByb2JsZW07XHJcbiAgICAgICAgc2VsZi5kb0xvZ291dCA9IGRvTG9nb3V0O1xyXG4gICAgICAgIHNlbGYuc3lzdGVtUmV0dXJuID0gc3lzdGVtUmV0dXJuO1xyXG4gICAgICAgIHNlbGYuZm9ybVByb2JsZW1SZXBvcnQgPSBmb3JtUHJvYmxlbVJlcG9ydDtcclxuICAgICAgICBzZWxmLmdldEN1cnJlbnRQcm9ibGVtID0gZ2V0Q3VycmVudFByb2JsZW07XHJcbiAgICAgICAgc2VsZi5uaWNrbmFtZTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q3VycmVudFByb2JsZW0oKXtcclxuICAgICAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHByb2JsZW0oc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbSA9IGRhdGEucHJvYmxlbTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBpbml0c29ja2V0cHJvYmxlbSA9IHtcclxuICAgICAgICAgICAgICAgIFwiaWRwcm9ibGVtXCI6IHNlbGYuaWRQcm9ibGVtLFxyXG4gICAgICAgICAgICAgICAgXCJuaWNrbmFtZVwiOiBzZWxmLm5pY2tuYW1lXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdpbml0UHJvYmxlbScsIGluaXRzb2NrZXRwcm9ibGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3lzdGVtUmV0dXJuKCl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnRwcm9ibGVtJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZm9ybUFkZENvbGxhYm9yYXRvcnMoKXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLmNvbGxhYm9yYXRvcnMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZvcm1Qcm9ibGVtUmVwb3J0KCl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnZHNjcmVwb3J0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBlZGl0RGVzY3JpcHRpb25Qcm9ibGVtKCkge1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2JsZW0uZGVzY3JpcHRpb24nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRvTG9nb3V0KCkge1xyXG4gICAgICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbigpe1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignZWRpdFByb2JsZW1Db250cm9sbGVyJyxlZGl0UHJvYmxlbWFDb250cm9sbGVyKTtcclxuZWRpdFByb2JsZW1hQ29udHJvbGxlci4kaW5qZWN0cmUgPSBbJyRzY29wZScsJ1NvY2tldCddO1xyXG5cclxuZnVuY3Rpb24gZWRpdFByb2JsZW1hQ29udHJvbGxlcihTb2NrZXQsICR0aW1lb3V0LHRvYXN0QXBwLCR3aW5kb3cscHJvYmxlbVNlcnZpY2UpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgdXBkYXRlVHJ1ZSA9IHRydWU7XHJcbiAgICBzZWxmLnByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi5wcm9ibGVtVXBkYXRlID0gcHJvYmxlbVVwZGF0ZTtcclxuICAgIHNlbGYuZ2V0Q3VycmVudFByb2JsZW0gPSBnZXRDdXJyZW50UHJvYmxlbTtcclxuICAgIHNlbGYuc2F2ZURlc2NyaXB0aW9uID0gc2F2ZURlc2NyaXB0aW9uO1xyXG4gICAgc2VsZi5uaWNrbmFtZTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50UHJvYmxlbSgpe1xyXG5cclxuICAgICAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHByb2JsZW0oc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbSA9IGRhdGEucHJvYmxlbTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB2YXIgaW5pdHNvY2tldHByb2JsZW0gPSB7XHJcbiAgICAgICAgICAgIFwiaWRwcm9ibGVtXCI6IHNlbGYuaWRQcm9ibGVtLFxyXG4gICAgICAgICAgICBcIm5pY2tuYW1lXCI6IHNlbGYubmlja25hbWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdpbml0UHJvYmxlbScsIGluaXRzb2NrZXRwcm9ibGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRVcGRhdGUoKXtcclxuICAgICAgICB1cGRhdGVUcnVlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQXR1YWxpemFyUHJvYmxlbWEnLCBmdW5jdGlvbiAocmV0b3Jubykge1xyXG4gICAgICAgIHNlbGYucHJvYmxlbS5kZXNjcmlwdGlvbiA9IHJldG9ybm8uZGVzY3JpcHRpb247XHJcbiAgICAgICAgc2VsZi5wcm9ibGVtLnVwZGF0ZSA9IHVwZGF0ZVRydWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9ibGVtVXBkYXRlKHByb2JsZW0pIHtcclxuICAgICAgICBwcm9ibGVtLnVwZGF0ZSA9IHVwZGF0ZVRydWU7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2F0dWFsaXphclByb2JsZW1hJywgcHJvYmxlbSk7XHJcbiAgICAgICAgaWYgKHVwZGF0ZVRydWUpIHtcclxuICAgICAgICAgICAgdXBkYXRlVHJ1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkdGltZW91dChzZXRVcGRhdGUsIDIwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlRGVzY3JpcHRpb24ocHJvYmxlbSkge1xyXG4gICAgICAgIHByb2JsZW0udXBkYXRlID0gdXBkYXRlVHJ1ZTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYXR1YWxpemFyUHJvYmxlbWEnLCBwcm9ibGVtKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbn1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxMi8wOC8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcigncHJvYmxlbVJlcG9ydENvbnRyb2xsZXInLHByb2JsZW1SZXBvcnRDb250cm9sbGVyKTtcclxuXHJcblxyXG4gICAgIGZ1bmN0aW9uIHByb2JsZW1SZXBvcnRDb250cm9sbGVyKCR3aW5kb3cscHJvYmxlbVNlcnZpY2UsdG9hc3RBcHAsJHN0YXRlKXtcclxuXHJcbiAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgc2VsZi5pZFByb2JsZW07XHJcbiAgICAgICAgIHNlbGYucHJvYmxlbTtcclxuICAgICAgICAgc2VsZi5pbml0UHJvYmxlbVBlcG9ydCA9IGluaXRQcm9ibGVtUGVwb3J0O1xyXG4gICAgICAgICBzZWxmLnN5c3RlbVJldHVybiA9IHN5c3RlbVJldHVybjtcclxuXHJcbiAgICAgICAgIGZ1bmN0aW9uIGluaXRQcm9ibGVtUGVwb3J0KCl7XHJcblxyXG4gICAgICAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuXHJcbiAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRwcm9ibGVtcmVwb3J0KHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW0gPSBkYXRhLnByb2JsZW07XHJcbiAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgIGZ1bmN0aW9uIHN5c3RlbVJldHVybigpe1xyXG4gICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLnN0YWtlaG9sZGVycycpO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgIH1cclxuXHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgncHJvYmxlbVNlcnZpY2UnLCBwcm9ibGVtU2VydmljZSk7XHJcblxyXG4gIHByb2JsZW1TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywnJGxvY2F0aW9uJ107XHJcblxyXG4gIGZ1bmN0aW9uIHByb2JsZW1TZXJ2aWNlKCRodHRwLCRsb2NhdGlvbikge1xyXG5cclxuICAgIHZhciBBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TID0gJy9hcGkvcHJvYmxlbS9nZXRwcm9ibGVtcyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3InO1xyXG4gICAgdmFyIEFQSV9ST1VURV9ORVdQUk9CTEVNID0gJy9hcGkvcHJvYmxlbS9uZXdwcm9ibGVtJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUUFJPQkxFTSA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFBST0JMRU1SRVBPUlQgPSAnL2FwaS9wcm9ibGVtL2dldHByb2JsZW1yZXBvcnQnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRDT0xMQUJPUkFUT1JTID0gJy9hcGkvcHJvYmxlbS9nZXRjb2xsYWJvcmF0b3JzJztcclxuICAgIHZhciBBUElfUk9VVEVfSU5WSVRFID0gJy9hcGkvcHJvYmxlbS9pbnZpdGUnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRPTklPTiA9ICcvYXBpL3Byb2JsZW0vZ2V0b25pb24nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRFVkFMVUFUSU9OID0gJy9hcGkvcHJvYmxlbS9nZXRldmFsdWF0aW9uJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksgPSAnL2FwaS9wcm9ibGVtL2dldHNlbWlvdGljJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUQ0FSRiA9ICcvYXBpL3Byb2JsZW0vZ2V0Y2FyZic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1JFTU9WRVBST0JMRU0gPSAnL2FwaS9wcm9ibGVtL3JlbW92ZXByb2JsZW0nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IgPSAnL2FwaS9wcm9ibGVtL3JlbW92ZWNvbGxhYm9yYXRvcic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVEhJU1RPUllDSEFUID0gJy9hcGkvcHJvYmxlbS9oaXN0b3J5Y2hhdCc7XHJcblxyXG4gICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgIG5ld3Byb2JsZW0gICAgICAgOiBuZXdwcm9ibGVtLFxyXG4gICAgICBnZXR1c2VycHJvYmxlbXMgIDogZ2V0dXNlcnByb2JsZW1zLFxyXG4gICAgICBnZXRwcm9ibGVtICAgICAgIDogZ2V0cHJvYmxlbSxcclxuICAgICAgZ2V0Y29sbGFib3JhdG9ycyA6IGdldGNvbGxhYm9yYXRvcnMsXHJcbiAgICAgIGludml0ZSAgICAgICAgICAgOiBpbnZpdGUsXHJcbiAgICAgIGdldG9uaW9uICAgICAgICAgOiBnZXRvbmlvbixcclxuICAgICAgZ2V0ZXZhbHVhdGlvbiAgICA6IGdldGV2YWx1YXRpb24sXHJcbiAgICAgIGdldHNlbWlvdGljICAgICAgOiBnZXRzZW1pb3RpYyxcclxuICAgICAgZ2V0Y2FyZiAgICAgICAgICA6IGdldGNhcmYsXHJcbiAgICAgIHJlbW92ZXByb2JsZW0gICAgOiByZW1vdmVwcm9ibGVtLFxyXG4gICAgICBnZXRwcm9ibGVtc2NvbGxhYm9yYXRvcjogZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3IsXHJcbiAgICAgIHJlbW92ZWNvbGxhYm9yYXRvcnMgOiByZW1vdmVjb2xsYWJvcmF0b3JzLFxyXG4gICAgICBnZXRoaXN0b3J5Y2hhdDogZ2V0aGlzdG9yeWNoYXQsXHJcbiAgICAgIGdldHByb2JsZW1yZXBvcnQgOiBnZXRwcm9ibGVtcmVwb3J0XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBzZXJ2aWNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIG5ld3Byb2JsZW0oZGF0YSkge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9ORVdQUk9CTEVNLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRwcm9ibGVtcmVwb3J0KGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRQUk9CTEVNUkVQT1JUICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRwcm9ibGVtKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRQUk9CTEVNICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXR1c2VycHJvYmxlbXMoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNUyArICc/ZW1haWw9JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRjb2xsYWJvcmF0b3JzKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRDT0xMQUJPUkFUT1JTICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbnZpdGUoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9JTlZJVEUsIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRvbmlvbihkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUT05JT04gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldGV2YWx1YXRpb24gKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRFVkFMVUFUSU9OICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRzZW1pb3RpYyAoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFNFTUlPVElDRlJBTUVXT1JLICsgJz9pZHByb2JsZW09JyArIGRhdGEgKVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldGNhcmYoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVENBUkYgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlcHJvYmxlbShkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3IoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiArICc/ZW1haWw9JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVjb2xsYWJvcmF0b3JzKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IgKyAnP2lkcHJvYmxlbT0nICsgZGF0YS5pZHByb2JsZW0gKyAnJmVtYWlsPScgKyBkYXRhLmVtYWlsICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0aGlzdG9yeWNoYXQoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVEhJU1RPUllDSEFUICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI5LzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3NlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlcicsc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyKTtcclxuXHJcbmZ1bmN0aW9uIHNlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlcihTb2NrZXQsJHdpbmRvdywgcHJvYmxlbVNlcnZpY2UsdG9hc3RBcHApe1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaWRwcm9ibGVtID0gXCJcIjtcclxuICAgIHNlbGYuc2F2ZVNvY2lhbFdvcmxkID0gc2F2ZVNvY2lhbFdvcmxkO1xyXG4gICAgc2VsZi5zYXZlUHJhZ21hdGljID0gc2F2ZVByYWdtYXRpYztcclxuICAgIHNlbGYuc2F2ZVNlbWFudGljID0gc2F2ZVNlbWFudGljO1xyXG4gICAgc2VsZi5zYXZlU3ludGF0aWMgPSBzYXZlU3ludGF0aWM7XHJcbiAgICBzZWxmLnNhdmVFbXBpcmljYWwgPSBzYXZlRW1waXJpY2FsO1xyXG4gICAgc2VsZi5zYXZlUGh5c2ljYWwgPSBzYXZlUGh5c2ljYWw7XHJcbiAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrID0gXCJcIjtcclxuICAgIHNlbGYuaW5pdFNlbWlvdGljRnJhbWV3b3JrID0gaW5pdFNlbWlvdGljRnJhbWV3b3JrO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRTZW1pb3RpY0ZyYW1ld29yaygpe1xyXG4gICAgICAgIHNlbGYuaWRwcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0c2VtaW90aWMoc2VsZi5pZHByb2JsZW0pXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsgPSBkYXRhLnNlbWlvdGljZnJhbWV3b3JrO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVTb2NpYWxXb3JsZCcsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5zb2NpYWx3b3JsZCA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlU29jaWFsV29ybGQodGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVNvY2lhbFdvcmxkJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlUHJhZ21hdGljJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnByYWdtYXRpYyA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlUHJhZ21hdGljKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVQcmFnbWF0aWMnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVTZW1hbnRpYycsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5zZW1pb3RpY3JhbWV3b3JrID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTZW1hbnRpYyh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlU2VtYW50aWMnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVTeW50YXRpYycsIGZ1bmN0aW9uICh0ZXh0LGZsYWdTYXZlKSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5zeW50YXRpYyA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlU3ludGF0aWModGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVN5bnRhdGljJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlRW1waXJpY2FsJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLmVtcGlyaWNhbCA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlRW1waXJpY2FsKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVFbXBpcmljYWwnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVQaHlzaWNhbCcsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5waHlzaWNhbCA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlUGh5c2ljYWwodGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVBoeXNpY2FsJywgb2JqKTtcclxuICAgIH1cclxufVxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI5LzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3N0YWtlaG9sZGVyQ29udHJvbGxlcicsc3Rha2Vob2xkZXJDb250cm9sbGVyKTtcclxuXHJcblxyXG5mdW5jdGlvbiBzdGFrZWhvbGRlckNvbnRyb2xsZXIoU29ja2V0LCR3aW5kb3cscHJvYmxlbVNlcnZpY2UsJG1kRGlhbG9nLHRvYXN0QXBwKXtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmlkcHJvYmxlbSA9IFwiXCI7XHJcbiAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IFtdO1xyXG4gICAgc2VsZi5zdGFrZWhvbGRlciA9IFwiXCI7XHJcbiAgICBzZWxmLmludGl0T25pb24gPSBpbnRpdE9uaW9uO1xyXG4gICAgc2VsZi5tb3ZlID0gZmFsc2U7XHJcbiAgICBzZWxmLmluUHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICBzZWxmLnNhdmVTdGFrZWhvbGRlciA9IHNhdmVTdGFrZWhvbGRlcjtcclxuICAgIHNlbGYuc2V0T3BlbkVkaXQgPSBzZXRPcGVuRWRpdDtcclxuICAgIHNlbGYuZGVsUG9zdEl0ID0gZGVsUG9zdEl0O1xyXG4gICAgc2VsZi5hZGRQb3N0SXQgPSBhZGRQb3N0SXQ7XHJcbiAgICBzZWxmLmFjZW5kZSA9IGFjZW5kZTtcclxuICAgIHNlbGYuYXBhZ2EgPSBhcGFnYTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbnRpdE9uaW9uKCl7XHJcbiAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRvbmlvbihzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBkYXRhLnN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuc3Rha2Vob2xkZXJMaXN0LCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgaWYgKHN0YWtlaG9sZGVyLl9pZCA9PSBkYXRhLl9pZCl7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5zdGFrZWhvbGRlciA9IGRhdGEuc3Rha2Vob2xkZXI7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBkYXRhLm9wZW5FZGl0O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueCA9IGRhdGEueDtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci56aW5kZXggPSAxMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTdGFrZWhvbGRlcihzdGFrZWhvbGRlcikge1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblNhdmUnLCBzdGFrZWhvbGRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uRWRpdCcsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLnN0YWtlaG9sZGVyTGlzdCwgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmKHN0YWtlaG9sZGVyLl9pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnppbmRleCA9IDk5OTk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXRPcGVuRWRpdChpZCl7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uRWRpdCcsIGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25SZW1vdmUnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICB2YXIgc3Rha2Vob2xkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YWtlaG9sZGVyXCIgK3NlbGYuc3Rha2Vob2xkZXJMaXN0W2lkXS5faWQpO1xyXG4gICAgICAgIHN0YWtlaG9sZGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3Quc3BsaWNlKGlkLDEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlUG9zdEl0KGluZGV4LHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcjogc3Rha2Vob2xkZXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblJlbW92ZScsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVsUG9zdEl0KGV2LGluZGV4LHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpKVxyXG4gICAgICAgICAgICAudGl0bGUoJ0RldGV0ZSBTdGFrZWhvbGRlcj8nKVxyXG4gICAgICAgICAgICAuY29udGVudCgnVGl0bGU6ICcgKyBzdGFrZWhvbGRlci5uYW1lKVxyXG4gICAgICAgICAgICAuYXJpYUxhYmVsKCdSZW1vdmUgU3Rha2Vob2xkZXInKVxyXG4gICAgICAgICAgICAub2soJ1llcyEnKVxyXG4gICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWwnKVxyXG4gICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVBvc3RJdChpbmRleCxzdGFrZWhvbGRlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uQWRkJywgZnVuY3Rpb24gKHJldG9ybm8pIHtcclxuICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdC5wdXNoKHJldG9ybm8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUG9zdEl0KGUsY2FtYWRhKSB7XHJcblxyXG4gICAgICAgIHZhciBuZXdTdGFrZWhvbGRlciA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcIm9uaW9ubGF5ZXJcIjogY2FtYWRhLFxyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJcIixcclxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcIm9wZW5FZGl0XCI6IHRydWUsXHJcbiAgICAgICAgICAgIFwieFwiOiBlLnBhZ2VYICsgJ3B4JyxcclxuICAgICAgICAgICAgXCJ5XCI6IChlLnBhZ2VZIC0gMTMwKSArICdweCdcclxuICAgICAgICB9O1xyXG4gICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uQWRkJywgbmV3U3Rha2Vob2xkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFjZW5kZShpZCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOycpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVnZW5kXCIraWQpLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgXCIwLjdcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgXCIwLjdcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXBhZ2EoaWQpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIitpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICd0ZXh0LWRlY29yYXRpb246IG5vbmU7Jyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWdlbmRcIitpZCkuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLCBcIjEuMFwiKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLCBcIjEuMFwiKTtcclxuICAgIH1cclxufVxyXG5cclxufSkoKTsiLCJcclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdzdGFydFByb2JsZW1Db250cm9sbGVyJyxzdGFydFByb2JsZW1Db250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzdGFydFByb2JsZW1Db250cm9sbGVyKCRtZERpYWxvZywgJHN0YXRlLEF1dGgsU29ja2V0LCAkd2luZG93LCBwcm9ibGVtU2VydmljZSx0b2FzdEFwcCApIHtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYubmlja25hbWUgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYudXNlcmlkID0gXCJcIjtcclxuICAgICAgICBzZWxmLnVzZXJlbWFpbCA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5wcm9ibGVtTGlzdCA9IFtdO1xyXG4gICAgICAgIHNlbGYucHJvYmxlbUNvbGxhYm9yYXRvckxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLmxvZ2luSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgc2VsZi5nZXRQcm9ibGVtcyA9IGdldFByb2JsZW1zO1xyXG4gICAgICAgIHNlbGYucmV2b212ZVByb2JsZW0gPSByZXZvbXZlUHJvYmxlbTtcclxuICAgICAgICBzZWxmLnN0YXJ0TmV3UHJvYmxlbSA9IHN0YXJ0TmV3UHJvYmxlbTtcclxuICAgICAgICBzZWxmLmVkaXRQcm9ibGVtID0gZWRpdFByb2JsZW07XHJcbiAgICAgICAgc2VsZi5kb0xvZ291dCA9IGRvTG9nb3V0O1xyXG4gICAgICAgIHNlbGYubmV3UHJvYmxlbSA9IG5ld1Byb2JsZW07XHJcbiAgICAgICAgc2VsZi5lZGl0UHJvZmlsZSA9IGVkaXRQcm9maWxlO1xyXG4gICAgICAgIHNlbGYucGhvdG87XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRQcm9ibGVtcygpe1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJpZCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpO1xyXG4gICAgICAgICAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgICAgICAgICAgc2VsZi51c2VyZW1haWwgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyZW1haWwnKTtcclxuICAgICAgICAgICAgc2VsZi5waG90byA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bob3RvJyk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHVzZXJwcm9ibGVtcyhzZWxmLnVzZXJlbWFpbClcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBkYXRhLnByb2JsZW1zLmxlbmd0aDsgaSsrICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uID0gZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZyxcIlwiKS5zdWJzdHJpbmcoMCw0NjApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbUxpc3QgPSBkYXRhLnByb2JsZW1zO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3Ioc2VsZi51c2VyZW1haWwpXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgZGF0YS5wcm9ibGVtcy5sZW5ndGg7IGkrKyApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbiA9IGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24ucmVwbGFjZSgvKDwoW14+XSspPikvaWcsXCJcIikuc3Vic3RyaW5nKDAsNDYwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW1Db2xsYWJvcmF0b3JMaXN0ID0gZGF0YS5wcm9ibGVtcztcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNlbGYubG9naW5JblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZWxldGVQcm9ibGVtKHByb2JsZW1pZCl7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLnJlbW92ZXByb2JsZW0ocHJvYmxlbWlkKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHNlbGYucHJvYmxlbUxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5wcm9ibGVtTGlzdFtpXS5faWQgPT0gcHJvYmxlbWlkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW1MaXN0LnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmV2b212ZVByb2JsZW0oZXYscHJvYmxlbSkge1xyXG4gICAgICAgICAgICAvLyBBcHBlbmRpbmcgZGlhbG9nIHRvIGRvY3VtZW50LmJvZHkgdG8gY292ZXIgc2lkZW5hdiBpbiBkb2NzIGFwcFxyXG4gICAgICAgICAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpKVxyXG4gICAgICAgICAgICAgICAgLnRpdGxlKCdEZXRldGUgUHJvYmxlbT8nKVxyXG4gICAgICAgICAgICAgICAgLmNvbnRlbnQoJ1RpdGxlOiAnICsgcHJvYmxlbS50aXRsZSlcclxuICAgICAgICAgICAgICAgIC5hcmlhTGFiZWwoJ1JlbW92ZSBQcm9ibGVtJylcclxuICAgICAgICAgICAgICAgIC5vaygnRGVzZWpvIHJlbW92ZXIhJylcclxuICAgICAgICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbCcpXHJcbiAgICAgICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlUHJvYmxlbShwcm9ibGVtLl9pZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3RhcnROZXdQcm9ibGVtKG5ld3Byb2JsZW0pe1xyXG4gICAgICAgICAgICBuZXdwcm9ibGVtLnVzZXJpZCA9IHNlbGYudXNlcmlkO1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5uZXdwcm9ibGVtKG5ld3Byb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZWRpdFByb2JsZW0oZGF0YS5wcm9ibGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBlZGl0UHJvYmxlbShwcm9ibGVtKSB7XHJcbiAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9ibGVtaWRcIixwcm9ibGVtLl9pZCk7XHJcbiAgICAgICAgICAgIHZhciBpbml0c29ja2V0cHJvYmxlbSA9IHtcclxuICAgICAgICAgICAgICAgIFwiaWRwcm9ibGVtXCI6cHJvYmxlbS5faWQsXHJcbiAgICAgICAgICAgICAgICBcIm5pY2tuYW1lXCI6IHNlbGYubmlja25hbWVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2luaXRQcm9ibGVtJywgaW5pdHNvY2tldHByb2JsZW0pO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2JsZW0uc3Rha2Vob2xkZXJzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkb0xvZ291dCgpIHtcclxuICAgICAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0LmxvZ2luJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGVkaXRQcm9maWxlKCkge1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2ZpbGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5ld1Byb2JsZW0oZXYpIHtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBEaWFsb2dDb250cm9sbGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvbmV3cHJvYmxlbS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRFdmVudDogZXZcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIERpYWxvZ0NvbnRyb2xsZXIoJHNjb3BlLCAkbWREaWFsb2cpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5oaWRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTmV3UHJvYmxlbSA9IGZ1bmN0aW9uKHByb2JsZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0TmV3UHJvYmxlbShwcm9ibGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuY2FuY2VsKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDIyLzA3LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCd2YWx1ZUlkZW50aWZpY2F0aW9uRnJhbWVDb250cm9sbGVyJywgdmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlcik7XHJcblxyXG5mdW5jdGlvbiB2YWx1ZUlkZW50aWZpY2F0aW9uRnJhbWVDb250cm9sbGVyKCR3aW5kb3cscHJvYmxlbVNlcnZpY2UsdG9hc3RBcHAsU29ja2V0KXtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmluUHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICBzZWxmLmlkUHJvYmxlbSA9IFwiXCI7XHJcbiAgICBzZWxmLnVzZXJlbWFpbCA9IFwiXCI7XHJcbiAgICBzZWxmLm5ld3ZhbHVlcyA9IFwiXCI7XHJcbiAgICBzZWxmLmluaXRWYWx1ZUlkZW50aWZpY2F0aW9uRnJhbWUgPSBpbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lO1xyXG4gICAgc2VsZi5zZXRTdWdnZXN0aW9uU2hvdyA9IHNldFN1Z2dlc3Rpb25TaG93O1xyXG4gICAgc2VsZi5sZWF2ZVN1Z2dlc3Rpb25TaG93ID0gbGVhdmVTdWdnZXN0aW9uU2hvdztcclxuICAgIHNlbGYucmVtb3ZlVmFsdWVJZGVudGljYXRpb24gPSByZW1vdmVWYWx1ZUlkZW50aWNhdGlvbjtcclxuICAgIHNlbGYuc2V0VmFsdWVJZGVudGljYXRpb24gPSBzZXRWYWx1ZUlkZW50aWNhdGlvbjtcclxuICAgIHNlbGYuc3VnZXN0aW9uVmFsdWVzID0gXCJcIjtcclxuICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJDb21tdW5pdHlcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIk1hcmtldFwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiU291cmNlXCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJDb250cmlidXRpb25cIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIlRlY2huaWNvXCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9XHJcbiAgICBdO1xyXG4gICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheSA9IFtcclxuICAgICAgICAnQWNlc3NpYmlsaWRhZGUnLCdBZGFwdGFiaWxpZGFkZScsJ0VzdMOpdGljYScsJ0F1dG9ub21pYScsICdEaXNwb25pYmlsaWRhZGUnLCAnQ29uc2Npw6puY2lhJywgJ0NvbGFib3Jhw6fDo28nLFxyXG4gICAgICAgICdDb252ZXJzYcOnw6NvJywgJ0Vtb8Onw6NvIGUgQWZldG8nLCAnR3J1cG9zJywgJ0lkZW50aWRhZGUnLCAnQ29uc2VudGltZW50byBpbmZvcm1hZG8nLCAnTWV0YS1jb211bmljYcOnw6NvJywgJ05vcm1hcycsXHJcbiAgICAgICAgJ09iamV0bycsICdQb3J0YWJpbGlkYWRlJywgJ1ByZXNlbsOnYScsICdQcml2YWNpZGFkZScsICdQcm9wcmllZGFkZScsICdSZWNpcHJvY2lkYWRlLCBSZWxhY2lvbmFtZW50bywgUmVwdXRhw6fDo28nLFxyXG4gICAgICAgICdFc2NhbGFiaWxpZGFkZScsICdTZWd1cmFuw6dhJywgJ0NvbXBhcnRpbGhhbWVudG8nLCAnQ29uZmlhbsOnYScsICdVc2FiaWxpZGFkZScsICdWaXNpYmlsaWRhZGUnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lKCl7XHJcbiAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRvbmlvbihzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdGFrZWhvbGRlcnMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGsgPSAxOyBrIDwgc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheS5sZW5ndGg7IGsrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXMgKz0gc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheVtrXSArICBcIiwgXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3VnZXN0aW9uVmFsdWVzW3NlbGYuc3VnZXN0aW9uVmFsdWVzQXJyYXlbc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheS5sZW5ndGgtMV1dICsgJy4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGRhdGEuc3Rha2Vob2xkZXJzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgc2VsZi5zdGFrZWhvbGRlckxpc3QubGVuZ3RoOyBqKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3Rha2Vob2xkZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmlvbmxheWVyIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ub25pb25sYXllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLnZhbHVlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5FZGl0IDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ub3BlbkVkaXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4IDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWVzIDogW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3Rha2Vob2xkZXJzW2ldLm9uaW9ubGF5ZXIgPT0gc2VsZi5zdGFrZWhvbGRlckxpc3Rbal0ub25pb25sYXllcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdFtqXS5zdGFrZWhvbGRlcnMucHVzaChzdGFrZWhvbGRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLnN0YWtlaG9sZGVyTGlzdCwgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFrZWhvbGRlci5faWQgPT0gZGF0YS5faWQpe1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuc3Rha2Vob2xkZXIgPSBkYXRhLnN0YWtlaG9sZGVyO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIubmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZGF0YS5vcGVuRWRpdDtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci55ID0gZGF0YS55O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIubmV3VmFsdWVzID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldFN1Z2dlc3Rpb25TaG93KHN0YWtlaG9sZGVyKXtcclxuICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbGVhdmVTdWdnZXN0aW9uU2hvdyhzdGFrZWhvbGRlcil7XHJcbiAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVWYWx1ZUlkZW50aWNhdGlvbih2YWx1ZSxzdGFrZWhvbGRlcil7XHJcbiAgICAgICAgdmFyIG5ld0xpc3QgPSBbXTtcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgc3Rha2Vob2xkZXIudmFsdWVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYoc3Rha2Vob2xkZXIudmFsdWVzW2ldICE9IHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIG5ld0xpc3QucHVzaChzdGFrZWhvbGRlci52YWx1ZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0YWtlaG9sZGVyLnZhbHVlcyA9IG5ld0xpc3Q7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uU2F2ZScsIHN0YWtlaG9sZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUlkZW50aWNhdGlvbihzdGFrZWhvbGRlcikge1xyXG4gICAgICAgIGlmKChzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPT09IFwiXCIpIHx8IChzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPT09IHVuZGVmaW5lZCkpe1xyXG4gICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJ1ZhbG9yIG7Do28gZXNwZWNpZmljYWRvLicpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVzTGlzdCA9IHN0YWtlaG9sZGVyLm5ld1ZhbHVlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHZhbHVlc0xpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgaWYoZmluZFZhbHVlKHN0YWtlaG9sZGVyLnZhbHVlcywgdmFsdWVzTGlzdFtpXSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkR1cGxpY2F0ZSB2YWx1ZTogXCIgKyB2YWx1ZXNMaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnZhbHVlcy5wdXNoKHZhbHVlc0xpc3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5ld1ZhbHVlcyA9IFwiXCI7XHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblNhdmUnLCBzdGFrZWhvbGRlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaW5kVmFsdWUobGlzdCwgdmFsdWUpe1xyXG4gICAgICAgIGZvcih2YXIgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKHZhbHVlID09PSBsaXN0W2ldKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOC8wNy8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcigncHJvZmlsZUNvbnRyb2xsZXInLHByb2ZpbGVDb250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9maWxlQ29udHJvbGxlcigkd2luZG93LCRzdGF0ZSwgJHNjb3BlLHNpZ251cFNlcnZpY2Upe1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLnN0YXJ0UHJvZmlsZSA9IHN0YXJ0UHJvZmlsZTtcclxuICAgICAgICBzZWxmLnVwbG9hZEluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYudXBsb2FkUHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgIHNlbGYudXNlcmlkO1xyXG4gICAgICAgIHNlbGYuc2F2ZVBob3RvID0gc2F2ZVBob3RvO1xyXG4gICAgICAgIHNlbGYuc3lzdGVtUmV0dXJuID0gc3lzdGVtUmV0dXJuO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzeXN0ZW1SZXR1cm4oKXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdzdGFydHByb2JsZW0nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYubXlJbWFnZT0nJztcclxuICAgICAgICBzZWxmLm15Q3JvcHBlZEltYWdlPScnO1xyXG5cclxuICAgICAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdCA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IGV2dC5jdXJyZW50VGFyZ2V0LmZpbGVzWzBdO1xyXG4gICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubXlJbWFnZSA9IGV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlSW5wdXQnKSkub24oJ2NoYW5nZScsaGFuZGxlRmlsZVNlbGVjdCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0UHJvZmlsZSgpe1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJpZCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyaWRcIik7XHJcbiAgICAgICAgICAgIGlmKHNlbGYudXNlcmlkICE9PSB1bmRlZmluZWQpe1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzYXZlUGhvdG8obXlpbWFnZSl7XHJcbiAgICAgICAgICAgIHZhciB1c2VyUGhvdG8gPXtcclxuICAgICAgICAgICAgICAgIHVzZXJpZCA6ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyaWRcIiksXHJcbiAgICAgICAgICAgICAgICBwaG90byA6IG15aW1hZ2VcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2lnbnVwU2VydmljZS51cGxvYWRQaG90byh1c2VyUGhvdG8pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwaG90b1wiLG15aW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCItLS0tLVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcblxyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3NpZ251cENvbnRyb2xsZXInLCBzaWdudXBDb250cm9sbGVyKTtcclxuICAgIHNpZ251cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHRyYW5zbGF0ZScsJyR3aW5kb3cnLCdzaWdudXBTZXJ2aWNlJywnJHN0YXRlJywndG9hc3RBcHAnLCdBdXRoVG9rZW4nLCdBdXRoJywnJGZpbHRlcicsJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICBmdW5jdGlvbiBzaWdudXBDb250cm9sbGVyKCR0cmFuc2xhdGUsICR3aW5kb3csIHNpZ251cFNlcnZpY2UsJHN0YXRlLHRvYXN0QXBwLEF1dGhUb2tlbixBdXRoLCRmaWx0ZXIsJHN0YXRlUGFyYW1zKXtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLm1lc3NhZ2UgID0gJyc7XHJcbiAgICBzZWxmLnNhdmUgICA9IHNhdmVVc2VyO1xyXG4gICAgc2VsZi5yZXNjdWVQYXNzd29yZCA9IHJlc2N1ZVBhc3N3b3JkO1xyXG4gICAgc2VsZi5jaGFuZ2VQYXNzd29yZCA9IGNoYW5nZVBhc3N3b3JkO1xyXG4gICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgIHNlbGYubG9naW5JblByb2dyZXNzID0gZmFsc2U7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVVzZXIodXNlcikge1xyXG4gICAgICBzaWdudXBTZXJ2aWNlLmNyZWF0ZSh1c2VyKVxyXG4gICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdXRUxDT01FX1NZU1RFTScpICsgdXNlci5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVtYWlsIErDoSBjYWRhc3RyYWRvXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNldExhbmcobGFuZ0tleSkge1xyXG4gICAgICAgICAgJHRyYW5zbGF0ZS51c2UobGFuZ0tleSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJlc2N1ZVBhc3N3b3JkKHVzZXJFbWFpbCl7XHJcbiAgICAgICAgICBzaWdudXBTZXJ2aWNlLnJlc2N1ZVBhc3N3b3JkKHVzZXJFbWFpbClcclxuICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRW1haWwgY29tIGluc3RydcOnw7VlcyBlbnZpYWRvIHBhcmEgXCIgKyB1c2VyRW1haWwuZW1haWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0LmxvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQodXNlcil7XHJcbiAgICAgICAgICBzaWdudXBTZXJ2aWNlLmNoYW5nZVBhc3N3b3JkKHVzZXIpXHJcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbmhhIGFsdGVyYWRhIGNvbSBzdWNlc3NvLiBGYcOnYSBsb2dpbiBjb20gYSBub3ZhIHNlbmhhLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVycm9yXCIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG5cclxuICB9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdzaWdudXBTZXJ2aWNlJywgc2lnbnVwU2VydmljZSk7XHJcblxyXG4gIHNpZ251cFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCckbG9jYXRpb24nXTtcclxuXHJcbiAgZnVuY3Rpb24gc2lnbnVwU2VydmljZSgkaHR0cCwkbG9jYXRpb24pIHtcclxuXHJcbiAgICB2YXIgQVBJX1JPVVRFX1VTRVIgPSAnL2FwaS9zaWdudXAvJztcclxuICAgIHZhciBBUElfUk9VVEVfUkVTQ1VFUEFTU1dPUkQgPSAnL2FwaS9yZXNjdWVwYXNzd2QvJztcclxuICAgIHZhciBBUElfUk9VVEVfU0VUTkVXUEFTU1dPUkQgPSAnL2FwaS9yZXNjdWVwYXNzd2QvbmV3cGFzc3dkLyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1VQREFURVBIT1RPID0gJy9hcGkvcHJvZmlsZS9waG90by8nO1xyXG5cclxuXHJcbiAgICB2YXIgc2VydmljZSA9IHtcclxuICAgICAgY3JlYXRlICAgICAgICAgOiBjcmVhdGUsXHJcbiAgICAgIHJlc2N1ZVBhc3N3b3JkIDogcmVzY3VlUGFzc3dvcmQsXHJcbiAgICAgIGNoYW5nZVBhc3N3b3JkIDogY2hhbmdlUGFzc3dvcmQsXHJcbiAgICAgIHVwbG9hZFBob3RvOiB1cGxvYWRQaG90b1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gc2VydmljZTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9VU0VSLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNjdWVQYXNzd29yZChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX1JFU0NVRVBBU1NXT1JELCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZChkYXRhKXtcclxuICAgICAgdmFyIG15dG9rZW5VUkwgPSAkbG9jYXRpb24uc2VhcmNoKCk7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX1NFVE5FV1BBU1NXT1JEICsgJz9teXRva2VuPScgKyBteXRva2VuVVJMLm15dG9rZW4rJyZwYXNzd29yZD0nK2RhdGEucGFzc3dvcmQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwbG9hZFBob3RvKGRhdGEpIHtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX1VQREFURVBIT1RPLCBkYXRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb25maWcoYXBwQ29uZmlnKTtcclxuXHJcbiAgICBhcHBDb25maWcuJGluamVjdCA9IFsnJG1kVGhlbWluZ1Byb3ZpZGVyJywnJGxvY2F0aW9uUHJvdmlkZXInXTtcclxuXHJcbiAgIC8qIGZ1bmN0aW9uIGFwcENvbmZpZyAoJG1kVGhlbWluZ1Byb3ZpZGVyLCRsb2NhdGlvblByb3ZpZGVyKSB7XHJcblxyXG4gICAgICAgICAvLyRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuICAgICAgICB2YXIgY3VzdG9tR3JlZW5NYXAgPSAkbWRUaGVtaW5nUHJvdmlkZXIuZXh0ZW5kUGFsZXR0ZSgndGVhbCcsIHtcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnXSxcclxuICAgICAgICAgICAgJzUwJzogJ0UwRjJGMSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ2N1c3RvbUdyZWVuJywgY3VzdG9tR3JlZW5NYXApO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXHJcbiAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgnY3VzdG9tR3JlZW4nLCB7XHJcbiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6ICc1MDAnLFxyXG4gICAgICAgICAgICAgICAgJ2h1ZS0xJzogJzUwJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYWNjZW50UGFsZXR0ZSgndGVhbCcpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnaW5wdXQnLCAnZGVmYXVsdCcpXHJcbiAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgnZ3JlZW4nKTtcclxuXHJcbiAgICB9OyovXHJcblxyXG4gICAgZnVuY3Rpb24gYXBwQ29uZmlnKCRtZFRoZW1pbmdQcm92aWRlcikge1xyXG4gICAgICAgIC8vIEV4dGVuZCB0aGUgcmVkIHRoZW1lIHdpdGggYSBmZXcgZGlmZmVyZW50IGNvbG9yc1xyXG4gICAgICAgIHZhciBuZW9uUmVkTWFwID0gJG1kVGhlbWluZ1Byb3ZpZGVyLmV4dGVuZFBhbGV0dGUoJ3RlYWwnLCB7XHJcbiAgICAgICAgICAgICc1MCc6ICdFMEYyRjEnLFxyXG4gICAgICAgICAgICAnMTAwJzogJ0IyREZEQicsXHJcbiAgICAgICAgICAgICcyMDAnOiAnODBDQkM0JyxcclxuICAgICAgICAgICAgJzMwMCc6ICc0REI2QUMnLFxyXG4gICAgICAgICAgICAnNDAwJzogJzI2QTY5QScsXHJcbiAgICAgICAgICAgICc1MDAnOiAnMDA5Njg4JyxcclxuICAgICAgICAgICAgJzYwMCc6ICcwMDg5N0InLFxyXG4gICAgICAgICAgICAnNzAwJzogJzAwNzk2QicsXHJcbiAgICAgICAgICAgICc4MDAnOiAnMDA2OTVDJyxcclxuICAgICAgICAgICAgJzkwMCc6ICcwMDRENDAnLFxyXG4gICAgICAgICAgICAnQTEwMCc6ICdBN0ZGRUInLFxyXG4gICAgICAgICAgICAnQTIwMCc6ICc2NEZGREEnLFxyXG4gICAgICAgICAgICAnQTQwMCc6ICcxREU5QjYnLFxyXG4gICAgICAgICAgICAnQTcwMCc6ICcwMEJGQTUnLFxyXG4gICAgICAgICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLCAgICAvLyB3aGV0aGVyLCBieSBkZWZhdWx0LCB0ZXh0IChjb250cmFzdClcclxuICAgICAgICAgICAgLy8gb24gdGhpcyBwYWxldHRlIHNob3VsZCBiZSBkYXJrIG9yIGxpZ2h0XHJcbiAgICAgICAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiBbJzUwJywgJzEwMCcsIC8vaHVlcyB3aGljaCBjb250cmFzdCBzaG91bGQgYmUgJ2RhcmsnIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgICAgICcyMDAnLCAnMzAwJywgJzQwMCcsICdBMTAwJ10sXHJcbiAgICAgICAgICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gUmVnaXN0ZXIgdGhlIG5ldyBjb2xvciBwYWxldHRlIG1hcCB3aXRoIHRoZSBuYW1lIDxjb2RlPm5lb25SZWQ8L2NvZGU+XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ3RlYWwnLCBuZW9uUmVkTWFwKTtcclxuICAgICAgICAvLyBVc2UgdGhhdCB0aGVtZSBmb3IgdGhlIHByaW1hcnkgaW50ZW50aW9uc1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXHJcbiAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgndGVhbCcpXHJcbiAgICAgICAgICAgIC5hY2NlbnRQYWxldHRlKCdvcmFuZ2UnKTtcclxuICAgIH1cclxuXHJcblxyXG59KSgpOyIsIlxyXG4oZnVuY3Rpb24oKXtcclxuXHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2F1dGhTZXJ2aWNlJywgW10pXHJcblx0XHQuZmFjdG9yeSgnQXV0aCcsIGZ1bmN0aW9uKCRodHRwLCAkcSwgQXV0aFRva2VuKSB7XHJcblx0XHRcdHZhciBhdXRoRmFjdG9yeSA9IHt9O1xyXG5cdFx0XHRhdXRoRmFjdG9yeS5sb2dpbiA9IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCkge1xyXG5cdFx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvZ2luJywge1xyXG5cdFx0XHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHRcdFx0cGFzc3dvcmQ6IHBhc3N3b3JkXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0QXV0aFRva2VuLnNldFRva2VuKGRhdGEudG9rZW4pO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXV0aEZhY3RvcnkubG9nb3V0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0QXV0aFRva2VuLnNldFRva2VuKCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRhdXRoRmFjdG9yeS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYoQXV0aFRva2VuLmdldFRva2VuKCkpIHtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1lbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRhdXRoRmFjdG9yeS5nZXRVc2VyID0gZnVuY3Rpb24oaWQpIHtcclxuXHRcdFx0XHRpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9tZS8/dXNlcmlkPScgKyBpZCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuICRxLnJlamVjdCh7bWVzc2FnZTogXCJVc2VyIGhhcyBubyB0b2tlblwifSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fTtcclxuXHRcdFx0cmV0dXJuIGF1dGhGYWN0b3J5O1xyXG5cdFx0fSlcclxuXHRcdC5mYWN0b3J5KCdBdXRoVG9rZW4nLCBmdW5jdGlvbigkd2luZG93KSB7XHJcblxyXG5cdFx0XHR2YXIgYXV0aFRva2VuRmFjdG9yeSA9IHt9O1xyXG5cclxuXHRcdFx0YXV0aFRva2VuRmFjdG9yeS5nZXRUb2tlbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXV0aFRva2VuRmFjdG9yeS5zZXRUb2tlbiA9IGZ1bmN0aW9uKHRva2VuKSB7XHJcblxyXG5cdFx0XHRcdGlmICh0b2tlbikge1xyXG5cdFx0XHRcdFx0JHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHQkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH07XHJcblx0XHRcdHJldHVybiBhdXRoVG9rZW5GYWN0b3J5O1xyXG5cdFx0fSlcclxuXHRcdC5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3InLCBmdW5jdGlvbigkcSwgJGxvY2F0aW9uLCBBdXRoVG9rZW4pIHtcclxuXHRcdFx0dmFyIGludGVyY2VwdG9yRmFjdG9yeSA9IHt9O1xyXG5cdFx0XHRpbnRlcmNlcHRvckZhY3RvcnkucmVxdWVzdCA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG5cdFx0XHRcdHZhciB0b2tlbiA9IEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG5cdFx0XHRcdGlmKHRva2VuKSB7XHJcblx0XHRcdFx0XHRjb25maWcuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSA9IHRva2VuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gY29uZmlnO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gaW50ZXJjZXB0b3JGYWN0b3J5O1xyXG5cdFx0fSk7XHJcbn0pKCk7IiwiXHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnRHJvcERTQycsW10pXHJcbiAgICAuZGlyZWN0aXZlKCdkcmFnZ2FibGUnLCBmdW5jdGlvbigkZG9jdW1lbnQsU29ja2V0KSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnQudGFyZ2V0LmlkLnN1YnN0cmluZygwLDExKSA9PSBcInN0YWtlaG9sZGVyXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBkcmFnZ2luZyBvZiBzZWxlY3RlZCBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnbW91c2V1cCcsIG1vdXNldXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiBtb3VzZW1vdmUoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBpZF9kaXYgPSBldmVudC50YXJnZXQuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaWRfZGl2ID09ICdzdmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWRfZGl2ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnN0YWtlaG9sZGVyLm9uaW9ubGF5ZXIgPSBpZF9kaXY7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgeSA9IGV2ZW50LnBhZ2VZIC0gMTMwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgeCA9IGV2ZW50LnBhZ2VYO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHkgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICB4ICsgJ3B4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvKlNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblBvc2l0aW9uJywgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHN0YWtlaG9sZGVyLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICBzdGFrZWhvbGRlci54XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Rha2Vob2xkZXIueCA9IHggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Rha2Vob2xkZXIueSA9IHkgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy9Tb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25Qb3NpdGlvbicsIHNjb3BlLnN0YWtlaG9sZGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiBtb3VzZXVwKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ21vdXNldXAnLCBtb3VzZXVwKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2xvZ2luQ29udHJvbGxlcicsbG9naW5Db250cm9sbGVyKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbG9naW5Db250cm9sbGVyKCR0cmFuc2xhdGUsICRyb290U2NvcGUsICRzdGF0ZSwgQXV0aCwgJHdpbmRvdywgJGZpbHRlciwgdG9hc3RBcHApIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzZWxmLnNldExhbmcgPSBzZXRMYW5nO1xyXG4gICAgICAgICAgICBzZWxmLmRvTG9nb3V0ID0gZG9Mb2dvdXQ7XHJcbiAgICAgICAgICAgIHNlbGYuZG9Mb2dpbiA9IGRvTG9naW47XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRMYW5nKGxhbmdLZXkpIHtcclxuICAgICAgICAgICAgICAgICAkdHJhbnNsYXRlLnVzZShsYW5nS2V5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2VsZi5sb2dnZWRJbiA9IEF1dGguaXNMb2dnZWRJbigpO1xyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ2dlZEluID0gQXV0aC5pc0xvZ2dlZEluKCk7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmdldFVzZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvTG9naW4odXNlcikge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5lcnJvciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgQXV0aC5sb2dpbih1c2VyLmVtYWlsLCB1c2VyLnBhc3N3b3JkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJlbWFpbFwiLGRhdGEuZW1haWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlcmlkXCIsZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJuaWNrbmFtZVwiLGRhdGEubmlja25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldExhbmcoZGF0YS5sYW5ndWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGguZ2V0VXNlcihkYXRhLmlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odXNlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJGZpbHRlcigndHJhbnNsYXRlJykoJ1dFTENPTUVfU1lTVEVNJykgKyBcIjogXCIgKyBkYXRhLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGhvdG9cIix1c2VyRGF0YS5kYXRhLnBob3RvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnRwcm9ibGVtJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJVc3Xvv71yaW8gZSBzZW5oYSBu77+9byBjb25mZXJlbS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkb0xvZ291dCgpIHtcclxuICAgICAgICAgICAgICAgIEF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUoJ2luaXQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyMS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuc2VydmljZSgnU29ja2V0JyxcclxuICAgICAgICBbJyRsb2NhdGlvbicsICckdGltZW91dCcsXHJcbiAgICBmdW5jdGlvbigkbG9jYXRpb24sICR0aW1lb3V0KSB7XHJcbiAgICAgICAgaWYgKHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQgPSBpbygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQuZW1pdChldmVudE5hbWUsIGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5dKVxyXG5cclxufSkoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
