!function(){"use strict";angular.module("app",["ngImgCrop","toastService","textAngular","luegg.directives","appRxDrag","DropDSC","authService","ui.router","ngMaterial","ngMdIcons","ngCookies","pascalprecht.translate"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor")}])}(),function(){"use strict";function e(e){function t(t){this.message=t,e.show({controller:"toastController",controllerAs:"vm",templateUrl:"views/pages/dsctoast.html",action:"OK",highlightAction:!0,position:"top right",hideDelay:2e3})}function o(t){this.message=t,e.show({controller:"toastController",controllerAs:"vm",templateUrl:"views/pages/dsctoast.html",action:"OK",highlightAction:!0,position:"bottom left",hideDelay:1e3})}var n={message:"",errorMessage:t,errorMessageBottom:o};return n}angular.module("toastService",[]).controller("toastController",["$mdToast","toastApp",function(e,t){var o=this;o.message=t.message,o.closeToast=function(){e.hide()}}]).factory("toastApp",e),e.$inject=["$mdToast"]}(),function(){"use strict";function e(e,t){e.state("init",{url:"/",templateUrl:"views/pages/initpage.html",controller:"loginController as vm"}).state("init.login",{url:"login",views:{"content-tab":{templateUrl:"views/pages/userlogin.html",controller:"loginController as vm"}}}).state("init.signup",{url:"signup",views:{"content-tab":{templateUrl:"views/pages/signup.html",controller:"signupController as vm"}}}).state("init.rescuepassword",{url:"rescuepassword",views:{"content-tab":{templateUrl:"views/pages/rescuepassword.html",controller:"signupController as vm"}}}).state("startproblem",{url:"/startproblem",templateUrl:"views/pages/startproblem.html",controller:"startProblemController as vm"}).state("profile",{url:"/profile",templateUrl:"views/pages/profile.html",controller:"profileController as vm"}).state("dscreport",{url:"/dscreport",templateUrl:"views/pages/problemreport.html",controller:"problemReportController as vm"}).state("newpassword",{url:"/newpassword/:mytoken",templateUrl:"views/pages/newpassword.html",controller:"signupController as vm"}).state("problem",{url:"/problem",templateUrl:"views/pages/problem.html",controller:"menuProblemController as vm"}).state("problem.stakeholders",{url:"/stakeholders",views:{"dsc-artifact":{templateUrl:"views/pages/stakeholders.html",controller:"stakeholderController as vm"}}}).state("problem.evaluationframework",{url:"/evaluationframework",views:{"dsc-artifact":{templateUrl:"views/pages/evaluationframework.html",controller:"evaluationframeworkController as vm"}}}).state("problem.semioticframework",{url:"/semioticframework",views:{"dsc-artifact":{templateUrl:"views/pages/semioticframework.html",controller:"semioticframeworkController as vm"}}}).state("problem.carf",{url:"/carf",views:{"dsc-artifact":{templateUrl:"views/pages/carf.html",controller:"carfController as vm"}}}).state("problem.vif",{url:"/vif",views:{"dsc-artifact":{templateUrl:"views/pages/vif.html",controller:"valueIdentificationFrameController as vm"}}}).state("problem.onion",{url:"/onion",views:{"dsc-artifact":{templateUrl:"views/pages/onion.html",controller:"onion3LayerController as vm"}}}),t.otherwise("/login")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){function t(t){e.show({controller:o,templateUrl:"views/pages/helpdsc.html",parent:angular.element(document.body),targetEvent:t})}function o(e,t,o,n,r){function i(n){n.nickname=r.localStorage.getItem("nickname"),n.emilContact=r.localStorage.getItem("useremail"),o.sendemailDSC(n).success(function(o){o.success&&(e.hide(),t.errorMessage("Thank you for you message"))})}e.sendEmailDSC=i,e.hide=function(){n.hide()},e.cancel=function(){n.cancel()}}var n=this;n.openFormEmail=t,o.$inject=["$scope","toastApp","signupService","$mdDialog","$window"]}function t(){return{templateUrl:"app/feedback/helpbutton.html",restrict:"E"}}angular.module("app").controller("helpController",e).directive("buttonhelp",t),e.$inject=["$mdDialog"]}(),function(){"use strict";function e(e){e.useStaticFilesLoader({prefix:"app/language/lang-",suffix:".json"}),e.preferredLanguage("en"),e.useSanitizeValueStrategy("escaped"),e.useLocalStorage()}function t(e){function t(t){e.use(t)}var o=this;o.setLang=t}function o(){return{templateUrl:"app/language/changeLanguage.html",restrict:"E"}}angular.module("app").config(e).controller("languageController",t).directive("changeLanguage",o),e.$inject=["$translateProvider"],t.$inject=["$translate"]}(),function(){"use strict";function e(e,t,o,n){function r(){d.idProblem=e.localStorage.getItem("problemid"),o.getcarf(d.idProblem).success(function(e){e.success&&(d.localStakeholders=e.stakeholders,d.stakeholderList=d.localStakeholders,d.carfList=e.carf,d.carfPriorityList=d.localPriorityList)}),d.inProcessing=!1}function i(){d.carf={_id:"",pms:"",values:[],priority:"",requirement:"",stakeholders:[]},d.valueList=[]}function a(e){""===e.pms?n.errorMessage("Select PMS"):e.values.length<1?n.errorMessage("Select one or more Value"):e.stakeholders.length<1?n.errorMessage("Select one or more Stakeholder(s)"):""===e.priority?n.errorMessage("Select priority [Low, Medium or High]"):(t.emit("broadcastCARFadd",e),d.stakeholderList=[],d.carfPriorityList=[])}function s(e,o){var n={index:e,carf:o};t.emit("broadcastCARFremove",n)}function l(e){void 0!==e&&angular.forEach(d.carfPMSValue,function(t){return t.pms==e?(d.carf.values=[],void(d.valueList=t.values)):void 0})}function c(e){d.carf.priority=e}function u(e){if(0===d.carf.values.length)d.carf.values.push(e);else{for(var t=0;t<d.carf.values.length;t++)if(e==d.carf.values[t])return void d.carf.values.splice(t,1);d.carf.values.push(e)}}function m(e){if(0===d.carf.stakeholders.length)d.carf.stakeholders.push(e);else{for(var t=0;t<d.carf.stakeholders.length;t++)if(e==d.carf.stakeholders[t])return void d.carf.stakeholders.splice(t,1);d.carf.stakeholders.push(e)}}var d=this;d.idProblem="",d.inProcessing=!0,d.valueList=[],d.stakeholderList=[],d.localStakeholders=[],d.addpmsvalue=a,d.removeCARF=s,d.selectPMSValue=l,d.setPriotity=c,d.addListValue=u,d.addStakeholder=m,d.carf={pms:"",values:[],priority:"",requirement:"",stakeholders:[]},d.initCarf=r,d.carfList=[],d.carfPriorityList=[],t.on("onBroadcastCARFadd",function(e){d.carfList.push(e),i(),d.stakeholderList=d.localStakeholders,d.carfPriorityList=d.localPriorityList}),t.on("onBroadcastCARFremove",function(e){d.carfList.splice(e,1)}),d.localPriorityList=["Low","Medium","High"],d.carfPMSValue=[{pms:"Interaction",values:["Identity","Norms"]},{pms:"Association",values:["Conversation","Groups","Relationship","Trust"]},{pms:"Learning",values:["Meta-communication"]},{pms:"Play",values:["Aesthetics","Emotion and Affection"]},{pms:"Protection",values:["Informed consert","Reputation","Security"]},{pms:"Exploitation",values:["Accessibility","Object","Property (ownership)","Usability"]},{pms:"Teporality",values:["Availability","Awareness","Presence"]},{pms:"Territoriality",values:["Portability","Privacy","Scalability","Visibility"]},{pms:"Classification",values:["Autonomy","Collaboration","Sharing","Adaptability"]},{pms:"Subsistence",values:["Reciprocity"]}]}angular.module("app").controller("carfController",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,n,r,i){function a(){g.usersOnLine.length>1&&(g.showUser=!g.showUser)}function s(){g.isOpenChat=!g.isOpenChat,document.getElementById("message").focus()}function l(){g.idProblem=i.localStorage.getItem("problemid"),g.nickname=i.localStorage.getItem("nickname"),g.photo=i.localStorage.getItem("photo"),r.gethistorychat(g.idProblem).success(function(e){if(e.success)for(var t=0;t<e.historychat.length;t++){var o=new Date(e.historychat[t].time),n={nickname:e.historychat[t].nickname,msg:e.historychat[t].msg,time:o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear()+" ["+o.getHours()+":"+o.getMinutes()+"] "};g.messages.push(n)}})}function c(e){for(var t=0;t<g.usersOnLine.length;t++)if(g.usersOnLine[t]===e)return;g.usersOnLine.push(e),g.usersOnLine.sort()}function u(){g.replay?g.replay=!1:g.replay=!0}function m(e){void 0===e||e.length<2||(n.emit("broadcastChat",e),g.newmsg="",g.contador=0)}function d(){g.contador=0}function p(t,o){13==t.keyCode&&(g.contador++,1==g.contador&&e(d,2e3),g.contador>1&&m(o))}var g=this;g.newmsg="",g.messages=[],g.replay=!1,g.nickname="",g.usersOnLine=[],g.initHistoryChat=l,g.showReplay=u,g.sendMessage=m,g.photo="",g.openChat=s,g.isOpenChat=!1,g.keypressChat=p,g.contador=0,g.showUsersOnLine=a,g.showUser=!1,n.on("onUserON",function(e){e!==g.nickname&&c(e)}),n.on("onNotifyON",function(e){return g.nickname!==e.nickname?(o.errorMessageBottom(e.nickname+", "+t("translate")(e.msg)),c(e.nickname),void n.emit("userON",g.nickname)):(g.usersOnLine=[],void g.usersOnLine.push(g.nickname))}),n.on("onNotifyOFF",function(e){e.nickname!==g.nickname&&o.errorMessageBottom(e.nickname+", "+t("translate")(e.msg));for(var n=0;n<g.usersOnLine.length;n++)e.nickname===g.usersOnLine[n]&&g.usersOnLine.splice(n,1)}),n.on("onBroadcastChat",function(e){var t=new Date(e[e.length-1].time);g.messages.push({nickname:e[e.length-1].nickname,msg:e[e.length-1].msg,time:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" ["+t.getHours()+":"+t.getMinutes()+"] "})}),n.on("onBroadcastChat",function(e){var t=new Date(e[e.length-1].time);g.messages.push({nickname:e[e.length-1].nickname,msg:e[e.length-1].msg,time:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" ["+t.getHours()+":"+t.getMinutes()+"] "})})}angular.module("app").controller("chatDSC",e),e.$inject=["$timeout","$filter","toastApp","Socket","problemService","$window"]}(),function(){"use strict";function e(){function e(e){var t=document.getElementById("projectResport"),o=new jsPDF("l","px");o.addHTML(t,0,0,{pagesplit:!0},function(e){o.save("test.pdf")})}var t=this;t.idproblem="ajflajfljalfjaljf",t.buidReport=e}angular.module("app").controller("dscReportController",e)}(),function(){"use strict";function e(e,t,o,n){function r(){s.idproblem=e.localStorage.getItem("problemid"),t.getevaluation(s.idproblem).success(function(e){e.success?s.evaluationframeworkList=e.evaluationframework:n.errorMessage(e.message)})}function i(e){o.emit("broadcastFrameSave",e)}function a(e){e.openEdit=!0}var s=this;s.evaluationframeworkList=[],s.initEvaluation=r,s.setOpenEditDiscution=a,s.saveFrame=i,o.on("onBroadcastFrameEdit",function(e){angular.forEach(s.evaluationframeworkList,function(t){t.onionlayer==e.onionlayer&&angular.forEach(t.stakeholders,function(t){t._id==e._id&&(t.name=e.name,t.onionlayer=e.onionlayer,t.description=e.description,t.openEdit=e.openEdit,t.problems=e.problems,t.solutions=e.solutions)})})}),o.on("onUpdateStakeholder",function(e){})}angular.module("app").controller("evaluationframeworkController",e),e.$inject=["$window","problemService","Socket","toastApp"]}(),function(){"use strict";function e(e,t,o,n,r,i,a,s,l){function c(e){e.localcode=w,l.emit("atualizarProblema",e)}function u(e){t.show({controller:m,templateUrl:"views/pages/problemdescription.html",parent:angular.element(document.body),targetEvent:e})}function m(e,t,o){function n(){t.nickname=i.localStorage.getItem("nickname"),t.idProblem=i.localStorage.getItem("problemid"),a.getproblem(y.idProblem).success(function(e){e.success?t.problem=e.problem:s.errorMessage(e.message)})}function r(){m=!0}function l(t){console.log(t);var o={update:m,description:t};c(o),m&&(m=!1,e(r,2e3))}function u(e){var t={update:!0,description:e};c(t)}var m=!0;t.problem,t.problemUpdate=l,t.getProblemEdit=n,t.saveDescription=u,t.nickname="",t.hide=function(){o.hide()},t.cancel=function(){o.cancel()}}function d(e){t.show({controller:p,templateUrl:"views/pages/collaborators.html",parent:angular.element(document.body),targetEvent:e})}function p(e,t){function o(){e.idProblem=i.localStorage.getItem("problemid"),e.useremail=i.localStorage.getItem("useremail"),a.getcollaborators(e.idProblem).success(function(t){t.success?e.collaborators=t.collaborators:s.errorMessage(t.message)})}function n(t){for(var o=0;o<e.collaborators.length;o++)if(t==e.collaborators[o].email)return!0;return!1}function r(t){if(e.useremail==t)s.errorMessage(e.useremail+" is email of owner.");else if(n(t))s.errorMessage("Usuario Cadastrado.");else{var o={idproblem:e.idProblem,email:t};a.invite(o).success(function(t){t.success?(e.collaborators=t.collaborators,e.email=""):s.errorMessage(t.message)})}}function l(e){e.isDeleted=!e.isDeleted}function c(t){t.idproblem=e.idProblem,a.removecollaborators(t).success(function(o){o.success?(e.collaborators=o.collaborators,e.isDeleteCollaborator=!e.isDeleteCollaborator,s.errorMessage("Colaborador "+t.nickname+" foi removido do projeto.")):s.errorMessage(o.message)})}e.idProblem="",e.collaborators=[],e.useremail="",e.initCollaborators=o,e.addCollaborator=r,e.removeCollaborator=c,e.alertDeleteCollaborator=l,e.email="",e.hide=function(){t.hide()},e.cancel=function(){t.cancel()}}function g(){y.nickname=i.localStorage.getItem("nickname"),y.idProblem=i.localStorage.getItem("problemid"),w=i.localStorage.getItem("localcode"),a.getproblem(y.idProblem).success(function(e){e.success?(y.problem=e.problem,angular.forEach(e.problem.artifacts,function(e){var t=e.split("_");y.dsc_artifacts.push({name:"problem."+t[2].toLowerCase(),label:n("translate")(e)})})):s.errorMessage(e.message)});var e={idproblem:y.idProblem,nickname:y.nickname};l.emit("initProblem",e)}function f(){l.emit("disconnectProblem",y.nickname),r.go("startproblem")}function h(){r.go("problem.collaborators")}function b(){r.go("dscreport")}function v(){r.go("problem.description")}function k(){l.emit("disconnectProblem",y.nickname),e.logout(),r.go("init.login")}var y=this;y.formAddCollaborators=h,y.editDescriptionProblem=v,y.doLogout=k,y.systemReturn=f,y.formProblemReport=b,y.getCurrentProblem=g,y.nickname,y.dsc_artifacts=[],y.formEditProblem=u,y.formInviteCollaborator=d;var w="";l.on("onAtualizarProblema",function(e){w!==e.localcode&&setDescrition(e.description)}),m.$inject=["$timeout","$scope","$mdDialog"],p.$inject=["$scope","$mdDialog"],y.selectedIndex=0;var S=null,L=null;o.$watch("selectedIndex",function(e){L=S,S=y.dsc_artifacts[e],y.selectedIndex=e})}angular.module("app").controller("menuProblemController",e),e.$inject=["Auth","$mdDialog","$scope","$filter","$state","$window","problemService","toastApp","Socket"]}(),function(e){"use strict";function t(e,t,o,n,r){function i(){p.inProcessing=!0,p.idproblem=t.localStorage.getItem("problemid"),p.localcode=t.localStorage.getItem("localcode"),o.getonion3layer(p.idproblem).success(function(e){e.success?angular.forEach(e.postits,function(e){e.openEdit=!1,p.onion3LayerList.push(e)}):r.errorMessage(e.message)}),p.inProcessing=!1}function a(t){e.emit("broadcastOnion3LayerSave",t)}function s(t){e.emit("broadcastOnion3LayerEdit",t)}function l(t,o){e.emit("broadcastOnion3LayerRemove",{index:t,postit:o})}function c(e,t,o){var r=n.confirm().parent(angular.element(document.body)).title("Detete Postit?").content("Title: "+o.title).ariaLabel("Remove postit").ok("Yes!").cancel("Cancel").targetEvent(e);n.show(r).then(function(){l(t,o)})}function u(t,o){e.emit("broadcastOnion3LayerAdd",{postit:{layer:o,title:"",description:"",x:t.pageX+"px",y:t.pageY+"px",zindex:9999},localcode:p.localcode})}function m(e){document.getElementById("name"+e).setAttribute("style","text-decoration: underline;"),document.getElementById(e).setAttribute("style","fill:#D1C4E9;"),document.getElementById("legend"+e).setAttribute("style","fill:#D1C4E9;")}function d(e,t){document.getElementById("name"+e).setAttribute("style","text-decoration: none;"),document.getElementById(e).setAttribute("style","fill: "+t+";"),document.getElementById("legend"+e).setAttribute("style","fill: "+t+";")}var p=this;p.idproblem="",p.initOnion3Layer=i,p.move=!1,p.onion3LayerList=[],p.inProcessing=!1,p.saveOnion3Layer=a,p.setOpenEdit=s,p.delPostIt=c,p.addPostIt=u,p.acende=m,p.apaga=d,p.localcode="",e.on("onBroadcastOnion3LayerSave",function(e){angular.forEach(p.onion3LayerList,function(t){t._id==e._id&&(t.title=e.title,t.description=e.description,t.openEdit=!1,t.layer=e.layer,t.x=e.x,t.y=e.y,t.zindex=1)})}),e.on("onBroadcastOnion3LayerEdit",function(e){angular.forEach(p.onion3LayerList,function(t){t._id===e&&(t.openEdit=!0,t.zindex=9999)})}),e.on("onBroadcastOnion3LayerRemove",function(e){var t=document.getElementById("postit"+p.onion3LayerList[e]._id);t.style.display="none",p.onion3LayerList.splice(e,1)}),e.on("onBroadcastOnion3LayerMove",function(e){p.localcode!==e.localcode&&(document.getElementById("postit"+e._id).style.left=e.x,document.getElementById("postit"+e._id).style.top=e.y)}),e.on("onBroadcastOnion3LayerAdd",function(e){p.localcode!==e.localcode?(e.postit.openEdit=!1,e.postit.title="new Postit"):e.postit.openEdit=!0,p.onion3LayerList.push(e.postit)})}angular.module("app").controller("onion3LayerController",t),t.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(this),function(){"use strict";function e(e,t,o,n){function r(){a.idProblem=e.localStorage.getItem("problemid"),t.getproblemreport(a.idProblem).success(function(e){e.success?(angular.forEach(e.problem.stakeholders,function(e){e.x=parseInt(e.x.substring(0,e.x.length-2))-100+"px",e.y=parseInt(e.y.substring(0,e.y.length-2))+400+"px"}),a.problem=e.problem):o.errorMessage(e.message)})}function i(){n.go("problem.stakeholders")}var a=this;a.idProblem,a.problem,a.initProblemPeport=r,a.systemReturn=i}angular.module("app").controller("problemReportController",e),e.$inject=["$window","problemService","toastApp","$state"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(k,t)}function n(t){return e.get(w+"?idproblem="+t)}function r(t){return e.get(y+"?idproblem="+t)}function i(t){return e.get(b+"?email="+t)}function a(t){return e.get(S+"?idproblem="+t)}function s(t){return e.post(L,t)}function l(t){return e.get(A+"?idproblem="+t)}function c(t){return e.get(x+"?idproblem="+t)}function u(t){return e.get(E+"?idproblem="+t)}function m(t){return e.get(C+"?idproblem="+t)}function d(t){return e.get(I+"?idproblem="+t)}function p(t){return e.get(P+"?idproblem="+t)}function g(t){return e.get(v+"?email="+t)}function f(t){return e.get($+"?idproblem="+t.idproblem+"&email="+t.email)}function h(t){return e.get(M+"?idproblem="+t)}var b="/api/problem/getproblems",v="/api/problem/getproblemscollaborator",k="/api/problem/newproblem",y="/api/problem/getproblem",w="/api/problem/getproblemreport",S="/api/problem/getcollaborators",L="/api/problem/invite",A="/api/problem/getonion",E="/api/problem/getevaluation",C="/api/problem/getsemiotic",I="/api/problem/getcarf",P="/api/problem/removeproblem",$="/api/problem/removecollaborator",M="/api/problem/historychat",x="/api/problem/getonion3layer",O={newproblem:o,getuserproblems:i,getproblem:r,getcollaborators:a,invite:s,getonion:l,getevaluation:u,getsemiotic:m,getcarf:d,removeproblem:p,getproblemscollaborator:g,removecollaborators:f,gethistorychat:h,getproblemreport:n,getonion3layer:c};return O}angular.module("app").factory("problemService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e,t,o,n){function r(){m.idproblem=t.localStorage.getItem("problemid"),o.getsemiotic(m.idproblem).success(function(e){e.success?m.semioticframework=e.semioticframework:n.errorMessage(e.message)})}function i(t,o){var n={text:t,update:o};e.emit("updateSocialWorld",n)}function a(t,o){var n={text:t,update:o};e.emit("updatePragmatic",n)}function s(t,o){var n={text:t,update:o};e.emit("updateSemantic",n)}function l(t,o){var n={text:t,update:o};e.emit("updateSyntatic",n)}function c(t,o){var n={text:t,update:o};e.emit("updateEmpirical",n)}function u(t,o){var n={text:t,update:o};e.emit("updatePhysical",n)}var m=this;m.idproblem="",m.saveSocialWorld=i,m.savePragmatic=a,m.saveSemantic=s,m.saveSyntatic=l,m.saveEmpirical=c,m.savePhysical=u,m.semioticframework="",m.initSemioticFramework=r,e.on("onUpdateSocialWorld",function(e){m.semioticframework.socialworld=e}),e.on("onUpdatePragmatic",function(e){m.semioticframework.pragmatic=e}),e.on("onUpdateSemantic",function(e){m.semioticframework.semioticramework=e}),e.on("onUpdateSyntatic",function(e,t){m.semioticframework.syntatic=e}),e.on("onUpdateEmpirical",function(e){m.semioticframework.empirical=e}),e.on("onUpdatePhysical",function(e){m.semioticframework.physical=e})}angular.module("app").controller("semioticframeworkController",e),e.$inject=["Socket","$window","problemService","toastApp"]}(),function(e){"use strict";function t(e,t,o,n,r){function i(){p.idproblem=t.localStorage.getItem("problemid"),p.localcode=t.localStorage.getItem("localcode"),o.getonion(p.idproblem).success(function(e){e.success?p.stakeholderList=e.stakeholders:r.errorMessage(e.message)}),p.inProcessing=!1}function a(t){e.emit("broadcastOnionSave",t)}function s(t){e.emit("broadcastOnionEdit",t)}function l(t,o){var n={index:t,stakeholder:o};e.emit("broadcastOnionRemove",n)}function c(e,t,o){var r=n.confirm().parent(angular.element(document.body)).title("Detete Stakeholder?").content("Title: "+o.name).ariaLabel("Remove Stakeholder").ok("Yes!").cancel("Cancel").targetEvent(e);n.show(r).then(function(){l(t,o)})}function u(t,o){e.emit("broadcastOnionAdd",{onionlayer:o,name:"",description:"",openEdit:!0,x:t.pageX+"px",y:t.pageY+"px",zindex:9999})}function m(e){document.getElementById("name"+e).setAttribute("style","text-decoration: underline;"),document.getElementById(e).setAttribute("style","fill:#D1C4E9;"),document.getElementById("legend"+e).setAttribute("style","fill:#D1C4E9;")}function d(e,t){document.getElementById("name"+e).setAttribute("style","text-decoration: none;"),document.getElementById(e).setAttribute("style","fill: "+t+";"),document.getElementById("legend"+e).setAttribute("style","fill: "+t+";")}var p=this;p.idproblem="",p.stakeholderList=[],p.stakeholder="",p.intitOnion=i,p.move=!1,p.inProcessing=!0,p.saveStakeholder=a,p.setOpenEdit=s,p.delPostIt=c,p.addPostIt=u,p.acende=m,p.apaga=d,p.localcode="",e.on("onBroadcastOnionSave",function(e){angular.forEach(p.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.zindex=9999)})}),e.on("onBroadcastOnionEdit",function(e){angular.forEach(p.stakeholderList,function(t){t._id===e&&(t.openEdit=!0,t.zindex=9999)})}),e.on("onBroadcastOnionRemove",function(e){var t=document.getElementById("stakeholder"+p.stakeholderList[e]._id);t.style.display="none",p.stakeholderList.splice(e,1)}),e.on("onBroadcastMove",function(e){p.localcode!==e.localcode&&(document.getElementById("stakeholder"+e._id).style.left=e.x,document.getElementById("stakeholder"+e._id).style.top=e.y)}),e.on("onBroadcastOnionAdd",function(e){p.stakeholderList.push(e)})}angular.module("app").controller("stakeholderController",t),t.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(this),function(){"use strict";function e(e,t,o,n,r,i,a){function s(){h.userid=r.localStorage.getItem("userid"),h.nickname=r.localStorage.getItem("nickname"),h.useremail=r.localStorage.getItem("useremail"),h.photo=r.localStorage.getItem("photo"),i.getuserproblems(h.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description.length>300?e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,280):e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"");h.problemList=e.problems,i.getproblemscollaborator(h.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)null!==e.problems[t].description&&(e.problems[t].description.length>300?e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,280):e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,""));h.problemCollaboratorList=e.problems}else a.errorMessage(e.message)})}else a.errorMessage(e.message)}),h.loginInProgress=!1}function l(e){i.removeproblem(e).success(function(t){if(t.success){for(var o=0;o<h.problemList.length;o++)if(h.problemList[o]._id==e){h.problemList.splice(o,1);break}}else a.errorMessage(t.message)})}function c(t,o){var n=e.confirm().parent(angular.element(document.body)).title("Detete Problem?").content("Title: "+o.title).ariaLabel("Remove Problem").ok("Desejo remover!").cancel("Cancel").targetEvent(t);e.show(n).then(function(){l(o._id)})}function u(e){e.userid=h.userid,i.newproblem(e).success(function(e){e.success?h.editProblem(e.problem):a.errorMessage(e.message)})}function m(e){r.localStorage.setItem("problemid",e._id),t.go("problem.stakeholders")}function d(){o.logout(),t.go("init.login")}function p(){t.go("profile")}function g(t){e.show({controller:f,templateUrl:"views/pages/newproblem.html",parent:angular.element(document.body),targetEvent:t})}function f(e,t,o){e.items=["LABEL_ARTIFACT_STAKEHOLDERS","LABEL_ARTIFACT_EVALUATIONFRAMEWORK","LABEL_ARTIFACT_SEMIOTICFRAMEWORK","LABEL_ARTIFACT_VIF","LABEL_ARTIFACT_CARF","LABEL_ARTIFACT_ONION"],e.selected=[],e.toggle=function(e,o){var n=o.indexOf(e);if(n>-1)if("LABEL_ARTIFACT_STAKEHOLDERS"!==e)o.splice(n,1);else if(2===o.length){var r=o.indexOf("LABEL_ARTIFACT_SEMIOTICFRAMEWORK");r>-1&&o.splice(n,1)}else 1===o.length?o.splice(n,1):a.errorMessage(t("translate")("LABEL_ARTIFACT_STAKEHOLDERS_NECESSARY"));else"LABEL_ARTIFACT_SEMIOTICFRAMEWORK"!=e?(n=o.indexOf("LABEL_ARTIFACT_STAKEHOLDERS"),0>n?(o.push("LABEL_ARTIFACT_STAKEHOLDERS"),"LABEL_ARTIFACT_STAKEHOLDERS"!==e&&o.push(e)):o.push(e)):o.push(e)},e.exists=function(e,t){return t.indexOf(e)>-1},e.isIndeterminate=function(){return 0!==e.selected.length&&e.selected.length!==e.items.length},e.isChecked=function(){return e.selected.length===e.items.length},e.toggleAll=function(){e.selected.length===e.items.length?e.selected=[]:(0===e.selected.length||e.selected.length>0)&&(e.selected=e.items.slice(0))},e.artifactList=[],e.hide=function(){o.hide()},e.cancel=function(){o.cancel()},e.addNewProblem=function(n){return e.selected.length<1?void a.errorMessage(t("translate")("LABEL_CHOICE_ARTIFACTS")):(n.artifacts=e.selected,h.startNewProblem(n),void o.cancel())}}var h=this;h.nickname="",h.userid="",h.useremail="",h.problemList=[],h.problemCollaboratorList=[],h.loginInProgress=!0,h.getProblems=s,h.revomveProblem=c,h.startNewProblem=u,h.editProblem=m,h.doLogout=d,h.newProblem=g,h.editProfile=p,h.photo,f.$inject=["$scope","$filter","$mdDialog"]}angular.module("app").controller("startProblemController",e),e.$inject=["$mdDialog","$state","Auth","Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,n){function r(){u.idproblem=e.localStorage.getItem("problemid"),t.getonion(u.idproblem).success(function(e){if(e.success){if(e.stakeholders.length>0){for(var t=1;t<u.sugestionValuesArray.length;t++)u.sugestionValues+=u.sugestionValuesArray[t]+", ";u.sugestionValues[u.sugestionValuesArray[u.sugestionValuesArray.length-1]]+".";for(var n=0;n<e.stakeholders.length;n++)for(var r=0;r<u.stakeholderList.length;r++){var i={_id:e.stakeholders[n]._id,onionlayer:e.stakeholders[n].onionlayer,values:e.stakeholders[n].values,name:e.stakeholders[n].name,description:e.stakeholders[n].description,openEdit:e.stakeholders[n].openEdit,x:e.stakeholders[n].x,y:e.stakeholders[n].y,newValues:[]};e.stakeholders[n].onionlayer!=u.stakeholderList[r].onionlayer||u.stakeholderList[r].stakeholders.push(i)}}u.inProcessing=!1}else o.errorMessage(e.message)})}function i(e){e.openEdit=!0}function a(e){e.openEdit=!1}function s(e,t){for(var o=[],r=0;r<t.values.length;r++)t.values[r]!=e&&o.push(t.values[r]);t.values=o,n.emit("broadcastOnionSave",t)}function l(e){if(""===e.newValues||void 0===e.newValues)o.errorMessage("Valor não especificado.");else{for(var t=e.newValues.split(","),r=0;r<t.length;r++)c(e.values,t[r])?o.errorMessage("Duplicate value: "+t[r]):e.values.push(t[r]);e.newValues="",e.openEdit=!1,n.emit("broadcastOnionSave",e)}}function c(e,t){for(var o=0;o<e.length;o++)if(t===e[o])return!0;return!1}var u=this;u.inProcessing=!0,u.idProblem="",u.useremail="",u.newvalues="",u.initValueIdentificationFrame=r,u.setSuggestionShow=i,u.leaveSuggestionShow=a,u.removeValueIdentication=s,u.setValueIdentication=l,u.sugestionValues="",u.stakeholderList=[{onionlayer:"Community",stakeholders:[]},{onionlayer:"Market",stakeholders:[]},{onionlayer:"Source",stakeholders:[]},{onionlayer:"Contribution",stakeholders:[]},{onionlayer:"Technico",stakeholders:[]}],u.sugestionValuesArray=["Acessibilidade","Adaptabilidade","Estética","Autonomia","Disponibilidade","Consciência","Colaboração","Conversação","Emoção e Afeto","Grupos","Identidade","Consentimento informado","Meta-comunicação","Normas","Objeto","Portabilidade","Presença","Privacidade","Propriedade","Reciprocidade, Relacionamento, Reputação","Escalabilidade","Segurança","Compartilhamento","Confiança","Usabilidade","Visibilidade"],n.on("onBroadcastOnionSave",function(e){angular.forEach(u.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.newValues=[])})})}angular.module("app").controller("valueIdentificationFrameController",e),e.$inject=["$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,n,r,i){function a(){e.emit("disconnectProblem",t.localStorage.getItem("nickname")),o.go("startproblem")}function s(){c.userid=t.localStorage.getItem("userid"),void 0!==c.userid}function l(e){var o={userid:t.localStorage.getItem("userid"),photo:e};i.uploadPhoto(o).success(function(o){o.success?t.localStorage.setItem("photo",e):n.errorMessage("-----")})}var c=this;c.startProfile=s,c.uploadInProgress=!0,c.uploadProgress=0,c.userid,c.savePhoto=l,c.systemReturn=a,c.myImage="",c.myCroppedImage="";var u=function(e){var t=e.currentTarget.files[0],o=new FileReader;o.onload=function(e){r.$apply(function(t){t.myImage=e.target.result})},o.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",u)}angular.module("app").controller("profileController",e),e.$inject=["Socket","$window","$state","toastApp","$scope","signupService"]}(),function(){"use strict";function e(e,t,o,n,r,i,a,s,l){function c(e){o.create(e).success(function(t){t.success?(r.errorMessage(s("translate")("WELCOME_SYSTEM")+e.nickname),n.go("init.login")):r.errorMessage("Email Já cadastrado")})}function u(t){e.use(t)}function m(e){o.rescuePassword(e).success(function(t){t.success?(r.errorMessage("Email com instruções enviado para "+e.email),n.go("init.login")):r.errorMessage("Error")})}function d(e){o.changePassword(e).success(function(e){e.success?(r.errorMessage("Senha alterada com sucesso. Faça login com a nova senha."),n.go("init.login")):r.errorMessage("Error")})}var p=this;p.message="",p.saveUser=c,p.rescuePassword=m,p.changePassword=d,p.setLang=u,p.loginInProgress=!1}angular.module("app").controller("signupController",e),e.$inject=["$translate","$window","signupService","$state","toastApp","AuthToken","Auth","$filter","$stateParams"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(m,t)}function n(t){return e.post(s,t)}function r(t){return e.post(l,t)}function i(o){var n=t.search();return e.get(c+"?mytoken="+n.mytoken+"&password="+o.password)}function a(t){return e.post(u,t)}var s="/api/signup/",l="/api/rescuepasswd/",c="/api/rescuepasswd/newpasswd/",u="/api/profile/photo/",m="/api/sendmessage/",d={create:n,rescuePassword:r,changePassword:i,uploadPhoto:a,sendemailDSC:o};return d}angular.module("app").factory("signupService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e){var t=e.extendPalette("teal",{50:"E0F2F1",100:"B2DFDB",200:"80CBC4",300:"4DB6AC",400:"26A69A",500:"009688",600:"00897B",700:"00796B",800:"00695C",900:"004D40",A100:"A7FFEB",A200:"64FFDA",A400:"1DE9B6",A700:"00BFA5",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0
});e.definePalette("teal",t),e.theme("default").primaryPalette("teal").accentPalette("green")}angular.module("app").config(e),e.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";angular.module("authService",[]).factory("Auth",["$http","$q","AuthToken",function(e,t,o){var n={};return n.login=function(t,n){return e.post("/api/login",{email:t,password:n}).success(function(e){return o.setToken(e.token),e})},n.logout=function(){o.setToken()},n.isLoggedIn=function(){return o.getToken()?!0:!1},n.getUser=function(n){return o.getToken()?e.get("/api/me/?userid="+n):t.reject({message:"User has no token"})},n}]).factory("AuthToken",["$window",function(e){var t={};return t.getToken=function(){return e.localStorage.getItem("token")},t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token")},t}]).factory("AuthInterceptor",["$q","$location","AuthToken",function(e,t,o){var n={};return n.request=function(e){var t=o.getToken();return t&&(e.headers["x-access-token"]=t),e},n}])}(),angular.module("DropDSC",[]).directive("draggable",["$document","Socket","$window",function(e,t,o){return{restrict:"A",replace:!0,link:function(o,n,r){function i(e){var t=e.target.id;"svg"==t&&(t=""),o.stakeholder.onionlayer=t,y=e.pageY,x=e.pageX,n.css({top:y+"px",left:x+"px"}),o.stakeholder.x=x+"px",o.stakeholder.y=y+"px"}function a(e){var t=e.target.id;"svg"==t&&(t=""),o.postit.layer=t,y=e.pageY,x=e.pageX,n.css({top:y+"px",left:x+"px"}),o.postit.x=x+"px",o.postit.y=y+"px"}function s(){e.unbind("mousemove",i),e.unbind("mouseup",s),t.emit("broadcastMove",o.stakeholder)}function l(){e.unbind("mousemove",a),e.unbind("mouseup",l),t.emit("broadcastOnion3LayerMove",o.postit)}n.on("mousedown",function(t){"stakeholder"==t.target.id.substring(0,11)?(t.preventDefault(),e.bind("mousemove",i),e.bind("mouseup",s)):"postit"==t.target.id.substring(0,6)&&(t.preventDefault(),e.bind("mousemove",a),e.bind("mouseup",l))})}}}]),function(e){angular.module("appRxDrag",["rx"]).directive("rxdraggable",["$document","$window","rx","Socket",function(e,t,o,n){return function(r,i,a){var s=t.localStorage.getItem("localcode"),l=o.Observable.fromEvent(i,"mouseup"),c=o.Observable.fromEvent(e,"mousemove"),u=o.Observable.fromEvent(i,"mousedown").map(function(e){return e.preventDefault(),{left:e.clientX-i[0].getBoundingClientRect().left,top:e.clientY-i[0].getBoundingClientRect().top}}),m=u.selectMany(function(e){return c.map(function(t){return{left:t.clientX-e.left,top:t.clientY-e.top}}).takeUntil(l)});m.subscribe(function(e){i.css({top:e.top+"px",left:e.left+"px"}),e.localcode=s,n.emit("broadcastMove",e)})}}])}.call(this),function(){"use strict";function e(e,t,o,n,r,i,a,s){function l(e){t.use(e)}function c(){return Math.random()+Math.floor(10*Math.random())}function u(e){d.inProcessing=!0,d.error="",r.login(e.email,e.password).success(function(e){i.localStorage.setItem("useremail",e.email),i.localStorage.setItem("userid",e.id),i.localStorage.setItem("localcode",e.id+"-"+c()),i.localStorage.setItem("nickname",e.nickname),d.setLang(e.language),d.inProcessing=!1,r.getUser(e.id).then(function(t){s.errorMessage(a("translate")("WELCOME_SYSTEM")+": "+e.nickname),e.success?(i.localStorage.setItem("photo",t.data.photo),n.go("startproblem")):s.errorMessage("Usuário e senha não conferem.")})})}function m(){r.logout(),n("init")}var d=this;d.inProcessing=!1,d.setLang=l,d.doLogout=m,d.doLogin=u,d.loggedIn=r.isLoggedIn(),o.$on("$routeChangeStart",function(){d.loggedIn=r.isLoggedIn(),r.getUser().then(function(e){d.user=e.data})})}angular.module("app").controller("loginController",e),e.$inject=["Socket","$translate","$rootScope","$state","Auth","$window","$filter","toastApp"]}(),function(){"use strict";angular.module("app").service("Socket",["$location","$timeout",function(e,t){this.socket=io(),this.on=function(e,o){this.socket&&this.socket.on(e,function(e){t(function(){o(e)})})},this.emit=function(e,t){this.socket&&this.socket.emit(e,t)},this.removeListener=function(e){this.socket&&this.socket.removeListener(e)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRzYy5hcHAuanMiLCJ0b2FzdC5zZXJ2aWNlLmpzIiwicm91dGVyLmFwcC5qcyIsImFwcC5kc2MubWluLmpzIiwiZmVlZGJhY2svaGVscC5jb250cm9sbGVyLmpzIiwibGFuZ3VhZ2UvdHJhbnNsYXRlLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2NhcmYuY29udHJvbGxlci5qcyIsInByb2JsZW0vY2hhdC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9kc2NyZXNwb3J0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2V2YWx1YXRpb25mcmFtZXdvcmsuY29udHJvbGxlci5qcyIsInByb2JsZW0vbWVudS5wcm9ibGVtLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL29uaW9uLmVkaXQuY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5yZXBvcnQuY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5zZXJ2aWNlLmpzIiwicHJvYmxlbS9zZW1pb3RpY2ZyYW1ld29yay5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3N0YWtlaG9sZGVyLmVkaXQuY29udHJvbGxlci5qcyIsInByb2JsZW0vc3RhcnQucHJvYmxlbS5jb250cm9sbGVyLmpzIiwicHJvYmxlbS92YWx1ZWRlbnRpZmljYXRpb25mcmFtZS5jb250cm9sbGVyLmpzIiwidXNlci9wcm9maWxlLmNvbnRyb2xsZXIuanMiLCJ1c2VyL3NpZ251cC5jb250cm9sbGVyLmpzIiwidXNlci9zaWdudXAuc2VydmljZS5qcyIsImFwcC5jb25maWcuanMiLCJhdXRoLnNlcnZpY2UuanMiLCJkcmFnLmRzYy5qcyIsImRyYWdyeC5kc2MuanMiLCJsb2dpbi5jb250cm9sbGVyLmpzIiwic29ja2V0LnNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwidG9hc3RBcHAiLCIkbWRUb2FzdCIsImVycm9yTWVzc2FnZSIsInRoaXMiLCJtZXNzYWdlIiwic2hvdyIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsImFjdGlvbiIsImhpZ2hsaWdodEFjdGlvbiIsInBvc2l0aW9uIiwiaGlkZURlbGF5IiwiZXJyb3JNZXNzYWdlQm90dG9tIiwic2VydmljZSIsInNlbGYiLCJjbG9zZVRvYXN0IiwiaGlkZSIsImZhY3RvcnkiLCIkaW5qZWN0Iiwicm91dGVzIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwiY29udGVudC10YWIiLCJkc2MtYXJ0aWZhY3QiLCJvdGhlcndpc2UiLCJoZWxwQ29udHJvbGxlciIsIiRtZERpYWxvZyIsIm9wZW5Gb3JtRW1haWwiLCJldiIsIkhlbHBFbWlsQ29udHJvbGxlciIsInBhcmVudCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImJvZHkiLCJ0YXJnZXRFdmVudCIsIiRzY29wZSIsInNpZ251cFNlcnZpY2UiLCIkd2luZG93Iiwic2VuZEVtYWlsRFNDIiwibmlja25hbWUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZW1pbENvbnRhY3QiLCJzZW5kZW1haWxEU0MiLCJzdWNjZXNzIiwiZGF0YSIsImNhbmNlbCIsImJ1dHRvbmhlbHAiLCJyZXN0cmljdCIsImRpcmVjdGl2ZSIsImluaXRMYW5ndWFnZSIsIiR0cmFuc2xhdGVQcm92aWRlciIsInVzZVN0YXRpY0ZpbGVzTG9hZGVyIiwicHJlZml4Iiwic3VmZml4IiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJsYW5ndWFnZUNvbnRyb2xsZXIiLCIkdHJhbnNsYXRlIiwic2V0TGFuZyIsImxhbmdLZXkiLCJ1c2UiLCJjaGFuZ2VMYW5ndWFnZSIsImNhcmZDb250cm9sbGVyIiwiU29ja2V0IiwicHJvYmxlbVNlcnZpY2UiLCJpbml0Q2FyZiIsImlkUHJvYmxlbSIsImdldGNhcmYiLCJsb2NhbFN0YWtlaG9sZGVycyIsInN0YWtlaG9sZGVycyIsInN0YWtlaG9sZGVyTGlzdCIsImNhcmZMaXN0IiwiY2FyZiIsImNhcmZQcmlvcml0eUxpc3QiLCJsb2NhbFByaW9yaXR5TGlzdCIsImluUHJvY2Vzc2luZyIsInJlc2V0Q2FyZiIsIl9pZCIsInBtcyIsInZhbHVlcyIsInByaW9yaXR5IiwicmVxdWlyZW1lbnQiLCJ2YWx1ZUxpc3QiLCJhZGRwbXN2YWx1ZSIsImxlbmd0aCIsImVtaXQiLCJyZW1vdmVDQVJGIiwiaW5kZXgiLCJvYmoiLCJzZWxlY3RQTVNWYWx1ZSIsInVuZGVmaW5lZCIsImZvckVhY2giLCJjYXJmUE1TVmFsdWUiLCJwbXNfdmFsdWUiLCJzZXRQcmlvdGl0eSIsImFkZExpc3RWYWx1ZSIsIm5ld3ZhbHVlIiwiaSIsInNwbGljZSIsImFkZFN0YWtlaG9sZGVyIiwibmV3U3Rha2Vob2xkZXIiLCJvbiIsImlkIiwiY2hhdERTQyIsIiR0aW1lb3V0IiwiJGZpbHRlciIsInNob3dVc2Vyc09uTGluZSIsInVzZXJzT25MaW5lIiwic2hvd1VzZXIiLCJvcGVuQ2hhdCIsImlzT3BlbkNoYXQiLCJnZXRFbGVtZW50QnlJZCIsImZvY3VzIiwiaW5pdEhpc3RvcnlDaGF0IiwicGhvdG8iLCJnZXRoaXN0b3J5Y2hhdCIsImhpc3RvcnljaGF0IiwidG1wIiwiRGF0ZSIsInRpbWUiLCJtc24iLCJtc2ciLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsIm1lc3NhZ2VzIiwic2V0VXNlcnNMaXN0Iiwic29ydCIsInNob3dSZXBsYXkiLCJyZXBsYXkiLCJzZW5kTWVzc2FnZSIsImNoYXRtc2ciLCJuZXdtc2ciLCJjb250YWRvciIsInplcmFyQ29udGFkb3IiLCJrZXlwcmVzc0NoYXQiLCJldmVudCIsImtleUNvZGUiLCJkc2NSZXBvcnRDb250cm9sbGVyIiwiYnVpZFJlcG9ydCIsImh0bWwiLCJwZGYiLCJqc1BERiIsImFkZEhUTUwiLCJwYWdlc3BsaXQiLCJkaXNwb3NlIiwic2F2ZSIsImlkcHJvYmxlbSIsImV2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyIiwiaW5pdEV2YWx1YXRpb24iLCJnZXRldmFsdWF0aW9uIiwiZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QiLCJldmFsdWF0aW9uZnJhbWV3b3JrIiwic2F2ZUZyYW1lIiwic3Rha2Vob2xkZXIiLCJzZXRPcGVuRWRpdERpc2N1dGlvbiIsImN1cnJlbnRTdGFrZWhvbGRlciIsIm9wZW5FZGl0Iiwib25pb25sYXllciIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInByb2JsZW1zIiwic29sdXRpb25zIiwic3Rha2Vob2xkZXJPbmlvbiIsIm1lbnVQcm9ibGVtYUNvbnRyb2xsZXIiLCJBdXRoIiwiJHN0YXRlIiwic2F2ZVByb2JsZW0iLCJwcm9ibGVtIiwibG9jYWxjb2RlIiwiZm9ybUVkaXRQcm9ibGVtIiwiRGlhbG9nRWRpdFByb2JsZW1Db250cm9sbGVyIiwiZ2V0UHJvYmxlbUVkaXQiLCJnZXRwcm9ibGVtIiwic2V0VXBkYXRlIiwidXBkYXRlVHJ1ZSIsInByb2JsZW1VcGRhdGUiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlIiwic2F2ZURlc2NyaXB0aW9uIiwiZm9ybUludml0ZUNvbGxhYm9yYXRvciIsIkRpYWxvZ0ludml0ZUNvbGxhYm9yYXRvckNvbnRyb2xsZXIiLCJpbml0Q29sbGFib3JhdG9ycyIsInVzZXJlbWFpbCIsImdldGNvbGxhYm9yYXRvcnMiLCJjb2xsYWJvcmF0b3JzIiwic2VhcmNoQ2FsbGFib3JhdGlvbiIsImVtYWlsIiwiYWRkQ29sbGFib3JhdG9yIiwiaW52aXRlIiwiYWxlcnREZWxldGVDb2xsYWJvcmF0b3IiLCJjb2xsYWJvcmF0b3IiLCJpc0RlbGV0ZWQiLCJyZW1vdmVDb2xsYWJvcmF0b3IiLCJyZW1vdmVjb2xsYWJvcmF0b3JzIiwiaXNEZWxldGVDb2xsYWJvcmF0b3IiLCJnZXRDdXJyZW50UHJvYmxlbSIsImFydGlmYWN0cyIsImFydGlmYWN0Iiwic3BsaXQiLCJkc2NfYXJ0aWZhY3RzIiwidG9Mb3dlckNhc2UiLCJsYWJlbCIsImluaXRzb2NrZXRwcm9ibGVtIiwic3lzdGVtUmV0dXJuIiwiZ28iLCJmb3JtQWRkQ29sbGFib3JhdG9ycyIsImZvcm1Qcm9ibGVtUmVwb3J0IiwiZWRpdERlc2NyaXB0aW9uUHJvYmxlbSIsImRvTG9nb3V0IiwibG9nb3V0IiwicmV0b3JubyIsInNldERlc2NyaXRpb24iLCJzZWxlY3RlZEluZGV4Iiwic2VsZWN0ZWQiLCJwcmV2aW91cyIsIiR3YXRjaCIsImN1cnJlbnQiLCJvbmlvbjNMYXllckNvbnRyb2xsZXIiLCJpbml0T25pb24zTGF5ZXIiLCJnZXRvbmlvbjNsYXllciIsInBvc3RpdHMiLCJwb3N0aXQiLCJvbmlvbjNMYXllckxpc3QiLCJzYXZlT25pb24zTGF5ZXIiLCJzZXRPcGVuRWRpdCIsInJlbW92ZVBvc3RJdCIsImRlbFBvc3RJdCIsImNvbmZpcm0iLCJ0aXRsZSIsImNvbnRlbnQiLCJhcmlhTGFiZWwiLCJvayIsInRoZW4iLCJhZGRQb3N0SXQiLCJlIiwiY2FtYWRhIiwibGF5ZXIiLCJ4IiwicGFnZVgiLCJ5IiwicGFnZVkiLCJ6aW5kZXgiLCJhY2VuZGUiLCJzZXRBdHRyaWJ1dGUiLCJhcGFnYSIsImNvbG9yIiwibW92ZSIsInN0eWxlIiwiZGlzcGxheSIsImxlZnQiLCJ0b3AiLCJwcm9ibGVtUmVwb3J0Q29udHJvbGxlciIsImluaXRQcm9ibGVtUGVwb3J0IiwiZ2V0cHJvYmxlbXJlcG9ydCIsInBhcnNlSW50Iiwic3Vic3RyaW5nIiwiJGh0dHAiLCIkbG9jYXRpb24iLCJuZXdwcm9ibGVtIiwicG9zdCIsIkFQSV9ST1VURV9ORVdQUk9CTEVNIiwiZ2V0IiwiQVBJX1JPVVRFX0dFVFBST0JMRU1SRVBPUlQiLCJBUElfUk9VVEVfR0VUUFJPQkxFTSIsImdldHVzZXJwcm9ibGVtcyIsIkFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVMiLCJBUElfUk9VVEVfR0VUQ09MTEFCT1JBVE9SUyIsIkFQSV9ST1VURV9JTlZJVEUiLCJnZXRvbmlvbiIsIkFQSV9ST1VURV9HRVRPTklPTiIsIkFQSV9ST1VURV9HRVRPTklPTjNMQUxZRVIiLCJBUElfUk9VVEVfR0VURVZBTFVBVElPTiIsImdldHNlbWlvdGljIiwiQVBJX1JPVVRFX0dFVFNFTUlPVElDRlJBTUVXT1JLIiwiQVBJX1JPVVRFX0dFVENBUkYiLCJyZW1vdmVwcm9ibGVtIiwiQVBJX1JPVVRFX1JFTU9WRVBST0JMRU0iLCJnZXRwcm9ibGVtc2NvbGxhYm9yYXRvciIsIkFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVNDT0xMQUJPUkFUT1IiLCJBUElfUk9VVEVfUkVNT1ZFQ09MTEFCT1JBVE9SIiwiQVBJX1JPVVRFX0dFVEhJU1RPUllDSEFUIiwic2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyIiwiaW5pdFNlbWlvdGljRnJhbWV3b3JrIiwic2VtaW90aWNmcmFtZXdvcmsiLCJzYXZlU29jaWFsV29ybGQiLCJ0ZXh0IiwiZmxhZ1NhdmUiLCJzYXZlUHJhZ21hdGljIiwic2F2ZVNlbWFudGljIiwic2F2ZVN5bnRhdGljIiwic2F2ZUVtcGlyaWNhbCIsInNhdmVQaHlzaWNhbCIsInNvY2lhbHdvcmxkIiwicHJhZ21hdGljIiwic2VtaW90aWNyYW1ld29yayIsInN5bnRhdGljIiwiZW1waXJpY2FsIiwicGh5c2ljYWwiLCJzdGFrZWhvbGRlckNvbnRyb2xsZXIiLCJpbnRpdE9uaW9uIiwic2F2ZVN0YWtlaG9sZGVyIiwic3RhcnRQcm9ibGVtQ29udHJvbGxlciIsImdldFByb2JsZW1zIiwidXNlcmlkIiwicmVwbGFjZSIsInByb2JsZW1MaXN0IiwicHJvYmxlbUNvbGxhYm9yYXRvckxpc3QiLCJsb2dpbkluUHJvZ3Jlc3MiLCJkZWxldGVQcm9ibGVtIiwicHJvYmxlbWlkIiwicmV2b212ZVByb2JsZW0iLCJzdGFydE5ld1Byb2JsZW0iLCJlZGl0UHJvYmxlbSIsInNldEl0ZW0iLCJlZGl0UHJvZmlsZSIsIm5ld1Byb2JsZW0iLCJEaWFsb2dDb250cm9sbGVyIiwiaXRlbXMiLCJ0b2dnbGUiLCJpdGVtIiwibGlzdCIsImlkeCIsImluZGV4T2YiLCJpZHhTRiIsImV4aXN0cyIsImlzSW5kZXRlcm1pbmF0ZSIsImlzQ2hlY2tlZCIsInRvZ2dsZUFsbCIsInNsaWNlIiwiYXJ0aWZhY3RMaXN0IiwiYWRkTmV3UHJvYmxlbSIsInZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIiLCJpbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lIiwiayIsInN1Z2VzdGlvblZhbHVlc0FycmF5Iiwic3VnZXN0aW9uVmFsdWVzIiwiaiIsIm5ld1ZhbHVlcyIsInNldFN1Z2dlc3Rpb25TaG93IiwibGVhdmVTdWdnZXN0aW9uU2hvdyIsInJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uIiwidmFsdWUiLCJuZXdMaXN0Iiwic2V0VmFsdWVJZGVudGljYXRpb24iLCJ2YWx1ZXNMaXN0IiwiZmluZFZhbHVlIiwibmV3dmFsdWVzIiwicHJvZmlsZUNvbnRyb2xsZXIiLCJzdGFydFByb2ZpbGUiLCJzYXZlUGhvdG8iLCJteWltYWdlIiwidXNlclBob3RvIiwidXBsb2FkUGhvdG8iLCJ1cGxvYWRJblByb2dyZXNzIiwidXBsb2FkUHJvZ3Jlc3MiLCJteUltYWdlIiwibXlDcm9wcGVkSW1hZ2UiLCJoYW5kbGVGaWxlU2VsZWN0IiwiZXZ0IiwiZmlsZSIsImN1cnJlbnRUYXJnZXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCIkYXBwbHkiLCJ0YXJnZXQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwicXVlcnlTZWxlY3RvciIsInNpZ251cENvbnRyb2xsZXIiLCJBdXRoVG9rZW4iLCIkc3RhdGVQYXJhbXMiLCJzYXZlVXNlciIsInVzZXIiLCJjcmVhdGUiLCJyZXNjdWVQYXNzd29yZCIsInVzZXJFbWFpbCIsImNoYW5nZVBhc3N3b3JkIiwiQVBJX1JPVVRFX1NFTkRNRVNTQUdFIiwiQVBJX1JPVVRFX1VTRVIiLCJBUElfUk9VVEVfUkVTQ1VFUEFTU1dPUkQiLCJteXRva2VuVVJMIiwic2VhcmNoIiwiQVBJX1JPVVRFX1NFVE5FV1BBU1NXT1JEIiwibXl0b2tlbiIsInBhc3N3b3JkIiwiQVBJX1JPVVRFX1VQREFURVBIT1RPIiwiYXBwQ29uZmlnIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwibmVvblJlZE1hcCIsImV4dGVuZFBhbGV0dGUiLCI1MCIsIjEwMCIsIjIwMCIsIjMwMCIsIjQwMCIsIjUwMCIsIjYwMCIsIjcwMCIsIjgwMCIsIjkwMCIsIkExMDAiLCJBMjAwIiwiQTQwMCIsIkE3MDAiLCJjb250cmFzdERlZmF1bHRDb2xvciIsImNvbnRyYXN0RGFya0NvbG9ycyIsImNvbnRyYXN0TGlnaHRDb2xvcnMiLCJkZWZpbmVQYWxldHRlIiwidGhlbWUiLCJwcmltYXJ5UGFsZXR0ZSIsImFjY2VudFBhbGV0dGUiLCIkcSIsImF1dGhGYWN0b3J5IiwibG9naW4iLCJzZXRUb2tlbiIsInRva2VuIiwiaXNMb2dnZWRJbiIsImdldFRva2VuIiwiZ2V0VXNlciIsInJlamVjdCIsImF1dGhUb2tlbkZhY3RvcnkiLCJyZW1vdmVJdGVtIiwiaW50ZXJjZXB0b3JGYWN0b3J5IiwicmVxdWVzdCIsImhlYWRlcnMiLCIkZG9jdW1lbnQiLCJsaW5rIiwic2NvcGUiLCJhdHRyIiwibW91c2Vtb3ZlIiwiaWRfZGl2IiwiY3NzIiwibW91c2Vtb3ZlUG9zdEl0IiwibW91c2V1cCIsInVuYmluZCIsIm1vdXNldXBQb3N0SXQiLCJwcmV2ZW50RGVmYXVsdCIsImJpbmQiLCJyeCIsImF0dHJzIiwiT2JzZXJ2YWJsZSIsImZyb21FdmVudCIsIm1vdXNlZG93biIsIm1hcCIsImNsaWVudFgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRZIiwibW91c2VkcmFnIiwic2VsZWN0TWFueSIsImltYWdlT2Zmc2V0IiwicG9zIiwidGFrZVVudGlsIiwic3Vic2NyaWJlIiwiY2FsbCIsImxvZ2luQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCJnZXRMb2NhbENvZGUiLCJNYXRoIiwicmFuZG9tIiwiZmxvb3IiLCJkb0xvZ2luIiwiZXJyb3IiLCJsYW5ndWFnZSIsInVzZXJEYXRhIiwibG9nZ2VkSW4iLCIkb24iLCJzb2NrZXQiLCJpbyIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwicmVtb3ZlTGlzdGVuZXIiXSwibWFwcGluZ3MiOiJDQUdBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSxPQUFBLFlBQUEsZUFBQSxjQUFBLG1CQUFBLFlBQUEsVUFBQSxjQUFBLFlBQUEsYUFBQSxZQUFBLFlBQUEsMkJBQ0FDLFFBQUEsZ0JBQUEsU0FBQUMsR0FDQUEsRUFBQUMsYUFBQUMsS0FBQSx5QkNOQSxXQUVBLFlBY0EsU0FBQUMsR0FBQUMsR0FpQkEsUUFBQUMsR0FBQUEsR0FDQUMsS0FBQUMsUUFBQUYsRUFDQUQsRUFBQUksTUFFQUMsV0FBQSxrQkFDQUMsYUFBQSxLQUNBQyxZQUFBLDRCQUNBQyxPQUFBLEtBQ0FDLGlCQUFBLEVBQ0FDLFNBQUEsWUFDQUMsVUFBQSxNQUtBLFFBQUFDLEdBQUFYLEdBQ0FDLEtBQUFDLFFBQUFGLEVBQ0FELEVBQUFJLE1BRUFDLFdBQUEsa0JBQ0FDLGFBQUEsS0FDQUMsWUFBQSw0QkFDQUMsT0FBQSxLQUNBQyxpQkFBQSxFQUNBQyxTQUFBLGNBQ0FDLFVBQUEsTUF6Q0EsR0FBQUUsSUFDQVYsUUFBQSxHQUNBRixhQUFBQSxFQUNBVyxtQkFBQUEsRUFFQSxPQUFBQyxHQWxCQXBCLFFBQUFDLE9BQUEsbUJBQ0FXLFdBQUEsbUJBQUEsV0FBQSxXQUFBLFNBQUFMLEVBQUFELEdBQ0EsR0FBQWUsR0FBQVosSUFDQVksR0FBQVgsUUFBQUosRUFBQUksUUFDQVcsRUFBQUMsV0FBQSxXQUNBZixFQUFBZ0IsV0FHQUMsUUFBQSxXQUFBbEIsR0FFQUEsRUFBQW1CLFNBQUEsZUNkQSxXQUNBLFlBTUEsU0FBQUMsR0FBQUMsRUFBQUMsR0FHQUQsRUFBQUUsTUFBQSxRQUNBQyxJQUFBLElBQ0FoQixZQUFBLDRCQUNBRixXQUFBLDBCQUVBaUIsTUFBQSxjQUNBQyxJQUFBLFFBQ0FDLE9BQ0FD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LEVBQUFBLFNBM0JBdkQsUUFDQUMsT0FBQSxPQUNBVyxXQUFBLGtCQUFBNGMsR3RCa2xGUUEsRUFBZ0IvYixTQUFXLFNBQVUsYUFBYyxhQUFjLFNBQVUsT0FBUSxVQUFXLFVBQVcsZXVCeGxGakgsV0FFQSxZQUVBekIsU0FDQUMsT0FBQSxPQUNBbUIsUUFBQSxVQUNBLFlBQUEsV0FDQSxTQUFBNlAsRUFBQTdKLEdBRUEzRyxLQUFBMmQsT0FBQUMsS0FLQTVkLEtBQUF3RyxHQUFBLFNBQUFxWCxFQUFBQyxHQUNBOWQsS0FBQTJkLFFBQ0EzZCxLQUFBMmQsT0FBQW5YLEdBQUFxWCxFQUFBLFNBQUEvYSxHQUNBNkQsRUFBQSxXQUNBbVgsRUFBQWhiLFFBTUE5QyxLQUFBd0YsS0FBQSxTQUFBcVksRUFBQS9hLEdBQ0E5QyxLQUFBMmQsUUFDQTNkLEtBQUEyZCxPQUFBblksS0FBQXFZLEVBQUEvYSxJQUlBOUMsS0FBQStkLGVBQUEsU0FBQUYsR0FDQTdkLEtBQUEyZCxRQUNBM2QsS0FBQTJkLE9BQUFJLGVBQUFGIiwiZmlsZSI6ImFwcC5kc2MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJyxbJ25nSW1nQ3JvcCcsJ3RvYXN0U2VydmljZScsJ3RleHRBbmd1bGFyJywnbHVlZ2cuZGlyZWN0aXZlcycsICdhcHBSeERyYWcnLCAnRHJvcERTQycsJ2F1dGhTZXJ2aWNlJywndWkucm91dGVyJywnbmdNYXRlcmlhbCcsJ25nTWRJY29ucycsJ25nQ29va2llcycsJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnXSlcclxuICAgICAgICAuY29uZmlnKGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnQXV0aEludGVyY2VwdG9yJyk7XHJcbiAgICAgICAgfSlcclxuXHJcbn0pKCk7XHJcblxyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNy8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCd0b2FzdFNlcnZpY2UnLFtdKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCd0b2FzdENvbnRyb2xsZXInLCBmdW5jdGlvbigkbWRUb2FzdCx0b2FzdEFwcCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZSA9ICB0b2FzdEFwcC5tZXNzYWdlO1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlVG9hc3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRtZFRvYXN0LmhpZGUoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5mYWN0b3J5KCAndG9hc3RBcHAnLCB0b2FzdEFwcCApO1xyXG5cclxuICAgIHRvYXN0QXBwLiRpbmplY3QgPSBbICckbWRUb2FzdCcgXTtcclxuXHJcbiAgICBmdW5jdGlvbiB0b2FzdEFwcCAoJG1kVG9hc3QpIHtcclxuICAgICAgICB2YXIgc2VydmljZSA9IHtcclxuICAgICAgICAgICAgbWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2VCb3R0b206IGVycm9yTWVzc2FnZUJvdHRvbVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XHJcblxyXG4gICAgICAgIC8qZnVuY3Rpb24gZXJyb3JNZXNzYWdlKGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgICAgICAgIC50ZXh0Q29udGVudChlcnJvck1lc3NhZ2UpXHJcbiAgICAgICAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAgICAgICAuaGlkZURlbGF5KDgwMClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9Ki9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZXJyb3JNZXNzYWdlKGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3RvYXN0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvZHNjdG9hc3QuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIk9LXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0QWN0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInRvcCByaWdodFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVEZWxheTogMjAwMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZXJyb3JNZXNzYWdlQm90dG9tKGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3RvYXN0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvZHNjdG9hc3QuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIk9LXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0QWN0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImJvdHRvbSBsZWZ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZURlbGF5OiAxMDAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSkoKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29uZmlnKHJvdXRlcyk7XHJcblxyXG4gICAgZnVuY3Rpb24gcm91dGVzKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuXHJcblxyXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdpbml0Jywge1xyXG4gICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9pbml0cGFnZS5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2luaXQubG9naW4nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdsb2dpbicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy91c2VybG9naW4uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2luaXQuc2lnbnVwJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnc2lnbnVwJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdGFiJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3NpZ251cC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cENvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2luaXQucmVzY3VlcGFzc3dvcmQnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdyZXNjdWVwYXNzd29yZCcsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9yZXNjdWVwYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cENvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3N0YXJ0cHJvYmxlbScsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9zdGFydHByb2JsZW0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9zdGFydHByb2JsZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc3RhcnRQcm9ibGVtQ29udHJvbGxlciBhcyB2bSdcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvZmlsZScsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9wcm9maWxlJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvZmlsZS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9maWxlQ29udHJvbGxlciBhcyB2bSdcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnZHNjcmVwb3J0Jywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2RzY3JlcG9ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvYmxlbXJlcG9ydC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Byb2JsZW1SZXBvcnRDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ25ld3Bhc3N3b3JkJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL25ld3Bhc3N3b3JkLzpteXRva2VuJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvbmV3cGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbnVwQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3Byb2JsZW0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21lbnVQcm9ibGVtQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAvKiAuc3RhdGUoJ3Byb2JsZW0uZGVzY3JpcHRpb24nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvZGVzY3JpcHRpb24nLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAncHJvYmxlbS1kZXNjcmlwdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9ibGVtZGVzY3JpcHRpb24uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlZGl0UHJvYmxlbUNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSovXHJcbiAgICAgICAgICAgIC8qLnN0YXRlKCdwcm9ibGVtLmNvbGxhYm9yYXRvcnMnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvY29sbGFib3JhdG9ycycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdwcm9ibGVtLWRlc2NyaXB0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2NvbGxhYm9yYXRvcnMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb250cm9sbGVyQ29sbGFib3JhdG9ycyBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pKi9cclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLnN0YWtlaG9sZGVycycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9zdGFrZWhvbGRlcnMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3N0YWtlaG9sZGVycy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YWtlaG9sZGVyQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5ldmFsdWF0aW9uZnJhbWV3b3JrJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2V2YWx1YXRpb25mcmFtZXdvcmsnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2V2YWx1YXRpb25mcmFtZXdvcmsuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0uc2VtaW90aWNmcmFtZXdvcmsnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvc2VtaW90aWNmcmFtZXdvcmsnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3NlbWlvdGljZnJhbWV3b3JrLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmNhcmYnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvY2FyZicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvY2FyZi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NhcmZDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLnZpZicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy92aWYnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3ZpZi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0ub25pb24nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvb25pb24nLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL29uaW9uLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnb25pb24zTGF5ZXJDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2xvZ2luJyk7XHJcblxyXG4gICAgfVxyXG5cclxufSkoKTtcclxuIixudWxsLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDE5LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2hlbHBDb250cm9sbGVyJyxoZWxwQ29udHJvbGxlcilcclxuICAgIC5kaXJlY3RpdmUoJ2J1dHRvbmhlbHAnLGJ1dHRvbmhlbHApO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGhlbHBDb250cm9sbGVyKCRtZERpYWxvZykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5vcGVuRm9ybUVtYWlsID0gb3BlbkZvcm1FbWFpbDtcclxuICAgIGZ1bmN0aW9uIG9wZW5Gb3JtRW1haWwoZXYpe1xyXG4gICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgY29udHJvbGxlcjogSGVscEVtaWxDb250cm9sbGVyLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2hlbHBkc2MuaHRtbCcsXHJcbiAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICB0YXJnZXRFdmVudDogZXZcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBIZWxwRW1pbENvbnRyb2xsZXIoJHNjb3BlLHRvYXN0QXBwLCBzaWdudXBTZXJ2aWNlLCRtZERpYWxvZywkd2luZG93KSB7XHJcblxyXG4gICAgICAgICRzY29wZS5zZW5kRW1haWxEU0MgPSBzZW5kRW1haWxEU0M7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlbmRFbWFpbERTQyhtZXNzYWdlKXtcclxuICAgICAgICAgICAgbWVzc2FnZS5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UuZW1pbENvbnRhY3QgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyZW1haWwnKTtcclxuXHJcbiAgICAgICAgICAgIHNpZ251cFNlcnZpY2Uuc2VuZGVtYWlsRFNDKG1lc3NhZ2UpXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZSgnVGhhbmsgeW91IGZvciB5b3UgbWVzc2FnZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLmhpZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gYnV0dG9uaGVscCgpe1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0ZW1wbGF0ZVVybCA6IFwiYXBwL2ZlZWRiYWNrL2hlbHBidXR0b24uaHRtbFwiLFxyXG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIlxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTkvMDYvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGluaXRMYW5ndWFnZSlcclxuICAgIC5jb250cm9sbGVyKCdsYW5ndWFnZUNvbnRyb2xsZXInLGxhbmd1YWdlQ29udHJvbGxlcilcclxuICAgIC5kaXJlY3RpdmUoJ2NoYW5nZUxhbmd1YWdlJyxjaGFuZ2VMYW5ndWFnZSk7XHJcblxyXG5pbml0TGFuZ3VhZ2UuJGluamVjdCA9IFsnJHRyYW5zbGF0ZVByb3ZpZGVyJ107XHJcbmxhbmd1YWdlQ29udHJvbGxlci4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJ107XHJcblxyXG5mdW5jdGlvbiBpbml0TGFuZ3VhZ2UgKCR0cmFuc2xhdGVQcm92aWRlcikge1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VTdGF0aWNGaWxlc0xvYWRlcih7XHJcbiAgICAgICAgICAgIHByZWZpeDogJ2FwcC9sYW5ndWFnZS9sYW5nLScsXHJcbiAgICAgICAgICAgIHN1ZmZpeDogJy5qc29uJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCdlc2NhcGVkJyk7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZUxvY2FsU3RvcmFnZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsYW5ndWFnZUNvbnRyb2xsZXIgKCR0cmFuc2xhdGUpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuc2V0TGFuZyA9IHNldExhbmc7XHJcbiAgICBmdW5jdGlvbiBzZXRMYW5nKGxhbmdLZXkpIHtcclxuICAgICAgICAgICAgJHRyYW5zbGF0ZS51c2UobGFuZ0tleSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUxhbmd1YWdlKCl7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRlbXBsYXRlVXJsIDogXCJhcHAvbGFuZ3VhZ2UvY2hhbmdlTGFuZ3VhZ2UuaHRtbFwiLFxyXG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIlxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTQvMDcvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKFwiY2FyZkNvbnRyb2xsZXJcIixjYXJmQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gY2FyZkNvbnRyb2xsZXIoJHdpbmRvdyxTb2NrZXQscHJvYmxlbVNlcnZpY2UsdG9hc3RBcHApe1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5pZFByb2JsZW0gPSBcIlwiO1xyXG4gICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLnZhbHVlTGlzdCA9IFtdO1xyXG4gICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5sb2NhbFN0YWtlaG9sZGVycyA9IFtdO1xyXG4gICAgICAgIHNlbGYuYWRkcG1zdmFsdWUgPSBhZGRwbXN2YWx1ZTtcclxuICAgICAgICBzZWxmLnJlbW92ZUNBUkYgPSByZW1vdmVDQVJGO1xyXG4gICAgICAgIHNlbGYuc2VsZWN0UE1TVmFsdWUgPSBzZWxlY3RQTVNWYWx1ZTtcclxuICAgICAgICBzZWxmLnNldFByaW90aXR5ID0gc2V0UHJpb3RpdHk7XHJcbiAgICAgICAgc2VsZi5hZGRMaXN0VmFsdWUgPSBhZGRMaXN0VmFsdWU7XHJcbiAgICAgICAgc2VsZi5hZGRTdGFrZWhvbGRlciA9IGFkZFN0YWtlaG9sZGVyO1xyXG4gICAgICAgIHNlbGYuY2FyZiA9IHtcclxuICAgICAgICAgICAgcG1zOiBcIlwiLFxyXG4gICAgICAgICAgICB2YWx1ZXM6IFtdLFxyXG4gICAgICAgICAgICBwcmlvcml0eTogXCJcIixcclxuICAgICAgICAgICAgcmVxdWlyZW1lbnQ6IFwiXCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICBzZWxmLmluaXRDYXJmID0gaW5pdENhcmY7XHJcbiAgICAgICAgc2VsZi5jYXJmTGlzdCA9IFtdO1xyXG4gICAgICAgIHNlbGYuY2FyZlByaW9yaXR5TGlzdCA9IFtdO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0Q2FyZigpe1xyXG4gICAgICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRjYXJmKHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzID0gZGF0YS5zdGFrZWhvbGRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gc2VsZi5sb2NhbFN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmTGlzdCA9IGRhdGEuY2FyZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmUHJpb3JpdHlMaXN0ID0gc2VsZi5sb2NhbFByaW9yaXR5TGlzdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0Q2FyZigpe1xyXG4gICAgICAgICAgICBzZWxmLmNhcmYgPSB7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBwbXM6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlbWVudDogXCJcIixcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc2VsZi52YWx1ZUxpc3QgPSBbXTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0Q0FSRmFkZCcsIGZ1bmN0aW9uIChjYXJmKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZkxpc3QucHVzaChjYXJmKTtcclxuICAgICAgICAgICAgcmVzZXRDYXJmKCk7XHJcbiAgICAgICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gc2VsZi5sb2NhbFN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgc2VsZi5jYXJmUHJpb3JpdHlMaXN0ID0gc2VsZi5sb2NhbFByaW9yaXR5TGlzdDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkcG1zdmFsdWUoY2FyZil7XHJcblxyXG4gICAgICAgICAgICBpZihjYXJmLnBtcyA9PT0gXCJcIil7XHJcbiAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZWxlY3QgUE1TXCIpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGlmKGNhcmYudmFsdWVzLmxlbmd0aCA8IDEgKXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZWxlY3Qgb25lIG9yIG1vcmUgVmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpZihjYXJmLnN0YWtlaG9sZGVycy5sZW5ndGggPCAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IG9uZSBvciBtb3JlIFN0YWtlaG9sZGVyKHMpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjYXJmLnByaW9yaXR5ID09PSBcIlwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBwcmlvcml0eSBbTG93LCBNZWRpdW0gb3IgSGlnaF1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENBUkZhZGQnLCBjYXJmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RDQVJGcmVtb3ZlJywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZkxpc3Quc3BsaWNlKGlkLDEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVDQVJGKGluZGV4LGNhcmYpe1xyXG4gICAgICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgY2FyZjogY2FyZlxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0Q0FSRnJlbW92ZScsIG9iaik7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VsZWN0UE1TVmFsdWUocG1zKXtcclxuICAgICAgICAgICAgaWYocG1zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLmNhcmZQTVNWYWx1ZSwgZnVuY3Rpb24gKHBtc192YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbXNfdmFsdWUucG1zID09IHBtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmYudmFsdWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudmFsdWVMaXN0ID0gcG1zX3ZhbHVlLnZhbHVlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRQcmlvdGl0eShwcmlvcml0eSl7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZi5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkTGlzdFZhbHVlKG5ld3ZhbHVlKXtcclxuICAgICAgICAgICBpZihzZWxmLmNhcmYudmFsdWVzLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNhcmYudmFsdWVzLnB1c2gobmV3dmFsdWUpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5jYXJmLnZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgaWYgKG5ld3ZhbHVlID09IHNlbGYuY2FyZi52YWx1ZXNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmYudmFsdWVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgc2VsZi5jYXJmLnZhbHVlcy5wdXNoKG5ld3ZhbHVlKTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRTdGFrZWhvbGRlcihuZXdTdGFrZWhvbGRlcil7XHJcbiAgICAgICAgICAgIGlmKHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMucHVzaChuZXdTdGFrZWhvbGRlcik7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihuZXdTdGFrZWhvbGRlciA9PSBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzW2ldKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMucHVzaChuZXdTdGFrZWhvbGRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYubG9jYWxQcmlvcml0eUxpc3QgPSBbJ0xvdycsICdNZWRpdW0nLCdIaWdoJ107XHJcblxyXG4gICAgICAgIHNlbGYuY2FyZlBNU1ZhbHVlID0gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiSW50ZXJhY3Rpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSWRlbnRpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJOb3Jtc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkFzc29jaWF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnZlcnNhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkdyb3Vwc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlJlbGF0aW9uc2hpcFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlRydXN0XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiTGVhcm5pbmdcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTWV0YS1jb21tdW5pY2F0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiUGxheVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBZXN0aGV0aWNzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRW1vdGlvbiBhbmQgQWZmZWN0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiUHJvdGVjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJbmZvcm1lZCBjb25zZXJ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVwdXRhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNlY3VyaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiRXhwbG9pdGF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkFjY2Vzc2liaWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJPYmplY3RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQcm9wZXJ0eSAob3duZXJzaGlwKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlVzYWJpbGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlRlcG9yYWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQXZhaWxhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQXdhcmVuZXNzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJlc2VuY2VcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJUZXJyaXRvcmlhbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQb3J0YWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlByaXZhY3lcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTY2FsYWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlZpc2liaWxpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJDbGFzc2lmaWNhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBdXRvbm9teVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbGxhYm9yYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTaGFyaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQWRhcHRhYmlsaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiU3Vic2lzdGVuY2VcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVjaXByb2NpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxNS8wNy8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdjaGF0RFNDJyxjaGF0RFNDKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjaGF0RFNDKCR0aW1lb3V0LCAkZmlsdGVyLCB0b2FzdEFwcCwgU29ja2V0LCBwcm9ibGVtU2VydmljZSwgJHdpbmRvdykge1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgICAgIHNlbGYubmlja25hbWUgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYudXNlcnNPbkxpbmUgPSBbXTtcclxuICAgICAgICBzZWxmLmluaXRIaXN0b3J5Q2hhdCA9IGluaXRIaXN0b3J5Q2hhdDtcclxuICAgICAgICBzZWxmLnNob3dSZXBsYXkgPSBzaG93UmVwbGF5O1xyXG4gICAgICAgIHNlbGYuc2VuZE1lc3NhZ2UgPSBzZW5kTWVzc2FnZTtcclxuICAgICAgICBzZWxmLnBob3RvID0gXCJcIjtcclxuICAgICAgICBzZWxmLm9wZW5DaGF0ID0gb3BlbkNoYXQ7XHJcbiAgICAgICAgc2VsZi5pc09wZW5DaGF0ID0gZmFsc2U7XHJcbiAgICAgICAgc2VsZi5rZXlwcmVzc0NoYXQgPSBrZXlwcmVzc0NoYXQ7XHJcbiAgICAgICAgc2VsZi5jb250YWRvciA9IDA7XHJcbiAgICAgICAgc2VsZi5zaG93VXNlcnNPbkxpbmUgPSBzaG93VXNlcnNPbkxpbmU7XHJcbiAgICAgICAgc2VsZi5zaG93VXNlciA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzaG93VXNlcnNPbkxpbmUoKXtcclxuICAgICAgICAgICAgaWYoc2VsZi51c2Vyc09uTGluZS5sZW5ndGggPiAxKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2hvd1VzZXIgPSAhc2VsZi5zaG93VXNlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5DaGF0KCl7XHJcbiAgICAgICAgICAgIHNlbGYuaXNPcGVuQ2hhdCA9ICFzZWxmLmlzT3BlbkNoYXQ7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlJykuZm9jdXMoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdEhpc3RvcnlDaGF0KCl7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHNlbGYubmlja25hbWUgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpO1xyXG4gICAgICAgICAgICBzZWxmLnBob3RvID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGhvdG8nKTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0aGlzdG9yeWNoYXQoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5oaXN0b3J5Y2hhdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBEYXRlKGRhdGEuaGlzdG9yeWNoYXRbaV0udGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNuID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBkYXRhLmhpc3RvcnljaGF0W2ldLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogZGF0YS5oaXN0b3J5Y2hhdFtpXS5tc2csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogdG1wLmdldERhdGUoKSArIFwiL1wiICsgKHRtcC5nZXRNb250aCgpICsgMSApKyBcIi9cIiArIHRtcC5nZXRGdWxsWWVhcigpICsgXCIgW1wiICsgdG1wLmdldEhvdXJzKCkgKyBcIjpcIiArIHRtcC5nZXRNaW51dGVzKCkgKyBcIl0gXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2gobXNuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvblVzZXJPTicsIGZ1bmN0aW9uIChuaWNrbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYobmlja25hbWUgIT09IHNlbGYubmlja25hbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFVzZXJzTGlzdChuaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldFVzZXJzTGlzdChuaWNrbmFtZSl7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgc2VsZi51c2Vyc09uTGluZS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZihzZWxmLnVzZXJzT25MaW5lW2ldID09PSBuaWNrbmFtZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYudXNlcnNPbkxpbmUucHVzaChuaWNrbmFtZSk7XHJcbiAgICAgICAgICAgIHNlbGYudXNlcnNPbkxpbmUuc29ydCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbk5vdGlmeU9OJywgZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICBpZihzZWxmLm5pY2tuYW1lICE9PSBvYmoubmlja25hbWUpIHtcclxuICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZUJvdHRvbShvYmoubmlja25hbWUgKyBcIiwgXCIgKyAkZmlsdGVyKCd0cmFuc2xhdGUnKShvYmoubXNnKSk7XHJcbiAgICAgICAgICAgICAgICBzZXRVc2Vyc0xpc3Qob2JqLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgIFNvY2tldC5lbWl0KCd1c2VyT04nLCBzZWxmLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLnVzZXJzT25MaW5lID0gW107XHJcbiAgICAgICAgICAgIHNlbGYudXNlcnNPbkxpbmUucHVzaChzZWxmLm5pY2tuYW1lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbk5vdGlmeU9GRicsIGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgaWYob2JqLm5pY2tuYW1lICE9PSBzZWxmLm5pY2tuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2VCb3R0b20ob2JqLm5pY2tuYW1lICsgXCIsIFwiICsgJGZpbHRlcigndHJhbnNsYXRlJykob2JqLm1zZykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi51c2Vyc09uTGluZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5uaWNrbmFtZSA9PT0gc2VsZi51c2Vyc09uTGluZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXNlcnNPbkxpbmUuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0Q2hhdCcsIGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBEYXRlKG9ialtvYmoubGVuZ3RoIC0xXS50aW1lKTtcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBvYmpbb2JqLmxlbmd0aCAtMV0ubmlja25hbWUsXHJcbiAgICAgICAgICAgICAgICBtc2c6IG9ialtvYmoubGVuZ3RoIC0xXS5tc2csXHJcbiAgICAgICAgICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxKSArIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd1JlcGxheSgpe1xyXG4gICAgICAgICAgICBpZihzZWxmLnJlcGxheSl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVwbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENoYXQnLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShvYmpbb2JqLmxlbmd0aCAtMV0udGltZSk7XHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuaWNrbmFtZTogb2JqW29iai5sZW5ndGggLTFdLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgbXNnOiBvYmpbb2JqLmxlbmd0aCAtMV0ubXNnLFxyXG4gICAgICAgICAgICAgICAgdGltZTogdG1wLmdldERhdGUoKSArIFwiL1wiICsgKHRtcC5nZXRNb250aCgpICsgMSkgKyBcIi9cIiArIHRtcC5nZXRGdWxsWWVhcigpICsgXCIgW1wiICsgdG1wLmdldEhvdXJzKCkgKyBcIjpcIiArIHRtcC5nZXRNaW51dGVzKCkgKyBcIl0gXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZW5kTWVzc2FnZShjaGF0bXNnKXtcclxuICAgICAgICAgICAgaWYoY2hhdG1zZyA9PT0gdW5kZWZpbmVkIHx8IGNoYXRtc2cubGVuZ3RoIDwgMiApe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDaGF0JywgY2hhdG1zZyk7XHJcbiAgICAgICAgICAgIHNlbGYubmV3bXNnID0gXCJcIjtcclxuICAgICAgICAgICAgc2VsZi5jb250YWRvciA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB6ZXJhckNvbnRhZG9yKCl7XHJcbiAgICAgICAgICAgIHNlbGYuY29udGFkb3IgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24ga2V5cHJlc3NDaGF0KGV2ZW50LGNoYXRtc2cpe1xyXG4gICAgICAgICAgICBpZihldmVudC5rZXlDb2RlID09IDEzKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuY29udGFkb3IrKztcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNvbnRhZG9yID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dCh6ZXJhckNvbnRhZG9yLCAyMDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHNlbGYuY29udGFkb3IgPiAxKXtcclxuICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZShjaGF0bXNnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcbi8qXHJcbnZhciBzZWxmID0gdGhpcztcclxuc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG5zZWxmLm1lc3NhZ2VzID0gW107XHJcbnNlbGYucmVwbGF5ID0gZmFsc2U7XHJcbnNlbGYubmlja25hbWUgPSBcIlwiO1xyXG5zZWxmLnVzZXJMaXN0ID0gW107XHJcbnNlbGYuaW5pdEhpc3RvcnlDaGF0ID0gaW5pdEhpc3RvcnlDaGF0O1xyXG5zZWxmLmNsb3NlID0gY2xvc2U7XHJcbnNlbGYuc2hvd1JlcGxheSA9IHNob3dSZXBsYXk7XHJcbnNlbGYuc2VuZE1lc3NhZ2UgPSBzZW5kTWVzc2FnZTtcclxuXHJcbmZ1bmN0aW9uIGNsb3NlKCkge1xyXG4gICAgJG1kU2lkZW5hdignY2hhdCcpLmNsb3NlKClcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRsb2cuZGVidWcoXCJjbG9zZSBjaGF0XCIpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0SGlzdG9yeUNoYXQoKXtcclxuICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgIHNlbGYucGhvdG8gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG90bycpO1xyXG4gICAgcHJvYmxlbVNlcnZpY2UuZ2V0aGlzdG9yeWNoYXQoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5oaXN0b3J5Y2hhdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShkYXRhLmhpc3RvcnljaGF0W2ldLnRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtc24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBkYXRhLmhpc3RvcnljaGF0W2ldLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGRhdGEuaGlzdG9yeWNoYXRbaV0ubXNnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxICkrIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKG1zbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIFNvY2tldC5lbWl0KCdjaGVja1VzZXJzJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dSZXBsYXkoKXtcclxuICAgIGlmKHNlbGYucmVwbGF5KXtcclxuICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgc2VsZi5yZXBsYXkgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5Tb2NrZXQub24oJ29uQnJvYWRjYXN0Q2hhdCcsIGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHZhciB0bXAgPSBuZXcgRGF0ZShvYmpbb2JqLmxlbmd0aCAtMV0udGltZSk7XHJcbiAgICBzZWxmLm1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgIG5pY2tuYW1lOiBvYmpbb2JqLmxlbmd0aCAtMV0ubmlja25hbWUsXHJcbiAgICAgICAgbXNnOiBvYmpbb2JqLmxlbmd0aCAtMV0ubXNnLFxyXG4gICAgICAgIHRpbWU6IHRtcC5nZXREYXRlKCkgKyBcIi9cIiArICh0bXAuZ2V0TW9udGgoKSArIDEpICsgXCIvXCIgKyB0bXAuZ2V0RnVsbFllYXIoKSArIFwiIFtcIiArIHRtcC5nZXRIb3VycygpICsgXCI6XCIgKyB0bXAuZ2V0TWludXRlcygpICsgXCJdIFwiXHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5Tb2NrZXQub24oJ29uQ2hlY2tVc2VycycsIGZ1bmN0aW9uICh1c2VyTGlzdCkge1xyXG4gICAgc2VsZi51c2VyTGlzdCA9IHVzZXJMaXN0O1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHNlbmRNZXNzYWdlKGNoYXRtc2cpe1xyXG4gICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENoYXQnLCBjaGF0bXNnKTtcclxuICAgIHNlbGYubmV3bXNnID0gXCJcIjtcclxufSovXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjIvMDcvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2RzY1JlcG9ydENvbnRyb2xsZXInLGRzY1JlcG9ydENvbnRyb2xsZXIpO1xyXG5cclxuZnVuY3Rpb24gZHNjUmVwb3J0Q29udHJvbGxlcigpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmlkcHJvYmxlbSA9ICdhamZsYWpmbGphbGZqYWxqZic7XHJcbiAgICBzZWxmLmJ1aWRSZXBvcnQgPSBidWlkUmVwb3J0O1xyXG5cclxuICAgIGZ1bmN0aW9uIGJ1aWRSZXBvcnQoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBodG1sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RSZXNwb3J0Jyk7XHJcbiAgICAgICAgdmFyIHBkZiA9IG5ldyBqc1BERignbCcsJ3B4Jyk7XHJcbiAgICAgICAgcGRmLmFkZEhUTUwoXHJcbiAgICAgICAgICAgIGh0bWwsIDAsIDAsIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VzcGxpdDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbihkaXNwb3NlKXtcclxuICAgICAgICAgICAgICAgIHBkZi5zYXZlKCd0ZXN0LnBkZicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjkvMDYvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlcicsZXZhbHVhdGlvbmZyYW1ld29ya0NvbnRyb2xsZXIpO1xyXG5cclxuICBmdW5jdGlvbiBldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlciAoJHdpbmRvdyxwcm9ibGVtU2VydmljZSxTb2NrZXQsdG9hc3RBcHApe1xyXG5cclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICBzZWxmLmV2YWx1YXRpb25mcmFtZXdvcmtMaXN0ID1bXTtcclxuICAgICAgc2VsZi5pbml0RXZhbHVhdGlvbiA9IGluaXRFdmFsdWF0aW9uO1xyXG4gICAgICBzZWxmLnNldE9wZW5FZGl0RGlzY3V0aW9uID0gc2V0T3BlbkVkaXREaXNjdXRpb247XHJcbiAgICAgIHNlbGYuc2F2ZUZyYW1lID0gc2F2ZUZyYW1lO1xyXG5cclxuICAgICAgZnVuY3Rpb24gaW5pdEV2YWx1YXRpb24oKXtcclxuICAgICAgICAgIHNlbGYuaWRwcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGV2YWx1YXRpb24oc2VsZi5pZHByb2JsZW0pXHJcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QgPSBkYXRhLmV2YWx1YXRpb25mcmFtZXdvcms7XHJcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdEZyYW1lRWRpdCcsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5ldmFsdWF0aW9uZnJhbWV3b3JrTGlzdCxmdW5jdGlvbihldmFsdWF0aW9uZnJhbWV3b3JrKXtcclxuICAgICAgICAgICAgIGlmKCBldmFsdWF0aW9uZnJhbWV3b3JrLm9uaW9ubGF5ZXIgPT0gZGF0YS5vbmlvbmxheWVyKXtcclxuICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZXZhbHVhdGlvbmZyYW1ld29yay5zdGFrZWhvbGRlcnMsZnVuY3Rpb24oc3Rha2Vob2xkZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICBpZiAoc3Rha2Vob2xkZXIuX2lkID09IGRhdGEuX2lkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vbmlvbmxheWVyID0gZGF0YS5vbmlvbmxheWVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBkYXRhLm9wZW5FZGl0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIucHJvYmxlbXMgPSBkYXRhLnByb2JsZW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuc29sdXRpb25zID0gZGF0YS5zb2x1dGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNhdmVGcmFtZShzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdEZyYW1lU2F2ZScsIHN0YWtlaG9sZGVyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgU29ja2V0Lm9uKCdvblVwZGF0ZVN0YWtlaG9sZGVyJywgZnVuY3Rpb24gKHN0YWtlaG9sZGVyT25pb24pIHtcclxuXHJcblxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNldE9wZW5FZGl0RGlzY3V0aW9uKGN1cnJlbnRTdGFrZWhvbGRlcil7XHJcbiAgICAgICAgICBjdXJyZW50U3Rha2Vob2xkZXIub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ21lbnVQcm9ibGVtQ29udHJvbGxlcicsIG1lbnVQcm9ibGVtYUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIG1lbnVQcm9ibGVtYUNvbnRyb2xsZXIoQXV0aCwgJG1kRGlhbG9nLCAkc2NvcGUsICRmaWx0ZXIsICRzdGF0ZSwgJHdpbmRvdywgcHJvYmxlbVNlcnZpY2UsdG9hc3RBcHAsIFNvY2tldCl7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAvL3NlbGYub3BlbkNoYXQgPSBidWlsZFRvZ2dsZXIoJ2NoYXQnKTtcclxuICAgICAgICBzZWxmLmZvcm1BZGRDb2xsYWJvcmF0b3JzID0gZm9ybUFkZENvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgc2VsZi5lZGl0RGVzY3JpcHRpb25Qcm9ibGVtID0gZWRpdERlc2NyaXB0aW9uUHJvYmxlbTtcclxuICAgICAgICBzZWxmLmRvTG9nb3V0ID0gZG9Mb2dvdXQ7XHJcbiAgICAgICAgc2VsZi5zeXN0ZW1SZXR1cm4gPSBzeXN0ZW1SZXR1cm47XHJcbiAgICAgICAgc2VsZi5mb3JtUHJvYmxlbVJlcG9ydCA9IGZvcm1Qcm9ibGVtUmVwb3J0O1xyXG4gICAgICAgIHNlbGYuZ2V0Q3VycmVudFByb2JsZW0gPSBnZXRDdXJyZW50UHJvYmxlbTtcclxuICAgICAgICBzZWxmLm5pY2tuYW1lO1xyXG4gICAgICAgIHNlbGYuZHNjX2FydGlmYWN0cyA9IFtdO1xyXG4gICAgICAgIHNlbGYuZm9ybUVkaXRQcm9ibGVtID0gZm9ybUVkaXRQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZm9ybUludml0ZUNvbGxhYm9yYXRvciA9IGZvcm1JbnZpdGVDb2xsYWJvcmF0b3I7XHJcbiAgICAgICAgdmFyIGxvY2FsY29kZSA9ICcnO1xyXG5cclxuXHJcblxyXG4gICAgICAgIC8qRWRpdCBQcm9ibGVtKi9cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkF0dWFsaXphclByb2JsZW1hJywgZnVuY3Rpb24gKHJldG9ybm8pIHtcclxuICAgICAgICAgICAgaWYobG9jYWxjb2RlICE9PSByZXRvcm5vLmxvY2FsY29kZSkge1xyXG4gICAgICAgICAgICAgICAgc2V0RGVzY3JpdGlvbihyZXRvcm5vLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzYXZlUHJvYmxlbShwcm9ibGVtKXtcclxuICAgICAgICAgICAgcHJvYmxlbS5sb2NhbGNvZGUgPSBsb2NhbGNvZGU7XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdhdHVhbGl6YXJQcm9ibGVtYScsIHByb2JsZW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZm9ybUVkaXRQcm9ibGVtKGV2KSB7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IERpYWxvZ0VkaXRQcm9ibGVtQ29udHJvbGxlcixcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvYmxlbWRlc2NyaXB0aW9uLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRFdmVudDogZXZcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBEaWFsb2dFZGl0UHJvYmxlbUNvbnRyb2xsZXIoJHRpbWVvdXQsJHNjb3BlLCRtZERpYWxvZykge1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlVHJ1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICRzY29wZS5wcm9ibGVtO1xyXG4gICAgICAgICAgICAkc2NvcGUucHJvYmxlbVVwZGF0ZSA9IHByb2JsZW1VcGRhdGU7XHJcbiAgICAgICAgICAgICRzY29wZS5nZXRQcm9ibGVtRWRpdCA9IGdldFByb2JsZW1FZGl0O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZURlc2NyaXB0aW9uID0gc2F2ZURlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAkc2NvcGUubmlja25hbWUgPSAnJztcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5oaWRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuY2FuY2VsKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UHJvYmxlbUVkaXQoKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRwcm9ibGVtKHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvYmxlbSA9IGRhdGEucHJvYmxlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFVwZGF0ZSgpe1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVHJ1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHByb2JsZW1VcGRhdGUoZGVzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9ibGVtID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICd1cGRhdGUnOiB1cGRhdGVUcnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzYXZlUHJvYmxlbShwcm9ibGVtKTtcclxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVUcnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVHJ1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KHNldFVwZGF0ZSwgMjAwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNhdmVEZXNjcmlwdGlvbihkZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2JsZW0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3VwZGF0ZSc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICBzYXZlUHJvYmxlbShwcm9ibGVtKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldERlc2NyaXRpb24ocHJvYmxlbSl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvYmxlbSA9IHByb2JsZW07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuIC8qIENvbnZpZGFyIFBhcnRpY2lwYW50ZXMgKi9cclxuICAgICAgICBmdW5jdGlvbiBmb3JtSW52aXRlQ29sbGFib3JhdG9yKGV2KSB7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IERpYWxvZ0ludml0ZUNvbGxhYm9yYXRvckNvbnRyb2xsZXIsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2NvbGxhYm9yYXRvcnMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIERpYWxvZ0ludml0ZUNvbGxhYm9yYXRvckNvbnRyb2xsZXIoJHNjb3BlLCRtZERpYWxvZykge1xyXG4gICAgICAgICAgICAkc2NvcGUuaWRQcm9ibGVtID0gXCJcIjtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbGxhYm9yYXRvcnMgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJlbWFpbCA9IFwiXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5pbml0Q29sbGFib3JhdG9ycyA9IGluaXRDb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgICAgICAkc2NvcGUuYWRkQ29sbGFib3JhdG9yID0gYWRkQ29sbGFib3JhdG9yO1xyXG4gICAgICAgICAgICAkc2NvcGUucmVtb3ZlQ29sbGFib3JhdG9yID0gcmVtb3ZlQ29sbGFib3JhdG9yO1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnREZWxldGVDb2xsYWJvcmF0b3IgPSBhbGVydERlbGV0ZUNvbGxhYm9yYXRvcjtcclxuICAgICAgICAgICAgJHNjb3BlLmVtYWlsID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5oaWRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuY2FuY2VsKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0Q29sbGFib3JhdG9ycygpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJlbWFpbCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJlbWFpbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGNvbGxhYm9yYXRvcnMoJHNjb3BlLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbGxhYm9yYXRvcnMgPSBkYXRhLmNvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1NvY2tldC5lbWl0KCdjaGVja1VzZXJzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2VhcmNoQ2FsbGFib3JhdGlvbihlbWFpbCl7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmNvbGxhYm9yYXRvcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVtYWlsID09ICRzY29wZS5jb2xsYWJvcmF0b3JzW2ldLmVtYWlsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRDb2xsYWJvcmF0b3IoZW1haWwpe1xyXG4gICAgICAgICAgICAgICAgaWYoJHNjb3BlLnVzZXJlbWFpbCA9PSBlbWFpbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRzY29wZS51c2VyZW1haWwgKyBcIiBpcyBlbWFpbCBvZiBvd25lci5cIik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaENhbGxhYm9yYXRpb24oZW1haWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlVzdWFyaW8gQ2FkYXN0cmFkby5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGludml0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkcHJvYmxlbTogJHNjb3BlLmlkUHJvYmxlbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5pbnZpdGUoaW52aXRlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb2xsYWJvcmF0b3JzID0gZGF0YS5jb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZW1haWwgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFsZXJ0RGVsZXRlQ29sbGFib3JhdG9yKGNvbGxhYm9yYXRvcil7XHJcbiAgICAgICAgICAgICAgICAgY29sbGFib3JhdG9yLmlzRGVsZXRlZCA9ICFjb2xsYWJvcmF0b3IuaXNEZWxldGVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVDb2xsYWJvcmF0b3IoY29sbGFib3JhdG9yKXtcclxuICAgICAgICAgICAgICAgICAgIGNvbGxhYm9yYXRvci5pZHByb2JsZW0gPSAkc2NvcGUuaWRQcm9ibGVtO1xyXG4gICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UucmVtb3ZlY29sbGFib3JhdG9ycyhjb2xsYWJvcmF0b3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb2xsYWJvcmF0b3JzID0gZGF0YS5jb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc0RlbGV0ZUNvbGxhYm9yYXRvciA9ICEkc2NvcGUuaXNEZWxldGVDb2xsYWJvcmF0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiQ29sYWJvcmFkb3IgXCIgKyBjb2xsYWJvcmF0b3Iubmlja25hbWUgKyBcIiBmb2kgcmVtb3ZpZG8gZG8gcHJvamV0by5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuLypNZW51IENvbnRyb2wqL1xyXG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudFByb2JsZW0oKXtcclxuICAgICAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIGxvY2FsY29kZSA9ICAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbGNvZGUnKTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbShzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtID0gZGF0YS5wcm9ibGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YS5wcm9ibGVtLmFydGlmYWN0cywgZnVuY3Rpb24gKGFydGlmYWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGFydGlmYWN0LnNwbGl0KFwiX1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZHNjX2FydGlmYWN0cy5wdXNoKHtuYW1lOiBcInByb2JsZW0uXCIgKyBuYW1lWzJdLnRvTG93ZXJDYXNlKCksIGxhYmVsOiAkZmlsdGVyKCd0cmFuc2xhdGUnKShhcnRpZmFjdCl9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VsZi5kc2NfYXJ0aWZhY3RzID0gZHNjX2FydGlmYWN0cztcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGluaXRzb2NrZXRwcm9ibGVtID0ge1xyXG4gICAgICAgICAgICBcImlkcHJvYmxlbVwiOnNlbGYuaWRQcm9ibGVtLFxyXG4gICAgICAgICAgICAgXCJuaWNrbmFtZVwiOiBzZWxmLm5pY2tuYW1lXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnaW5pdFByb2JsZW0nLCBpbml0c29ja2V0cHJvYmxlbSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAgICAgc2VsZi5zZWxlY3RlZEluZGV4ID0gMDtcclxuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBudWxsLFxyXG4gICAgICAgICAgICBwcmV2aW91cyA9IG51bGw7XHJcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnc2VsZWN0ZWRJbmRleCcsIGZ1bmN0aW9uKGN1cnJlbnQpe1xyXG4gICAgICAgICAgICBwcmV2aW91cyA9IHNlbGVjdGVkO1xyXG4gICAgICAgICAgICBzZWxlY3RlZCA9ICBzZWxmLmRzY19hcnRpZmFjdHNbY3VycmVudF07XHJcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRJbmRleCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN5c3RlbVJldHVybigpe1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnZGlzY29ubmVjdFByb2JsZW0nLCBzZWxmLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdzdGFydHByb2JsZW0nKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmb3JtQWRkQ29sbGFib3JhdG9ycygpe1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2JsZW0uY29sbGFib3JhdG9ycycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZm9ybVByb2JsZW1SZXBvcnQoKXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdkc2NyZXBvcnQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVkaXREZXNjcmlwdGlvblByb2JsZW0oKSB7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5kZXNjcmlwdGlvbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZG9Mb2dvdXQoKSB7XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdkaXNjb25uZWN0UHJvYmxlbScsIHNlbGYubmlja25hbWUpO1xyXG4gICAgICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbjsoZnVuY3Rpb24odW5kZWZpbmVkKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignb25pb24zTGF5ZXJDb250cm9sbGVyJyxvbmlvbjNMYXllckNvbnRyb2xsZXIpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIG9uaW9uM0xheWVyQ29udHJvbGxlcihTb2NrZXQsJHdpbmRvdyxwcm9ibGVtU2VydmljZSwkbWREaWFsb2csdG9hc3RBcHApe1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaWRwcm9ibGVtID0gXCJcIjtcclxuICAgIHNlbGYuaW5pdE9uaW9uM0xheWVyID0gaW5pdE9uaW9uM0xheWVyO1xyXG4gICAgc2VsZi5tb3ZlID0gZmFsc2U7XHJcbiAgICBzZWxmLm9uaW9uM0xheWVyTGlzdCA9IFtdO1xyXG4gICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgIHNlbGYuc2F2ZU9uaW9uM0xheWVyID0gc2F2ZU9uaW9uM0xheWVyO1xyXG4gICAgc2VsZi5zZXRPcGVuRWRpdCA9IHNldE9wZW5FZGl0O1xyXG4gICAgc2VsZi5kZWxQb3N0SXQgPSBkZWxQb3N0SXQ7XHJcbiAgICBzZWxmLmFkZFBvc3RJdCA9IGFkZFBvc3RJdDtcclxuICAgIHNlbGYuYWNlbmRlID0gYWNlbmRlO1xyXG4gICAgc2VsZi5hcGFnYSA9IGFwYWdhO1xyXG4gICAgc2VsZi5sb2NhbGNvZGUgPSAnJztcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0T25pb24zTGF5ZXIoKXtcclxuICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBzZWxmLmxvY2FsY29kZSA9ICAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbGNvZGUnKTtcclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRvbmlvbjNsYXllcihzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEucG9zdGl0cywgZnVuY3Rpb24gKHBvc3RpdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0aXQub3BlbkVkaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbmlvbjNMYXllckxpc3QucHVzaChwb3N0aXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbjNMYXllclNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5vbmlvbjNMYXllckxpc3QsIGZ1bmN0aW9uIChwb3N0aXQpIHtcclxuICAgICAgICAgICAgaWYgKHBvc3RpdC5faWQgPT0gZGF0YS5faWQpIHtcclxuICAgICAgICAgICAgICAgIHBvc3RpdC50aXRsZSA9IGRhdGEudGl0bGU7XHJcbiAgICAgICAgICAgICAgICBwb3N0aXQuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgcG9zdGl0Lm9wZW5FZGl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBwb3N0aXQubGF5ZXIgPSBkYXRhLmxheWVyO1xyXG4gICAgICAgICAgICAgICAgcG9zdGl0LnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICBwb3N0aXQueSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgIHBvc3RpdC56aW5kZXggPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZU9uaW9uM0xheWVyKHBvc3RpdCkge1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvbjNMYXllclNhdmUnLCBwb3N0aXQpO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbjNMYXllckVkaXQnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5vbmlvbjNMYXllckxpc3QsIGZ1bmN0aW9uIChwb3N0aXQpIHtcclxuICAgICAgICAgICAgaWYocG9zdGl0Ll9pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIHBvc3RpdC5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwb3N0aXQuemluZGV4ID0gOTk5OTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldE9wZW5FZGl0KGlkKXtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb24zTGF5ZXJFZGl0JywgaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbjNMYXllclJlbW92ZScsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHZhciBwb3N0aXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RpdFwiICsgc2VsZi5vbmlvbjNMYXllckxpc3RbaWRdLl9pZCk7XHJcbiAgICAgICAgcG9zdGl0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgc2VsZi5vbmlvbjNMYXllckxpc3Quc3BsaWNlKGlkLDEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlUG9zdEl0KGluZGV4LHBvc3RpdCkge1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvbjNMYXllclJlbW92ZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgIHBvc3RpdDogcG9zdGl0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlbFBvc3RJdChldixpbmRleCxwb3N0aXQpIHtcclxuICAgICAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgICAgLnBhcmVudChhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkpXHJcbiAgICAgICAgICAgIC50aXRsZSgnRGV0ZXRlIFBvc3RpdD8nKVxyXG4gICAgICAgICAgICAuY29udGVudCgnVGl0bGU6ICcgKyBwb3N0aXQudGl0bGUpXHJcbiAgICAgICAgICAgIC5hcmlhTGFiZWwoJ1JlbW92ZSBwb3N0aXQnKVxyXG4gICAgICAgICAgICAub2soJ1llcyEnKVxyXG4gICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWwnKVxyXG4gICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVBvc3RJdChpbmRleCxwb3N0aXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbjNMYXllck1vdmUnLCBmdW5jdGlvbiAocG9zdGl0KSB7XHJcbiAgICAgICAgICAgIGlmKHNlbGYubG9jYWxjb2RlICE9PSBwb3N0aXQubG9jYWxjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGl0Jytwb3N0aXQuX2lkKS5zdHlsZS5sZWZ0ID0gcG9zdGl0Lng7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGl0Jytwb3N0aXQuX2lkKS5zdHlsZS50b3AgPSBwb3N0aXQueTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbjNMYXllckFkZCcsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgaWYoc2VsZi5sb2NhbGNvZGUgIT09IGRhdGEubG9jYWxjb2RlKSB7XHJcbiAgICAgICAgICAgIGRhdGEucG9zdGl0Lm9wZW5FZGl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRhdGEucG9zdGl0LnRpdGxlID0gJ25ldyBQb3N0aXQnO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBkYXRhLnBvc3RpdC5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYub25pb24zTGF5ZXJMaXN0LnB1c2goZGF0YS5wb3N0aXQpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFBvc3RJdChlLGNhbWFkYSkge1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvbjNMYXllckFkZCcsIHtcclxuICAgICAgICAgICAgcG9zdGl0OiB7XHJcbiAgICAgICAgICAgICAgICBsYXllcjogY2FtYWRhLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxyXG4gICAgICAgICAgICAgICAgeDogZS5wYWdlWCArICdweCcsXHJcbiAgICAgICAgICAgICAgICB5OiBlLnBhZ2VZICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgIHppbmRleDogOTk5OVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb2NhbGNvZGU6IHNlbGYubG9jYWxjb2RlXHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhY2VuZGUoaWQpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIitpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICd0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICdmaWxsOiNEMUM0RTk7Jyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWdlbmRcIitpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICdmaWxsOiNEMUM0RTk7Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXBhZ2EoaWQsY29sb3IpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIitpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICd0ZXh0LWRlY29yYXRpb246IG5vbmU7Jyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZmlsbDogJytjb2xvcisnOycpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVnZW5kXCIraWQpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZmlsbDogJytjb2xvcisnOycpO1xyXG4gICAgfVxyXG59XHJcblxyXG59KSh0aGlzKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDEyLzA4LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdwcm9ibGVtUmVwb3J0Q29udHJvbGxlcicscHJvYmxlbVJlcG9ydENvbnRyb2xsZXIpO1xyXG5cclxuXHJcbiAgICAgZnVuY3Rpb24gcHJvYmxlbVJlcG9ydENvbnRyb2xsZXIoJHdpbmRvdyxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCwkc3RhdGUpe1xyXG5cclxuICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICBzZWxmLmlkUHJvYmxlbTtcclxuICAgICAgICAgc2VsZi5wcm9ibGVtO1xyXG4gICAgICAgICBzZWxmLmluaXRQcm9ibGVtUGVwb3J0ID0gaW5pdFByb2JsZW1QZXBvcnQ7XHJcbiAgICAgICAgIHNlbGYuc3lzdGVtUmV0dXJuID0gc3lzdGVtUmV0dXJuO1xyXG5cclxuICAgICAgICAgZnVuY3Rpb24gaW5pdFByb2JsZW1QZXBvcnQoKXtcclxuXHJcbiAgICAgICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG5cclxuICAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHByb2JsZW1yZXBvcnQoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhLnByb2JsZW0uc3Rha2Vob2xkZXJzLCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnggPSAocGFyc2VJbnQoc3Rha2Vob2xkZXIueC5zdWJzdHJpbmcoMCxzdGFrZWhvbGRlci54Lmxlbmd0aCAtMikpIC0gMTAwKSsncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci55ID0gIChwYXJzZUludChzdGFrZWhvbGRlci55LnN1YnN0cmluZygwLHN0YWtlaG9sZGVyLnkubGVuZ3RoIC0yKSkgKyA0MDApKydweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW0gPSBkYXRhLnByb2JsZW07XHJcbiAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgIGZ1bmN0aW9uIHN5c3RlbVJldHVybigpe1xyXG4gICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLnN0YWtlaG9sZGVycycpO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgIH1cclxuXHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgncHJvYmxlbVNlcnZpY2UnLCBwcm9ibGVtU2VydmljZSk7XHJcblxyXG4gIHByb2JsZW1TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywnJGxvY2F0aW9uJ107XHJcblxyXG4gIGZ1bmN0aW9uIHByb2JsZW1TZXJ2aWNlKCRodHRwLCRsb2NhdGlvbikge1xyXG5cclxuICAgIHZhciBBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TID0gJy9hcGkvcHJvYmxlbS9nZXRwcm9ibGVtcyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3InO1xyXG4gICAgdmFyIEFQSV9ST1VURV9ORVdQUk9CTEVNID0gJy9hcGkvcHJvYmxlbS9uZXdwcm9ibGVtJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUUFJPQkxFTSA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFBST0JMRU1SRVBPUlQgPSAnL2FwaS9wcm9ibGVtL2dldHByb2JsZW1yZXBvcnQnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRDT0xMQUJPUkFUT1JTID0gJy9hcGkvcHJvYmxlbS9nZXRjb2xsYWJvcmF0b3JzJztcclxuICAgIHZhciBBUElfUk9VVEVfSU5WSVRFID0gJy9hcGkvcHJvYmxlbS9pbnZpdGUnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRPTklPTiA9ICcvYXBpL3Byb2JsZW0vZ2V0b25pb24nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRFVkFMVUFUSU9OID0gJy9hcGkvcHJvYmxlbS9nZXRldmFsdWF0aW9uJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksgPSAnL2FwaS9wcm9ibGVtL2dldHNlbWlvdGljJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUQ0FSRiA9ICcvYXBpL3Byb2JsZW0vZ2V0Y2FyZic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1JFTU9WRVBST0JMRU0gPSAnL2FwaS9wcm9ibGVtL3JlbW92ZXByb2JsZW0nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IgPSAnL2FwaS9wcm9ibGVtL3JlbW92ZWNvbGxhYm9yYXRvcic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVEhJU1RPUllDSEFUID0gJy9hcGkvcHJvYmxlbS9oaXN0b3J5Y2hhdCc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVE9OSU9OM0xBTFlFUiA9ICcvYXBpL3Byb2JsZW0vZ2V0b25pb24zbGF5ZXInO1xyXG5cclxuICAgIHZhciBzZXJ2aWNlID0ge1xyXG4gICAgICBuZXdwcm9ibGVtICAgICAgIDogbmV3cHJvYmxlbSxcclxuICAgICAgZ2V0dXNlcnByb2JsZW1zICA6IGdldHVzZXJwcm9ibGVtcyxcclxuICAgICAgZ2V0cHJvYmxlbSAgICAgICA6IGdldHByb2JsZW0sXHJcbiAgICAgIGdldGNvbGxhYm9yYXRvcnMgOiBnZXRjb2xsYWJvcmF0b3JzLFxyXG4gICAgICBpbnZpdGUgICAgICAgICAgIDogaW52aXRlLFxyXG4gICAgICBnZXRvbmlvbiAgICAgICAgIDogZ2V0b25pb24sXHJcbiAgICAgIGdldGV2YWx1YXRpb24gICAgOiBnZXRldmFsdWF0aW9uLFxyXG4gICAgICBnZXRzZW1pb3RpYyAgICAgIDogZ2V0c2VtaW90aWMsXHJcbiAgICAgIGdldGNhcmYgICAgICAgICAgOiBnZXRjYXJmLFxyXG4gICAgICByZW1vdmVwcm9ibGVtICAgIDogcmVtb3ZlcHJvYmxlbSxcclxuICAgICAgZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3I6IGdldHByb2JsZW1zY29sbGFib3JhdG9yLFxyXG4gICAgICByZW1vdmVjb2xsYWJvcmF0b3JzIDogcmVtb3ZlY29sbGFib3JhdG9ycyxcclxuICAgICAgZ2V0aGlzdG9yeWNoYXQ6IGdldGhpc3RvcnljaGF0LFxyXG4gICAgICBnZXRwcm9ibGVtcmVwb3J0IDogZ2V0cHJvYmxlbXJlcG9ydCxcclxuICAgICAgZ2V0b25pb24zbGF5ZXIgOiBnZXRvbmlvbjNsYXllclxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gc2VydmljZTtcclxuXHJcbiAgICBmdW5jdGlvbiBuZXdwcm9ibGVtKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfTkVXUFJPQkxFTSwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0cHJvYmxlbXJlcG9ydChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUUFJPQkxFTVJFUE9SVCArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0cHJvYmxlbShkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUUFJPQkxFTSArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0dXNlcnByb2JsZW1zKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVMgKyAnP2VtYWlsPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Y29sbGFib3JhdG9ycyhkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUQ09MTEFCT1JBVE9SUyArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW52aXRlKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfSU5WSVRFLCBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0b25pb24oZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVE9OSU9OICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRvbmlvbjNsYXllciAoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVE9OSU9OM0xBTFlFUiArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0ZXZhbHVhdGlvbiAoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVEVWQUxVQVRJT04gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldHNlbWlvdGljIChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Y2FyZihkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUQ0FSRiArICc/aWRwcm9ibGVtPScgKyBkYXRhIClcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVwcm9ibGVtKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9SRU1PVkVQUk9CTEVNICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRwcm9ibGVtc2NvbGxhYm9yYXRvcihkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TQ09MTEFCT1JBVE9SICsgJz9lbWFpbD0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZWNvbGxhYm9yYXRvcnMoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX1JFTU9WRUNPTExBQk9SQVRPUiArICc/aWRwcm9ibGVtPScgKyBkYXRhLmlkcHJvYmxlbSArICcmZW1haWw9JyArIGRhdGEuZW1haWwgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRoaXN0b3J5Y2hhdChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjkvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyJyxzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIpO1xyXG5cclxuZnVuY3Rpb24gc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyKFNvY2tldCwkd2luZG93LCBwcm9ibGVtU2VydmljZSx0b2FzdEFwcCl7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pZHByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi5zYXZlU29jaWFsV29ybGQgPSBzYXZlU29jaWFsV29ybGQ7XHJcbiAgICBzZWxmLnNhdmVQcmFnbWF0aWMgPSBzYXZlUHJhZ21hdGljO1xyXG4gICAgc2VsZi5zYXZlU2VtYW50aWMgPSBzYXZlU2VtYW50aWM7XHJcbiAgICBzZWxmLnNhdmVTeW50YXRpYyA9IHNhdmVTeW50YXRpYztcclxuICAgIHNlbGYuc2F2ZUVtcGlyaWNhbCA9IHNhdmVFbXBpcmljYWw7XHJcbiAgICBzZWxmLnNhdmVQaHlzaWNhbCA9IHNhdmVQaHlzaWNhbDtcclxuICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsgPSBcIlwiO1xyXG4gICAgc2VsZi5pbml0U2VtaW90aWNGcmFtZXdvcmsgPSBpbml0U2VtaW90aWNGcmFtZXdvcms7XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdFNlbWlvdGljRnJhbWV3b3JrKCl7XHJcbiAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRzZW1pb3RpYyhzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yayA9IGRhdGEuc2VtaW90aWNmcmFtZXdvcms7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVNvY2lhbFdvcmxkJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnNvY2lhbHdvcmxkID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTb2NpYWxXb3JsZCh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlU29jaWFsV29ybGQnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVQcmFnbWF0aWMnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsucHJhZ21hdGljID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVQcmFnbWF0aWModGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVByYWdtYXRpYycsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVNlbWFudGljJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnNlbWlvdGljcmFtZXdvcmsgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVNlbWFudGljKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVTZW1hbnRpYycsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVN5bnRhdGljJywgZnVuY3Rpb24gKHRleHQsZmxhZ1NhdmUpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnN5bnRhdGljID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTeW50YXRpYyh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlU3ludGF0aWMnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVFbXBpcmljYWwnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuZW1waXJpY2FsID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVFbXBpcmljYWwodGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZUVtcGlyaWNhbCcsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVBoeXNpY2FsJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnBoeXNpY2FsID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVQaHlzaWNhbCh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlUGh5c2ljYWwnLCBvYmopO1xyXG4gICAgfVxyXG59XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjkvMDYvMjAxNS5cclxuICovXHJcblxyXG47KGZ1bmN0aW9uKHVuZGVmaW5lZCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3N0YWtlaG9sZGVyQ29udHJvbGxlcicsc3Rha2Vob2xkZXJDb250cm9sbGVyKTtcclxuXHJcblxyXG5mdW5jdGlvbiBzdGFrZWhvbGRlckNvbnRyb2xsZXIoU29ja2V0LCR3aW5kb3cscHJvYmxlbVNlcnZpY2UsJG1kRGlhbG9nLHRvYXN0QXBwKXtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmlkcHJvYmxlbSA9IFwiXCI7XHJcbiAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IFtdO1xyXG4gICAgc2VsZi5zdGFrZWhvbGRlciA9IFwiXCI7XHJcbiAgICBzZWxmLmludGl0T25pb24gPSBpbnRpdE9uaW9uO1xyXG4gICAgc2VsZi5tb3ZlID0gZmFsc2U7XHJcbiAgICBzZWxmLmluUHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICBzZWxmLnNhdmVTdGFrZWhvbGRlciA9IHNhdmVTdGFrZWhvbGRlcjtcclxuICAgIHNlbGYuc2V0T3BlbkVkaXQgPSBzZXRPcGVuRWRpdDtcclxuICAgIHNlbGYuZGVsUG9zdEl0ID0gZGVsUG9zdEl0O1xyXG4gICAgc2VsZi5hZGRQb3N0SXQgPSBhZGRQb3N0SXQ7XHJcbiAgICBzZWxmLmFjZW5kZSA9IGFjZW5kZTtcclxuICAgIHNlbGYuYXBhZ2EgPSBhcGFnYTtcclxuICAgIHNlbGYubG9jYWxjb2RlID0gJyc7XHJcblxyXG4gICAgZnVuY3Rpb24gaW50aXRPbmlvbigpe1xyXG4gICAgICAgIHNlbGYuaWRwcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgc2VsZi5sb2NhbGNvZGUgPSAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxjb2RlJyk7XHJcbiAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0b25pb24oc2VsZi5pZHByb2JsZW0pXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gZGF0YS5zdGFrZWhvbGRlcnM7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25TYXZlJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuc3Rha2Vob2xkZXJMaXN0LCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgaWYgKHN0YWtlaG9sZGVyLl9pZCA9PSBkYXRhLl9pZCl7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5zdGFrZWhvbGRlciA9IGRhdGEuc3Rha2Vob2xkZXI7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBkYXRhLm9wZW5FZGl0O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueCA9IGRhdGEueDtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci56aW5kZXggPSA5OTk5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVN0YWtlaG9sZGVyKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uU2F2ZScsIHN0YWtlaG9sZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25FZGl0JywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuc3Rha2Vob2xkZXJMaXN0LCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgaWYoc3Rha2Vob2xkZXIuX2lkID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuemluZGV4ID0gOTk5OTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldE9wZW5FZGl0KGlkKXtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25FZGl0JywgaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblJlbW92ZScsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHZhciBzdGFrZWhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Rha2Vob2xkZXJcIiArc2VsZi5zdGFrZWhvbGRlckxpc3RbaWRdLl9pZCk7XHJcbiAgICAgICAgc3Rha2Vob2xkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdC5zcGxpY2UoaWQsMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVQb3N0SXQoaW5kZXgsc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyOiBzdGFrZWhvbGRlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uUmVtb3ZlJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZWxQb3N0SXQoZXYsaW5kZXgsc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgICAgLnBhcmVudChhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkpXHJcbiAgICAgICAgICAgIC50aXRsZSgnRGV0ZXRlIFN0YWtlaG9sZGVyPycpXHJcbiAgICAgICAgICAgIC5jb250ZW50KCdUaXRsZTogJyArIHN0YWtlaG9sZGVyLm5hbWUpXHJcbiAgICAgICAgICAgIC5hcmlhTGFiZWwoJ1JlbW92ZSBTdGFrZWhvbGRlcicpXHJcbiAgICAgICAgICAgIC5vaygnWWVzIScpXHJcbiAgICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbCcpXHJcbiAgICAgICAgICAgIC50YXJnZXRFdmVudChldik7XHJcbiAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmVtb3ZlUG9zdEl0KGluZGV4LHN0YWtlaG9sZGVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0TW92ZScsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICBpZihzZWxmLmxvY2FsY29kZSAhPT0gc3Rha2Vob2xkZXIubG9jYWxjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2Vob2xkZXInK3N0YWtlaG9sZGVyLl9pZCkuc3R5bGUubGVmdCA9IHN0YWtlaG9sZGVyLng7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2Vob2xkZXInK3N0YWtlaG9sZGVyLl9pZCkuc3R5bGUudG9wID0gc3Rha2Vob2xkZXIueTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbkFkZCcsIGZ1bmN0aW9uIChyZXRvcm5vKSB7XHJcbiAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QucHVzaChyZXRvcm5vKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFBvc3RJdChlLGNhbWFkYSkge1xyXG4gICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uQWRkJyxcclxuICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIFwib25pb25sYXllclwiOiBjYW1hZGEsXHJcbiAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgIFwib3BlbkVkaXRcIjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgXCJ4XCI6IGUucGFnZVggKyAncHgnLFxyXG4gICAgICAgICAgICAgICBcInlcIjogZS5wYWdlWSArICdweCcsXHJcbiAgICAgICAgICAgICAgIFwiemluZGV4XCI6IDk5OTlcclxuICAgICAgICAgICB9XHJcbiAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFjZW5kZShpZCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOycpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2ZpbGw6I0QxQzRFOTsnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZ2VuZFwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2ZpbGw6I0QxQzRFOTsnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcGFnYShpZCxjb2xvcikge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjogbm9uZTsnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICdmaWxsOiAnK2NvbG9yKyc7Jyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWdlbmRcIitpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICdmaWxsOiAnK2NvbG9yKyc7Jyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKHRoaXMpOyIsIlxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3N0YXJ0UHJvYmxlbUNvbnRyb2xsZXInLHN0YXJ0UHJvYmxlbUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHN0YXJ0UHJvYmxlbUNvbnRyb2xsZXIoJG1kRGlhbG9nLCRzdGF0ZSxBdXRoLFNvY2tldCwgJHdpbmRvdywgcHJvYmxlbVNlcnZpY2UsdG9hc3RBcHAgKSB7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLm5pY2tuYW1lID0gXCJcIjtcclxuICAgICAgICBzZWxmLnVzZXJpZCA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi51c2VyZW1haWwgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYucHJvYmxlbUxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLnByb2JsZW1Db2xsYWJvcmF0b3JMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5sb2dpbkluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYuZ2V0UHJvYmxlbXMgPSBnZXRQcm9ibGVtcztcclxuICAgICAgICBzZWxmLnJldm9tdmVQcm9ibGVtID0gcmV2b212ZVByb2JsZW07XHJcbiAgICAgICAgc2VsZi5zdGFydE5ld1Byb2JsZW0gPSBzdGFydE5ld1Byb2JsZW07XHJcbiAgICAgICAgc2VsZi5lZGl0UHJvYmxlbSA9IGVkaXRQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZG9Mb2dvdXQgPSBkb0xvZ291dDtcclxuICAgICAgICBzZWxmLm5ld1Byb2JsZW0gPSBuZXdQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZWRpdFByb2ZpbGUgPSBlZGl0UHJvZmlsZTtcclxuICAgICAgICBzZWxmLnBob3RvO1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UHJvYmxlbXMoKXtcclxuICAgICAgICAgICAgc2VsZi51c2VyaWQgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKTtcclxuICAgICAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIHNlbGYudXNlcmVtYWlsID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmVtYWlsJyk7XHJcbiAgICAgICAgICAgIHNlbGYucGhvdG8gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG90bycpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHVzZXJwcm9ibGVtcyhzZWxmLnVzZXJlbWFpbClcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBkYXRhLnByb2JsZW1zLmxlbmd0aDsgaSsrICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLmxlbmd0aCA+IDMwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbiA9IGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24ucmVwbGFjZSgvKDwoW14+XSspPikvaWcsXCJcIikuc3Vic3RyaW5nKDAsMjgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbUxpc3QgPSBkYXRhLnByb2JsZW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRwcm9ibGVtc2NvbGxhYm9yYXRvcihzZWxmLnVzZXJlbWFpbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBkYXRhLnByb2JsZW1zLmxlbmd0aDsgaSsrICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24ubGVuZ3RoID4gMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLCBcIlwiKS5zdWJzdHJpbmcoMCwgMjgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtQ29sbGFib3JhdG9yTGlzdCA9IGRhdGEucHJvYmxlbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNlbGYubG9naW5JblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZWxldGVQcm9ibGVtKHByb2JsZW1pZCl7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLnJlbW92ZXByb2JsZW0ocHJvYmxlbWlkKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHNlbGYucHJvYmxlbUxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5wcm9ibGVtTGlzdFtpXS5faWQgPT0gcHJvYmxlbWlkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW1MaXN0LnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmV2b212ZVByb2JsZW0oZXYscHJvYmxlbSkge1xyXG4gICAgICAgICAgICAvLyBBcHBlbmRpbmcgZGlhbG9nIHRvIGRvY3VtZW50LmJvZHkgdG8gY292ZXIgc2lkZW5hdiBpbiBkb2NzIGFwcFxyXG4gICAgICAgICAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpKVxyXG4gICAgICAgICAgICAgICAgLnRpdGxlKCdEZXRldGUgUHJvYmxlbT8nKVxyXG4gICAgICAgICAgICAgICAgLmNvbnRlbnQoJ1RpdGxlOiAnICsgcHJvYmxlbS50aXRsZSlcclxuICAgICAgICAgICAgICAgIC5hcmlhTGFiZWwoJ1JlbW92ZSBQcm9ibGVtJylcclxuICAgICAgICAgICAgICAgIC5vaygnRGVzZWpvIHJlbW92ZXIhJylcclxuICAgICAgICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbCcpXHJcbiAgICAgICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlUHJvYmxlbShwcm9ibGVtLl9pZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3RhcnROZXdQcm9ibGVtKG5ld3Byb2JsZW0pe1xyXG4gICAgICAgICAgICBuZXdwcm9ibGVtLnVzZXJpZCA9IHNlbGYudXNlcmlkO1xyXG5cclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UubmV3cHJvYmxlbShuZXdwcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVkaXRQcm9ibGVtKGRhdGEucHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVkaXRQcm9ibGVtKHByb2JsZW0pIHtcclxuICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2JsZW1pZFwiLHByb2JsZW0uX2lkKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLnN0YWtlaG9sZGVycycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZG9Mb2dvdXQoKSB7XHJcbiAgICAgICAgICAgIEF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBlZGl0UHJvZmlsZSgpIHtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9maWxlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBuZXdQcm9ibGVtKGV2KSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogRGlhbG9nQ29udHJvbGxlcixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL25ld3Byb2JsZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBEaWFsb2dDb250cm9sbGVyKCRzY29wZSwgJGZpbHRlciwgJG1kRGlhbG9nKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5pdGVtcyA9IFsnTEFCRUxfQVJUSUZBQ1RfU1RBS0VIT0xERVJTJyxcclxuICAgICAgICAgICAgICAgICdMQUJFTF9BUlRJRkFDVF9FVkFMVUFUSU9ORlJBTUVXT1JLJyxcclxuICAgICAgICAgICAgICAgICdMQUJFTF9BUlRJRkFDVF9TRU1JT1RJQ0ZSQU1FV09SSycsXHJcbiAgICAgICAgICAgICAgICAnTEFCRUxfQVJUSUZBQ1RfVklGJyxcclxuICAgICAgICAgICAgICAgICdMQUJFTF9BUlRJRkFDVF9DQVJGJyxcclxuICAgICAgICAgICAgICAgICdMQUJFTF9BUlRJRkFDVF9PTklPTiddO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gW107XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUudG9nZ2xlID0gZnVuY3Rpb24gKGl0ZW0sIGxpc3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZHggPSBsaXN0LmluZGV4T2YoaXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlkeCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbSAhPT0gJ0xBQkVMX0FSVElGQUNUX1NUQUtFSE9MREVSUycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihsaXN0Lmxlbmd0aCA9PT0gMil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4U0YgPSBsaXN0LmluZGV4T2YoJ0xBQkVMX0FSVElGQUNUX1NFTUlPVElDRlJBTUVXT1JLJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpZHhTRiA+IC0xKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYobGlzdC5sZW5ndGggPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJGZpbHRlcigndHJhbnNsYXRlJykoJ0xBQkVMX0FSVElGQUNUX1NUQUtFSE9MREVSU19ORUNFU1NBUlknKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihpdGVtICE9ICdMQUJFTF9BUlRJRkFDVF9TRU1JT1RJQ0ZSQU1FV09SSycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZHggPSBsaXN0LmluZGV4T2YoJ0xBQkVMX0FSVElGQUNUX1NUQUtFSE9MREVSUycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKCdMQUJFTF9BUlRJRkFDVF9TVEFLRUhPTERFUlMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0gIT09ICdMQUJFTF9BUlRJRkFDVF9TVEFLRUhPTERFUlMnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5leGlzdHMgPSBmdW5jdGlvbiAoaXRlbSwgbGlzdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3QuaW5kZXhPZihpdGVtKSA+IC0xO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmlzSW5kZXRlcm1pbmF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgkc2NvcGUuc2VsZWN0ZWQubGVuZ3RoICE9PSAwICYmXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWQubGVuZ3RoICE9PSAkc2NvcGUuaXRlbXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5pc0NoZWNrZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuc2VsZWN0ZWQubGVuZ3RoID09PSAkc2NvcGUuaXRlbXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZUFsbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zZWxlY3RlZC5sZW5ndGggPT09ICRzY29wZS5pdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLnNlbGVjdGVkLmxlbmd0aCA9PT0gMCB8fCAkc2NvcGUuc2VsZWN0ZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5pdGVtcy5zbGljZSgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuYXJ0aWZhY3RMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5ld1Byb2JsZW0gPSBmdW5jdGlvbihwcm9ibGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLnNlbGVjdGVkLmxlbmd0aCA8IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJGZpbHRlcigndHJhbnNsYXRlJykoJ0xBQkVMX0NIT0lDRV9BUlRJRkFDVFMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvYmxlbS5hcnRpZmFjdHMgPSAgJHNjb3BlLnNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnROZXdQcm9ibGVtKHByb2JsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICB9XHJcbn0pKCk7XHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDIyLzA3LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCd2YWx1ZUlkZW50aWZpY2F0aW9uRnJhbWVDb250cm9sbGVyJywgdmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlcik7XHJcblxyXG5mdW5jdGlvbiB2YWx1ZUlkZW50aWZpY2F0aW9uRnJhbWVDb250cm9sbGVyKCR3aW5kb3cscHJvYmxlbVNlcnZpY2UsdG9hc3RBcHAsU29ja2V0KXtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmluUHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICBzZWxmLmlkUHJvYmxlbSA9IFwiXCI7XHJcbiAgICBzZWxmLnVzZXJlbWFpbCA9IFwiXCI7XHJcbiAgICBzZWxmLm5ld3ZhbHVlcyA9IFwiXCI7XHJcbiAgICBzZWxmLmluaXRWYWx1ZUlkZW50aWZpY2F0aW9uRnJhbWUgPSBpbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lO1xyXG4gICAgc2VsZi5zZXRTdWdnZXN0aW9uU2hvdyA9IHNldFN1Z2dlc3Rpb25TaG93O1xyXG4gICAgc2VsZi5sZWF2ZVN1Z2dlc3Rpb25TaG93ID0gbGVhdmVTdWdnZXN0aW9uU2hvdztcclxuICAgIHNlbGYucmVtb3ZlVmFsdWVJZGVudGljYXRpb24gPSByZW1vdmVWYWx1ZUlkZW50aWNhdGlvbjtcclxuICAgIHNlbGYuc2V0VmFsdWVJZGVudGljYXRpb24gPSBzZXRWYWx1ZUlkZW50aWNhdGlvbjtcclxuICAgIHNlbGYuc3VnZXN0aW9uVmFsdWVzID0gXCJcIjtcclxuICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJDb21tdW5pdHlcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIk1hcmtldFwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiU291cmNlXCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJDb250cmlidXRpb25cIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIlRlY2huaWNvXCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9XHJcbiAgICBdO1xyXG4gICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheSA9IFtcclxuICAgICAgICAnQWNlc3NpYmlsaWRhZGUnLCdBZGFwdGFiaWxpZGFkZScsJ0VzdMOpdGljYScsJ0F1dG9ub21pYScsICdEaXNwb25pYmlsaWRhZGUnLCAnQ29uc2Npw6puY2lhJywgJ0NvbGFib3Jhw6fDo28nLFxyXG4gICAgICAgICdDb252ZXJzYcOnw6NvJywgJ0Vtb8Onw6NvIGUgQWZldG8nLCAnR3J1cG9zJywgJ0lkZW50aWRhZGUnLCAnQ29uc2VudGltZW50byBpbmZvcm1hZG8nLCAnTWV0YS1jb211bmljYcOnw6NvJywgJ05vcm1hcycsXHJcbiAgICAgICAgJ09iamV0bycsICdQb3J0YWJpbGlkYWRlJywgJ1ByZXNlbsOnYScsICdQcml2YWNpZGFkZScsICdQcm9wcmllZGFkZScsICdSZWNpcHJvY2lkYWRlLCBSZWxhY2lvbmFtZW50bywgUmVwdXRhw6fDo28nLFxyXG4gICAgICAgICdFc2NhbGFiaWxpZGFkZScsICdTZWd1cmFuw6dhJywgJ0NvbXBhcnRpbGhhbWVudG8nLCAnQ29uZmlhbsOnYScsICdVc2FiaWxpZGFkZScsICdWaXNpYmlsaWRhZGUnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lKCl7XHJcbiAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRvbmlvbihzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdGFrZWhvbGRlcnMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGsgPSAxOyBrIDwgc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheS5sZW5ndGg7IGsrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXMgKz0gc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheVtrXSArICBcIiwgXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3VnZXN0aW9uVmFsdWVzW3NlbGYuc3VnZXN0aW9uVmFsdWVzQXJyYXlbc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheS5sZW5ndGgtMV1dICsgJy4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGRhdGEuc3Rha2Vob2xkZXJzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgc2VsZi5zdGFrZWhvbGRlckxpc3QubGVuZ3RoOyBqKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3Rha2Vob2xkZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmlvbmxheWVyIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ub25pb25sYXllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLnZhbHVlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5FZGl0IDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ub3BlbkVkaXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4IDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWVzIDogW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3Rha2Vob2xkZXJzW2ldLm9uaW9ubGF5ZXIgPT0gc2VsZi5zdGFrZWhvbGRlckxpc3Rbal0ub25pb25sYXllcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdFtqXS5zdGFrZWhvbGRlcnMucHVzaChzdGFrZWhvbGRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLnN0YWtlaG9sZGVyTGlzdCwgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFrZWhvbGRlci5faWQgPT0gZGF0YS5faWQpe1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuc3Rha2Vob2xkZXIgPSBkYXRhLnN0YWtlaG9sZGVyO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIubmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZGF0YS5vcGVuRWRpdDtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci55ID0gZGF0YS55O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIubmV3VmFsdWVzID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldFN1Z2dlc3Rpb25TaG93KHN0YWtlaG9sZGVyKXtcclxuICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbGVhdmVTdWdnZXN0aW9uU2hvdyhzdGFrZWhvbGRlcil7XHJcbiAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVWYWx1ZUlkZW50aWNhdGlvbih2YWx1ZSxzdGFrZWhvbGRlcil7XHJcbiAgICAgICAgdmFyIG5ld0xpc3QgPSBbXTtcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgc3Rha2Vob2xkZXIudmFsdWVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYoc3Rha2Vob2xkZXIudmFsdWVzW2ldICE9IHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIG5ld0xpc3QucHVzaChzdGFrZWhvbGRlci52YWx1ZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0YWtlaG9sZGVyLnZhbHVlcyA9IG5ld0xpc3Q7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uU2F2ZScsIHN0YWtlaG9sZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUlkZW50aWNhdGlvbihzdGFrZWhvbGRlcikge1xyXG4gICAgICAgIGlmKChzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPT09IFwiXCIpIHx8IChzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPT09IHVuZGVmaW5lZCkpe1xyXG4gICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJ1ZhbG9yIG7Do28gZXNwZWNpZmljYWRvLicpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVzTGlzdCA9IHN0YWtlaG9sZGVyLm5ld1ZhbHVlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHZhbHVlc0xpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgaWYoZmluZFZhbHVlKHN0YWtlaG9sZGVyLnZhbHVlcywgdmFsdWVzTGlzdFtpXSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkR1cGxpY2F0ZSB2YWx1ZTogXCIgKyB2YWx1ZXNMaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnZhbHVlcy5wdXNoKHZhbHVlc0xpc3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5ld1ZhbHVlcyA9IFwiXCI7XHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblNhdmUnLCBzdGFrZWhvbGRlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaW5kVmFsdWUobGlzdCwgdmFsdWUpe1xyXG4gICAgICAgIGZvcih2YXIgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKHZhbHVlID09PSBsaXN0W2ldKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOC8wNy8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcigncHJvZmlsZUNvbnRyb2xsZXInLHByb2ZpbGVDb250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9maWxlQ29udHJvbGxlcihTb2NrZXQsICR3aW5kb3csJHN0YXRlLCB0b2FzdEFwcCwgJHNjb3BlLHNpZ251cFNlcnZpY2Upe1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLnN0YXJ0UHJvZmlsZSA9IHN0YXJ0UHJvZmlsZTtcclxuICAgICAgICBzZWxmLnVwbG9hZEluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYudXBsb2FkUHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgIHNlbGYudXNlcmlkO1xyXG4gICAgICAgIHNlbGYuc2F2ZVBob3RvID0gc2F2ZVBob3RvO1xyXG4gICAgICAgIHNlbGYuc3lzdGVtUmV0dXJuID0gc3lzdGVtUmV0dXJuO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzeXN0ZW1SZXR1cm4oKXtcclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Rpc2Nvbm5lY3RQcm9ibGVtJywgJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKSk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnRwcm9ibGVtJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc2VsZi5teUltYWdlPScnO1xyXG4gICAgICAgIHNlbGYubXlDcm9wcGVkSW1hZ2U9Jyc7XHJcblxyXG4gICAgICAgIHZhciBoYW5kbGVGaWxlU2VsZWN0ID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxlID0gZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5teUltYWdlID0gZXZ0LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVJbnB1dCcpKS5vbignY2hhbmdlJyxoYW5kbGVGaWxlU2VsZWN0KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3RhcnRQcm9maWxlKCl7XHJcbiAgICAgICAgICAgIHNlbGYudXNlcmlkID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJpZFwiKTtcclxuICAgICAgICAgICAgaWYoc2VsZi51c2VyaWQgIT09IHVuZGVmaW5lZCl7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmVQaG90byhteWltYWdlKXtcclxuICAgICAgICAgICAgdmFyIHVzZXJQaG90byA9e1xyXG4gICAgICAgICAgICAgICAgdXNlcmlkIDogJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJpZFwiKSxcclxuICAgICAgICAgICAgICAgIHBob3RvIDogbXlpbWFnZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzaWdudXBTZXJ2aWNlLnVwbG9hZFBob3RvKHVzZXJQaG90bylcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBob3RvXCIsbXlpbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIi0tLS0tXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTtcclxuXHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdzaWdudXBDb250cm9sbGVyJywgc2lnbnVwQ29udHJvbGxlcik7XHJcbiAgICBzaWdudXBDb250cm9sbGVyLiRpbmplY3QgPSBbJyR0cmFuc2xhdGUnLCckd2luZG93Jywnc2lnbnVwU2VydmljZScsJyRzdGF0ZScsJ3RvYXN0QXBwJywnQXV0aFRva2VuJywnQXV0aCcsJyRmaWx0ZXInLCckc3RhdGVQYXJhbXMnXTtcclxuXHJcbiAgZnVuY3Rpb24gc2lnbnVwQ29udHJvbGxlcigkdHJhbnNsYXRlLCAkd2luZG93LCBzaWdudXBTZXJ2aWNlLCRzdGF0ZSx0b2FzdEFwcCxBdXRoVG9rZW4sQXV0aCwkZmlsdGVyLCRzdGF0ZVBhcmFtcyl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLm1lc3NhZ2UgID0gJyc7XHJcbiAgICBzZWxmLnNhdmVVc2VyICAgPSBzYXZlVXNlcjtcclxuICAgIHNlbGYucmVzY3VlUGFzc3dvcmQgPSByZXNjdWVQYXNzd29yZDtcclxuICAgIHNlbGYuY2hhbmdlUGFzc3dvcmQgPSBjaGFuZ2VQYXNzd29yZDtcclxuICAgIHNlbGYuc2V0TGFuZyA9IHNldExhbmc7XHJcbiAgICBzZWxmLmxvZ2luSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVVc2VyKHVzZXIpIHtcclxuICAgICAgc2lnbnVwU2VydmljZS5jcmVhdGUodXNlcilcclxuICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZSgkZmlsdGVyKCd0cmFuc2xhdGUnKSgnV0VMQ09NRV9TWVNURU0nKSArIHVzZXIubmlja25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0LmxvZ2luJyk7XHJcbiAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJFbWFpbCBKw6EgY2FkYXN0cmFkb1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBzZXRMYW5nKGxhbmdLZXkpIHtcclxuICAgICAgICAgICR0cmFuc2xhdGUudXNlKGxhbmdLZXkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByZXNjdWVQYXNzd29yZCh1c2VyRW1haWwpe1xyXG4gICAgICAgICAgc2lnbnVwU2VydmljZS5yZXNjdWVQYXNzd29yZCh1c2VyRW1haWwpXHJcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVtYWlsIGNvbSBpbnN0cnXDp8O1ZXMgZW52aWFkbyBwYXJhIFwiICsgdXNlckVtYWlsLmVtYWlsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVycm9yXCIpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKHVzZXIpe1xyXG4gICAgICAgICAgc2lnbnVwU2VydmljZS5jaGFuZ2VQYXNzd29yZCh1c2VyKVxyXG4gICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZW5oYSBhbHRlcmFkYSBjb20gc3VjZXNzby4gRmHDp2EgbG9naW4gY29tIGEgbm92YSBzZW5oYS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJFcnJvclwiKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdzaWdudXBTZXJ2aWNlJywgc2lnbnVwU2VydmljZSk7XHJcblxyXG4gIHNpZ251cFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCckbG9jYXRpb24nXTtcclxuXHJcbiAgZnVuY3Rpb24gc2lnbnVwU2VydmljZSgkaHR0cCwkbG9jYXRpb24pIHtcclxuXHJcbiAgICB2YXIgQVBJX1JPVVRFX1VTRVIgPSAnL2FwaS9zaWdudXAvJztcclxuICAgIHZhciBBUElfUk9VVEVfUkVTQ1VFUEFTU1dPUkQgPSAnL2FwaS9yZXNjdWVwYXNzd2QvJztcclxuICAgIHZhciBBUElfUk9VVEVfU0VUTkVXUEFTU1dPUkQgPSAnL2FwaS9yZXNjdWVwYXNzd2QvbmV3cGFzc3dkLyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1VQREFURVBIT1RPID0gJy9hcGkvcHJvZmlsZS9waG90by8nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9TRU5ETUVTU0FHRSA9ICcvYXBpL3NlbmRtZXNzYWdlLyc7XHJcblxyXG5cclxuICAgIHZhciBzZXJ2aWNlID0ge1xyXG4gICAgICBjcmVhdGUgICAgICAgICA6IGNyZWF0ZSxcclxuICAgICAgcmVzY3VlUGFzc3dvcmQgOiByZXNjdWVQYXNzd29yZCxcclxuICAgICAgY2hhbmdlUGFzc3dvcmQgOiBjaGFuZ2VQYXNzd29yZCxcclxuICAgICAgdXBsb2FkUGhvdG86IHVwbG9hZFBob3RvLFxyXG4gICAgICBzZW5kZW1haWxEU0M6IHNlbmRlbWFpbERTQ1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gc2VydmljZTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZW5kZW1haWxEU0MoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9TRU5ETUVTU0FHRSwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfVVNFUiwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzY3VlUGFzc3dvcmQoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9SRVNDVUVQQVNTV09SRCwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQoZGF0YSl7XHJcbiAgICAgIHZhciBteXRva2VuVVJMID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9TRVRORVdQQVNTV09SRCArICc/bXl0b2tlbj0nICsgbXl0b2tlblVSTC5teXRva2VuKycmcGFzc3dvcmQ9JytkYXRhLnBhc3N3b3JkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGxvYWRQaG90byhkYXRhKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9VUERBVEVQSE9UTywgZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29uZmlnKGFwcENvbmZpZyk7XHJcblxyXG4gICAgYXBwQ29uZmlnLiRpbmplY3QgPSBbJyRtZFRoZW1pbmdQcm92aWRlcicsJyRsb2NhdGlvblByb3ZpZGVyJ107XHJcblxyXG4gICAvKiBmdW5jdGlvbiBhcHBDb25maWcgKCRtZFRoZW1pbmdQcm92aWRlciwkbG9jYXRpb25Qcm92aWRlcikge1xyXG5cclxuICAgICAgICAgLy8kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbiAgICAgICAgdmFyIGN1c3RvbUdyZWVuTWFwID0gJG1kVGhlbWluZ1Byb3ZpZGVyLmV4dGVuZFBhbGV0dGUoJ3RlYWwnLCB7XHJcbiAgICAgICAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXHJcbiAgICAgICAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiBbJzUwJ10sXHJcbiAgICAgICAgICAgICc1MCc6ICdFMEYyRjEnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCdjdXN0b21HcmVlbicsIGN1c3RvbUdyZWVuTWFwKTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2N1c3RvbUdyZWVuJywge1xyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiAnNTAwJyxcclxuICAgICAgICAgICAgICAgICdodWUtMSc6ICc1MCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmFjY2VudFBhbGV0dGUoJ3RlYWwnKTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2lucHV0JywgJ2RlZmF1bHQnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2dyZWVuJyk7XHJcblxyXG4gICAgfTsqL1xyXG5cclxuICAgIGZ1bmN0aW9uIGFwcENvbmZpZygkbWRUaGVtaW5nUHJvdmlkZXIpIHtcclxuICAgICAgICAvLyBFeHRlbmQgdGhlIHJlZCB0aGVtZSB3aXRoIGEgZmV3IGRpZmZlcmVudCBjb2xvcnNcclxuICAgICAgICB2YXIgbmVvblJlZE1hcCA9ICRtZFRoZW1pbmdQcm92aWRlci5leHRlbmRQYWxldHRlKCd0ZWFsJywge1xyXG4gICAgICAgICAgICAnNTAnOiAnRTBGMkYxJyxcclxuICAgICAgICAgICAgJzEwMCc6ICdCMkRGREInLFxyXG4gICAgICAgICAgICAnMjAwJzogJzgwQ0JDNCcsXHJcbiAgICAgICAgICAgICczMDAnOiAnNERCNkFDJyxcclxuICAgICAgICAgICAgJzQwMCc6ICcyNkE2OUEnLFxyXG4gICAgICAgICAgICAnNTAwJzogJzAwOTY4OCcsXHJcbiAgICAgICAgICAgICc2MDAnOiAnMDA4OTdCJyxcclxuICAgICAgICAgICAgJzcwMCc6ICcwMDc5NkInLFxyXG4gICAgICAgICAgICAnODAwJzogJzAwNjk1QycsXHJcbiAgICAgICAgICAgICc5MDAnOiAnMDA0RDQwJyxcclxuICAgICAgICAgICAgJ0ExMDAnOiAnQTdGRkVCJyxcclxuICAgICAgICAgICAgJ0EyMDAnOiAnNjRGRkRBJyxcclxuICAgICAgICAgICAgJ0E0MDAnOiAnMURFOUI2JyxcclxuICAgICAgICAgICAgJ0E3MDAnOiAnMDBCRkE1JyxcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JywgICAgLy8gd2hldGhlciwgYnkgZGVmYXVsdCwgdGV4dCAoY29udHJhc3QpXHJcbiAgICAgICAgICAgIC8vIG9uIHRoaXMgcGFsZXR0ZSBzaG91bGQgYmUgZGFyayBvciBsaWdodFxyXG4gICAgICAgICAgICAnY29udHJhc3REYXJrQ29sb3JzJzogWyc1MCcsICcxMDAnLCAvL2h1ZXMgd2hpY2ggY29udHJhc3Qgc2hvdWxkIGJlICdkYXJrJyBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAnMjAwJywgJzMwMCcsICc0MDAnLCAnQTEwMCddLFxyXG4gICAgICAgICAgICAnY29udHJhc3RMaWdodENvbG9ycyc6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBuZXcgY29sb3IgcGFsZXR0ZSBtYXAgd2l0aCB0aGUgbmFtZSA8Y29kZT5uZW9uUmVkPC9jb2RlPlxyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCd0ZWFsJywgbmVvblJlZE1hcCk7XHJcbiAgICAgICAgLy8gVXNlIHRoYXQgdGhlbWUgZm9yIHRoZSBwcmltYXJ5IGludGVudGlvbnNcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ3RlYWwnKVxyXG4gICAgICAgICAgICAuYWNjZW50UGFsZXR0ZSgnZ3JlZW4nKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxufSkoKTsiLCJcclxuKGZ1bmN0aW9uKCl7XHJcblxyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhdXRoU2VydmljZScsIFtdKVxyXG5cdFx0LmZhY3RvcnkoJ0F1dGgnLCBmdW5jdGlvbigkaHR0cCwgJHEsIEF1dGhUb2tlbikge1xyXG5cdFx0XHR2YXIgYXV0aEZhY3RvcnkgPSB7fTtcclxuXHRcdFx0YXV0aEZhY3RvcnkubG9naW4gPSBmdW5jdGlvbihlbWFpbCwgcGFzc3dvcmQpIHtcclxuXHRcdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2dpbicsIHtcclxuXHRcdFx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZFxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0XHRcdEF1dGhUb2tlbi5zZXRUb2tlbihkYXRhLnRva2VuKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhGYWN0b3J5LmxvZ291dCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdEF1dGhUb2tlbi5zZXRUb2tlbigpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXV0aEZhY3RvcnkuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXV0aEZhY3RvcnkuZ2V0VXNlciA9IGZ1bmN0aW9uKGlkKSB7XHJcblx0XHRcdFx0aWYoQXV0aFRva2VuLmdldFRva2VuKCkpIHtcclxuXHRcdFx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWUvP3VzZXJpZD0nICsgaWQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiAkcS5yZWplY3Qoe21lc3NhZ2U6IFwiVXNlciBoYXMgbm8gdG9rZW5cIn0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH07XHJcblx0XHRcdHJldHVybiBhdXRoRmFjdG9yeTtcclxuXHRcdH0pXHJcblx0XHQuZmFjdG9yeSgnQXV0aFRva2VuJywgZnVuY3Rpb24oJHdpbmRvdykge1xyXG5cclxuXHRcdFx0dmFyIGF1dGhUb2tlbkZhY3RvcnkgPSB7fTtcclxuXHJcblx0XHRcdGF1dGhUb2tlbkZhY3RvcnkuZ2V0VG9rZW4gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhUb2tlbkZhY3Rvcnkuc2V0VG9rZW4gPSBmdW5jdGlvbih0b2tlbikge1xyXG5cclxuXHRcdFx0XHRpZiAodG9rZW4pIHtcclxuXHRcdFx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0JHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gYXV0aFRva2VuRmFjdG9yeTtcclxuXHRcdH0pXHJcblx0XHQuZmFjdG9yeSgnQXV0aEludGVyY2VwdG9yJywgZnVuY3Rpb24oJHEsICRsb2NhdGlvbiwgQXV0aFRva2VuKSB7XHJcblx0XHRcdHZhciBpbnRlcmNlcHRvckZhY3RvcnkgPSB7fTtcclxuXHRcdFx0aW50ZXJjZXB0b3JGYWN0b3J5LnJlcXVlc3QgPSBmdW5jdGlvbihjb25maWcpIHtcclxuXHRcdFx0XHR2YXIgdG9rZW4gPSBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuXHRcdFx0XHRpZih0b2tlbikge1xyXG5cdFx0XHRcdFx0Y29uZmlnLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuJ10gPSB0b2tlbjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGNvbmZpZztcclxuXHRcdFx0fTtcclxuXHRcdFx0cmV0dXJuIGludGVyY2VwdG9yRmFjdG9yeTtcclxuXHRcdH0pO1xyXG59KSgpOyIsIlxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ0Ryb3BEU0MnLFtdKVxyXG4gICAgLmRpcmVjdGl2ZSgnZHJhZ2dhYmxlJywgZnVuY3Rpb24oJGRvY3VtZW50LFNvY2tldCwkd2luZG93KSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZihldmVudC50YXJnZXQuaWQuc3Vic3RyaW5nKDAsMTEpID09IFwic3Rha2Vob2xkZXJcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnbW91c2V1cCcsIG1vdXNldXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnQudGFyZ2V0LmlkLnN1YnN0cmluZygwLDYpID09IFwicG9zdGl0XCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnbW91c2Vtb3ZlJywgbW91c2Vtb3ZlUG9zdEl0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ21vdXNldXAnLCBtb3VzZXVwUG9zdEl0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1vdXNlbW92ZShldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGlkX2RpdiA9IGV2ZW50LnRhcmdldC5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChpZF9kaXYgPT0gJ3N2ZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZF9kaXYgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Rha2Vob2xkZXIub25pb25sYXllciA9IGlkX2RpdjtcclxuICAgICAgICAgICAgICAgICAgICAgIHkgPSBldmVudC5wYWdlWTtcclxuICAgICAgICAgICAgICAgICAgICAgIHggPSBldmVudC5wYWdlWDtcclxuICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHkgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICB4ICsgJ3B4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdGFrZWhvbGRlci54ID0geCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdGFrZWhvbGRlci55ID0geSArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbW91c2Vtb3ZlUG9zdEl0KGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkX2RpdiA9IGV2ZW50LnRhcmdldC5pZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaWRfZGl2ID09ICdzdmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkX2RpdiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgc2NvcGUucG9zdGl0LmxheWVyID0gaWRfZGl2O1xyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBldmVudC5wYWdlWTtcclxuICAgICAgICAgICAgICAgICAgICB4ID0gZXZlbnQucGFnZVg7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHkgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAgeCArICdweCdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5wb3N0aXQueCA9IHggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnBvc3RpdC55ID0geSArICdweCc7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbW91c2V1cCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdtb3VzZW1vdmUnLCBtb3VzZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ21vdXNldXAnLCBtb3VzZXVwKTtcclxuICAgICAgICAgICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0TW92ZScsIHNjb3BlLnN0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1vdXNldXBQb3N0SXQoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnbW91c2Vtb3ZlJywgbW91c2Vtb3ZlUG9zdEl0KTtcclxuICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdtb3VzZXVwJywgbW91c2V1cFBvc3RJdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uM0xheWVyTW92ZScsIHNjb3BlLnBvc3RpdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgIH0pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBqZXN1cyBvbiAyMS8wMy8yMDE2LlxyXG4gKi9cclxuOyhmdW5jdGlvbiAodW5kZWZpbmVkKSB7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwUnhEcmFnJywgWydyeCddKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ3J4ZHJhZ2dhYmxlJywgZnVuY3Rpb24oJGRvY3VtZW50LCAkd2luZG93LCByeCwgU29ja2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdGhyZWUgbWFqb3IgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxjb2RlID0gICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsY29kZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vdXNldXAgICA9IHJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KGVsZW1lbnQsICAgJ21vdXNldXAnKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb3VzZW1vdmUgPSByeC5PYnNlcnZhYmxlLmZyb21FdmVudCgkZG9jdW1lbnQsICdtb3VzZW1vdmUnKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb3VzZWRvd24gPSByeC5PYnNlcnZhYmxlLmZyb21FdmVudChlbGVtZW50LCAgICdtb3VzZWRvd24nKS5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIG9mZnNldHMgd2hlbiBtb3VzZSBkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBldmVudC5jbGllbnRYIC0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICBldmVudC5jbGllbnRZIC0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbWJpbmUgbW91c2UgZG93biB3aXRoIG1vdXNlIG1vdmUgdW50aWwgbW91c2UgdXBcclxuICAgICAgICAgICAgICAgIHZhciBtb3VzZWRyYWcgPSBtb3VzZWRvd24uc2VsZWN0TWFueShmdW5jdGlvbihpbWFnZU9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb3VzZW1vdmUubWFwKGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIG9mZnNldHMgZnJvbSBtb3VzZSBkb3duIHRvIG1vdXNlIG1vdmVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBwb3MuY2xpZW50WCAtIGltYWdlT2Zmc2V0LmxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICBwb3MuY2xpZW50WSAtIGltYWdlT2Zmc2V0LnRvcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRha2VVbnRpbChtb3VzZXVwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG1vdXNlZHJhZy5zdWJzY3JpYmUgKGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcG9zaXRpb25cclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7dG9wOiBwb3MudG9wICsgJ3B4JywgbGVmdDogcG9zLmxlZnQgKyAncHgnfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zLmxvY2FsY29kZSA9IGxvY2FsY29kZTtcclxuICAgICAgICAgICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0TW92ZScscG9zKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG59LmNhbGwodGhpcykpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjUvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdsb2dpbkNvbnRyb2xsZXInLGxvZ2luQ29udHJvbGxlcik7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxvZ2luQ29udHJvbGxlcihTb2NrZXQsICR0cmFuc2xhdGUsICRyb290U2NvcGUsICRzdGF0ZSwgQXV0aCwgJHdpbmRvdywgJGZpbHRlciwgdG9hc3RBcHApIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzZWxmLnNldExhbmcgPSBzZXRMYW5nO1xyXG4gICAgICAgICAgICBzZWxmLmRvTG9nb3V0ID0gZG9Mb2dvdXQ7XHJcbiAgICAgICAgICAgIHNlbGYuZG9Mb2dpbiA9IGRvTG9naW47XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRMYW5nKGxhbmdLZXkpIHtcclxuICAgICAgICAgICAgICAgICAkdHJhbnNsYXRlLnVzZShsYW5nS2V5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TG9jYWxDb2RlKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBzZWxmLmxvZ2dlZEluID0gQXV0aC5pc0xvZ2dlZEluKCk7XHJcblxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VkSW4gPSBBdXRoLmlzTG9nZ2VkSW4oKTtcclxuICAgICAgICAgICAgICAgIEF1dGguZ2V0VXNlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZG9Mb2dpbih1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmVycm9yID0gJyc7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmxvZ2luKHVzZXIuZW1haWwsIHVzZXIucGFzc3dvcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlcmVtYWlsXCIsZGF0YS5lbWFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyaWRcIixkYXRhLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImxvY2FsY29kZVwiLGRhdGEuaWQgKyAnLScgKyBnZXRMb2NhbENvZGUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJuaWNrbmFtZVwiLGRhdGEubmlja25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldExhbmcoZGF0YS5sYW5ndWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGguZ2V0VXNlcihkYXRhLmlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odXNlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJGZpbHRlcigndHJhbnNsYXRlJykoJ1dFTENPTUVfU1lTVEVNJykgKyBcIjogXCIgKyBkYXRhLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGhvdG9cIix1c2VyRGF0YS5kYXRhLnBob3RvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnRwcm9ibGVtJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJVc3XDoXJpbyBlIHNlbmhhIG7Do28gY29uZmVyZW0uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZG9Mb2dvdXQoKSB7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlKCdpbml0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjEvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLnNlcnZpY2UoJ1NvY2tldCcsXHJcbiAgICAgICAgWyckbG9jYXRpb24nLCAnJHRpbWVvdXQnLFxyXG4gICAgZnVuY3Rpb24oJGxvY2F0aW9uLCAkdGltZW91dCkge1xyXG4gICAgICAgIGlmICh0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gaW8oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5vbihldmVudE5hbWUsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnROYW1lLCBkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXSlcclxuXHJcbn0pKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
