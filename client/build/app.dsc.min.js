!function(){"use strict";angular.module("app",["ngImgCrop","toastService","textAngular","luegg.directives","appRxDrag","DropDSC","authService","ui.router","ngMaterial","ngMdIcons","ngCookies","pascalprecht.translate"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor")}])}(),function(){"use strict";function e(e){function t(t){this.message=t,e.show({controller:"toastController",controllerAs:"vm",templateUrl:"views/pages/dsctoast.html",action:"OK",highlightAction:!0,position:"top right",hideDelay:500})}var o={message:"",errorMessage:t};return o}angular.module("toastService",[]).controller("toastController",["$mdToast","toastApp",function(e,t){var o=this;o.message=t.message,o.closeToast=function(){e.hide()}}]).factory("toastApp",e),e.$inject=["$mdToast"]}(),function(){"use strict";function e(e,t){e.state("init",{url:"/",templateUrl:"views/pages/initpage.html",controller:"loginController as vm"}).state("init.login",{url:"login",views:{"content-tab":{templateUrl:"views/pages/userlogin.html",controller:"loginController as vm"}}}).state("init.signup",{url:"signup",views:{"content-tab":{templateUrl:"views/pages/signup.html",controller:"signupController as vm"}}}).state("init.rescuepassword",{url:"rescuepassword",views:{"content-tab":{templateUrl:"views/pages/rescuepassword.html",controller:"signupController as vm"}}}).state("startproblem",{url:"/startproblem",templateUrl:"views/pages/startproblem.html",controller:"startProblemController as vm"}).state("profile",{url:"/profile",templateUrl:"views/pages/profile.html",controller:"profileController as vm"}).state("dscreport",{url:"/dscreport",templateUrl:"views/pages/problemreport.html",controller:"problemReportController as vm"}).state("newpassword",{url:"/newpassword/:mytoken",templateUrl:"views/pages/newpassword.html",controller:"signupController as vm"}).state("problem",{url:"/problem",templateUrl:"views/pages/problem.html",controller:"menuProblemController as vm"}).state("problem.description",{url:"/description",views:{"problem-description":{templateUrl:"views/pages/problemdescription.html",controller:"editProblemController as vm"}}}).state("problem.collaborators",{url:"/collaborators",views:{"problem-description":{templateUrl:"views/pages/collaborators.html",controller:"controllerCollaborators as vm"}}}).state("problem.stakeholders",{url:"/stakeholders",views:{"dsc-artifact":{templateUrl:"views/pages/stakeholders.html",controller:"stakeholderController as vm"}}}).state("problem.evaluationframework",{url:"/evaluationframework",views:{"dsc-artifact":{templateUrl:"views/pages/evaluationframework.html",controller:"evaluationframeworkController as vm"}}}).state("problem.semioticframework",{url:"/semioticframework",views:{"dsc-artifact":{templateUrl:"views/pages/semioticframework.html",controller:"semioticframeworkController as vm"}}}).state("problem.carf",{url:"/carf",views:{"dsc-artifact":{templateUrl:"views/pages/carf.html",controller:"carfController as vm"}}}).state("problem.vif",{url:"/vif",views:{"dsc-artifact":{templateUrl:"views/pages/vif.html",controller:"valueIdentificationFrameController as vm"}}}).state("problem.onion",{url:"/onion",views:{"dsc-artifact":{templateUrl:"views/pages/onion.html",controller:"onionController as vm"}}}),t.otherwise("/login")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.useStaticFilesLoader({prefix:"app/language/lang-",suffix:".json"}),e.preferredLanguage("en"),e.useSanitizeValueStrategy("escaped"),e.useLocalStorage()}function t(e){function t(t){e.use(t)}var o=this;o.setLang=t}function o(){return{templateUrl:"app/language/changeLanguage.html",restrict:"E"}}angular.module("app").config(e).controller("languageController",t).directive("changeLanguage",o),e.$inject=["$translateProvider"],t.$inject=["$translate"]}(),function(){"use strict";function e(e,t,o,r){function n(){p.idProblem=e.localStorage.getItem("problemid"),o.getcarf(p.idProblem).success(function(e){e.success&&(p.localStakeholders=e.stakeholders,p.stakeholderList=p.localStakeholders,p.carfList=e.carf,p.carfPriorityList=p.localPriorityList)}),p.inProcessing=!1}function a(){p.carf={_id:"",pms:"",values:[],priority:"",requirement:"",stakeholders:[]},p.valueList=[]}function i(e){""===e.pms?r.errorMessage("Select PMS"):e.values.length<1?r.errorMessage("Select one or more Value"):e.stakeholders.length<1?r.errorMessage("Select one or more Stakeholder(s)"):""===e.priority?r.errorMessage("Select priority [Low, Medium or High]"):(t.emit("broadcastCARFadd",e),p.stakeholderList=[],p.carfPriorityList=[])}function s(e,o){var r={index:e,carf:o};t.emit("broadcastCARFremove",r)}function l(e){void 0!==e&&angular.forEach(p.carfPMSValue,function(t){return t.pms==e?(p.carf.values=[],void(p.valueList=t.values)):void 0})}function c(e){p.carf.priority=e}function u(e){if(0===p.carf.values.length)p.carf.values.push(e);else{for(var t=0;t<p.carf.values.length;t++)if(e==p.carf.values[t])return void p.carf.values.splice(t,1);p.carf.values.push(e)}}function m(e){if(0===p.carf.stakeholders.length)p.carf.stakeholders.push(e);else{for(var t=0;t<p.carf.stakeholders.length;t++)if(e==p.carf.stakeholders[t])return void p.carf.stakeholders.splice(t,1);p.carf.stakeholders.push(e)}}var p=this;p.idProblem="",p.inProcessing=!0,p.valueList=[],p.stakeholderList=[],p.localStakeholders=[],p.addpmsvalue=i,p.removeCARF=s,p.selectPMSValue=l,p.setPriotity=c,p.addListValue=u,p.addStakeholder=m,p.carf={pms:"",values:[],priority:"",requirement:"",stakeholders:[]},p.initCarf=n,p.carfList=[],p.carfPriorityList=[],t.on("onBroadcastCARFadd",function(e){p.carfList.push(e),a(),p.stakeholderList=p.localStakeholders,p.carfPriorityList=p.localPriorityList}),t.on("onBroadcastCARFremove",function(e){p.carfList.splice(e,1)}),p.localPriorityList=["Low","Medium","High"],p.carfPMSValue=[{pms:"Interaction",values:["Identity","Norms"]},{pms:"Association",values:["Conversation","Groups","Relationship","Trust"]},{pms:"Learning",values:["Meta-communication"]},{pms:"Play",values:["Aesthetics","Emotion and Affection"]},{pms:"Protection",values:["Informed consert","Reputation","Security"]},{pms:"Exploitation",values:["Accessibility","Object","Property (ownership)","Usability"]},{pms:"Teporality",values:["Availability","Awareness","Presence"]},{pms:"Territoriality",values:["Portability","Privacy","Scalability","Visibility"]},{pms:"Classification",values:["Autonomy","Collaboration","Sharing","Adaptability"]},{pms:"Subsistence",values:["Reciprocity"]}]}angular.module("app").controller("carfController",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r){function n(){u.isOpenChat=!u.isOpenChat,document.getElementById("message").focus()}function a(){u.idProblem=r.localStorage.getItem("problemid"),u.nickname=r.localStorage.getItem("nickname"),u.photo=r.localStorage.getItem("photo"),o.gethistorychat(u.idProblem).success(function(e){if(e.success)for(var t=0;t<e.historychat.length;t++){var o=new Date(e.historychat[t].time),r={nickname:e.historychat[t].nickname,msg:e.historychat[t].msg,time:o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear()+" ["+o.getHours()+":"+o.getMinutes()+"] "};u.messages.push(r)}}),t.emit("checkUsers")}function i(){u.replay?u.replay=!1:u.replay=!0}function s(e){void 0===e||e.length<2||(t.emit("broadcastChat",e),u.newmsg="",u.contador=0)}function l(){u.contador=0}function c(t,o){13==t.keyCode&&(u.contador++,1==u.contador&&e(l,2e3),u.contador>1&&s(o))}var u=this;u.newmsg="",u.messages=[],u.replay=!1,u.nickname="",u.userList=[],u.initHistoryChat=a,u.showReplay=i,u.sendMessage=s,u.photo="",u.openChat=n,u.isOpenChat=!1,u.keypressChat=c,u.contador=0,t.on("onBroadcastChat",function(e){var t=new Date(e[e.length-1].time);u.messages.push({nickname:e[e.length-1].nickname,msg:e[e.length-1].msg,time:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" ["+t.getHours()+":"+t.getMinutes()+"] "})}),t.on("onCheckUsers",function(e){u.userList=e})}angular.module("app").controller("chatDSC",e),e.$inject=["$timeout","Socket","problemService","$window"]}(),function(){"use strict";function e(e,t,o,r){function n(){l.idProblem=e.localStorage.getItem("problemid"),l.useremail=e.localStorage.getItem("useremail"),o.getcollaborators(l.idProblem).success(function(e){e.success?l.collaborators=e.collaborators:r.errorMessage(e.message)})}function a(e){for(var t=0;t<l.collaborators.length;t++)if(e==l.collaborators[t].email)return!0;return!1}function i(e){if(l.useremail==e)r.errorMessage(l.useremail+" is email of owner.");else if(a(e))r.errorMessage("Usuario Cadastrado.");else{var t={idproblem:l.idProblem,email:e};o.invite(t).success(function(e){e.success?l.collaborators=e.collaborators:r.errorMessage(e.message)})}}function s(e){var t={idproblem:l.idProblem,email:e.email};o.removecollaborators(t).success(function(e){e.success?(r.errorMessage("Colaborador foi removido do projeto."),l.collaborators=e.collaborators):r.errorMessage(e.message)})}var l=this;l.idProblem="",l.collaborators=[],l.useremail="",l.initCollaborators=n,l.addCollaborator=i,l.removeCollaborator=s}angular.module("app").controller("controllerCollaborators",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(){function e(e){var t=document.getElementById("projectResport"),o=new jsPDF("l","px");o.addHTML(t,0,0,{pagesplit:!0},function(e){o.save("test.pdf")})}var t=this;t.idproblem="ajflajfljalfjaljf",t.buidReport=e}angular.module("app").controller("dscReportController",e)}(),function(){"use strict";function e(e,t,o,r){function n(){s.idproblem=e.localStorage.getItem("problemid"),t.getevaluation(s.idproblem).success(function(e){e.success?s.evaluationframeworkList=e.evaluationframework:r.errorMessage(e.message)})}function a(e){o.emit("broadcastFrameSave",e)}function i(e){e.openEdit=!0}var s=this;s.evaluationframeworkList=[],s.initEvaluation=n,s.setOpenEditDiscution=i,s.saveFrame=a,o.on("onBroadcastFrameEdit",function(e){angular.forEach(s.evaluationframeworkList,function(t){t.onionlayer==e.onionlayer&&angular.forEach(t.stakeholders,function(t){t._id==e._id&&(t.name=e.name,t.onionlayer=e.onionlayer,t.description=e.description,t.openEdit=e.openEdit,t.problems=e.problems,t.solutions=e.solutions)})})}),o.on("onUpdateStakeholder",function(e){})}angular.module("app").controller("evaluationframeworkController",e),e.$inject=["$window","problemService","Socket","toastApp"]}(),function(){"use strict";function e(e,t,o,r,n,a,i){function s(){d.nickname=r.localStorage.getItem("nickname"),d.idProblem=r.localStorage.getItem("problemid"),n.getproblem(d.idProblem).success(function(e){e.success?(d.problem=e.problem,angular.forEach(e.problem.artifacts,function(e){var o=e.split("_");d.dsc_artifacts.push({name:"problem."+o[2].toLowerCase(),label:t("translate")(e)})})):a.errorMessage(e.message)})}function l(){o.go("startproblem")}function c(){o.go("problem.collaborators")}function u(){o.go("dscreport")}function m(){o.go("problem.description")}function p(){e.logout(),o.go("init.login")}var d=this;d.formAddCollaborators=c,d.editDescriptionProblem=m,d.doLogout=p,d.systemReturn=l,d.formProblemReport=u,d.getCurrentProblem=s,d.nickname,d.dsc_artifacts=[]}angular.module("app").controller("menuProblemController",e),e.$inject=["Auth","$filter","$state","$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,r,n){var a=this;a.idproblem="",a.intiMytOnion=intiMytOnion,a.savePostItOnion=savePostItOnion,a.editPostItOnion=editPostItOnion,a.delPostItOnion=delPostItOnion,a.addPostItOnion=addPostItOnion,a.onOnion=onOnion,a.offOnion=offOnion}angular.module("app").controller("onionController",e),e.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(),function(){"use strict";function e(e,t,o,r,n){function a(){c.nickname=r.localStorage.getItem("nickname"),c.idProblem=r.localStorage.getItem("problemid"),c.localcode=r.localStorage.getItem("localcode"),n.getproblem(c.idProblem).success(function(e){e.success?c.problem=e.problem:o.errorMessage(e.message)})}function i(){u=!0}function s(o){o.update=u,o.localcode=c.localcode,e.emit("atualizarProblema",o),u&&(u=!1,t(i,2e3))}function l(t){t.localcode=c.localcode,t.update=u,e.emit("atualizarProblema",t)}var c=this,u=!0;c.problem="",c.problemUpdate=s,c.getCurrentProblem=a,c.saveDescription=l,c.nickname="",c.localcode="",e.on("onAtualizarProblema",function(e){c.localcode!==e.localcode&&(c.problem.description=e.description),c.problem.update=u})}angular.module("app").controller("editProblemController",e),e.$injectre=["$scope","Socket"],e.$inject=["Socket","$timeout","toastApp","$window","problemService"]}(),function(){"use strict";function e(e,t,o,r){function n(){i.idProblem=e.localStorage.getItem("problemid"),t.getproblemreport(i.idProblem).success(function(e){e.success?(angular.forEach(e.problem.stakeholders,function(e){e.x=parseInt(e.x.substring(0,e.x.length-2))-100+"px",e.y=parseInt(e.y.substring(0,e.y.length-2))+400+"px"}),i.problem=e.problem):o.errorMessage(e.message)})}function a(){r.go("problem.stakeholders")}var i=this;i.idProblem,i.problem,i.initProblemPeport=n,i.systemReturn=a}angular.module("app").controller("problemReportController",e),e.$inject=["$window","problemService","toastApp","$state"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(v,t)}function r(t){return e.get(w+"?idproblem="+t)}function n(t){return e.get(k+"?idproblem="+t)}function a(t){return e.get(b+"?email="+t)}function i(t){return e.get(y+"?idproblem="+t)}function s(t){return e.post(S,t)}function l(t){return e.get(P+"?idproblem="+t)}function c(t){return e.get(C+"?idproblem="+t)}function u(t){return e.get($+"?idproblem="+t)}function m(t){return e.get(I+"?idproblem="+t)}function p(t){return e.get(L+"?idproblem="+t)}function d(t){return e.get(h+"?email="+t)}function g(t){return e.get(A+"?idproblem="+t.idproblem+"&email="+t.email)}function f(t){return e.get(E+"?idproblem="+t)}var b="/api/problem/getproblems",h="/api/problem/getproblemscollaborator",v="/api/problem/newproblem",k="/api/problem/getproblem",w="/api/problem/getproblemreport",y="/api/problem/getcollaborators",S="/api/problem/invite",P="/api/problem/getonion",C="/api/problem/getevaluation",$="/api/problem/getsemiotic",I="/api/problem/getcarf",L="/api/problem/removeproblem",A="/api/problem/removecollaborator",E="/api/problem/historychat",M={newproblem:o,getuserproblems:a,getproblem:n,getcollaborators:i,invite:s,getonion:l,getevaluation:c,getsemiotic:u,getcarf:m,removeproblem:p,getproblemscollaborator:d,removecollaborators:g,gethistorychat:f,getproblemreport:r};return M}angular.module("app").factory("problemService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e,t,o,r){function n(){m.idproblem=t.localStorage.getItem("problemid"),o.getsemiotic(m.idproblem).success(function(e){e.success?m.semioticframework=e.semioticframework:r.errorMessage(e.message)})}function a(t,o){var r={text:t,update:o};e.emit("updateSocialWorld",r)}function i(t,o){var r={text:t,update:o};e.emit("updatePragmatic",r)}function s(t,o){var r={text:t,update:o};e.emit("updateSemantic",r)}function l(t,o){var r={text:t,update:o};e.emit("updateSyntatic",r)}function c(t,o){var r={text:t,update:o};e.emit("updateEmpirical",r)}function u(t,o){var r={text:t,update:o};e.emit("updatePhysical",r)}var m=this;m.idproblem="",m.saveSocialWorld=a,m.savePragmatic=i,m.saveSemantic=s,m.saveSyntatic=l,m.saveEmpirical=c,m.savePhysical=u,m.semioticframework="",m.initSemioticFramework=n,e.on("onUpdateSocialWorld",function(e){m.semioticframework.socialworld=e}),e.on("onUpdatePragmatic",function(e){m.semioticframework.pragmatic=e}),e.on("onUpdateSemantic",function(e){m.semioticframework.semioticramework=e}),e.on("onUpdateSyntatic",function(e,t){m.semioticframework.syntatic=e}),e.on("onUpdateEmpirical",function(e){m.semioticframework.empirical=e}),e.on("onUpdatePhysical",function(e){m.semioticframework.physical=e})}angular.module("app").controller("semioticframeworkController",e),e.$inject=["Socket","$window","problemService","toastApp"]}(),function(e){"use strict";function t(e,t,o,r,n){function a(){d.idproblem=t.localStorage.getItem("problemid"),d.localcode=t.localStorage.getItem("localcode"),o.getonion(d.idproblem).success(function(e){e.success?d.stakeholderList=e.stakeholders:n.errorMessage(e.message)}),d.inProcessing=!1}function i(t){e.emit("broadcastOnionSave",t)}function s(t){e.emit("broadcastOnionEdit",t)}function l(t,o){var r={index:t,stakeholder:o};e.emit("broadcastOnionRemove",r)}function c(e,t,o){var n=r.confirm().parent(angular.element(document.body)).title("Detete Stakeholder?").content("Title: "+o.name).ariaLabel("Remove Stakeholder").ok("Yes!").cancel("Cancel").targetEvent(e);r.show(n).then(function(){l(t,o)})}function u(t,o){var r={onionlayer:o,name:"",description:"",openEdit:!0,x:t.pageX+"px",y:t.pageY+"px",zindex:9999};e.emit("broadcastOnionAdd",r)}function m(e){document.getElementById("name"+e).setAttribute("style","text-decoration: underline;"),document.getElementById("legend"+e).setAttribute("opacity","0.7"),document.getElementById(e).setAttribute("opacity","0.7")}function p(e){document.getElementById("name"+e).setAttribute("style","text-decoration: none;"),document.getElementById("legend"+e).setAttribute("opacity","1.0"),document.getElementById(e).setAttribute("opacity","1.0")}var d=this;d.idproblem="",d.stakeholderList=[],d.stakeholder="",d.intitOnion=a,d.move=!1,d.inProcessing=!0,d.saveStakeholder=i,d.setOpenEdit=s,d.delPostIt=c,d.addPostIt=u,d.acende=m,d.apaga=p,d.localcode="",e.on("onBroadcastOnionSave",function(e){angular.forEach(d.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.zindex=9999)})}),e.on("onBroadcastOnionEdit",function(e){angular.forEach(d.stakeholderList,function(t){t._id===e&&(t.openEdit=!0,t.zindex=9999)})}),e.on("onBroadcastOnionRemove",function(e){var t=document.getElementById("stakeholder"+d.stakeholderList[e]._id);t.style.display="none",d.stakeholderList.splice(e,1)}),e.on("onBroadcastMove",function(e){d.localcode!==e.localcode&&(document.getElementById("stakeholder"+e._id).style.left=e.x,document.getElementById("stakeholder"+e._id).style.top=e.y)}),e.on("onBroadcastOnionAdd",function(e){d.stakeholderList.push(e)})}angular.module("app").controller("stakeholderController",t),t.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(this),function(){"use strict";function e(e,t,o,r,n,a,i){function s(){b.userid=n.localStorage.getItem("userid"),b.nickname=n.localStorage.getItem("nickname"),b.useremail=n.localStorage.getItem("useremail"),b.photo=n.localStorage.getItem("photo"),a.getuserproblems(b.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description.length>300?e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,280):e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"");b.problemList=e.problems,a.getproblemscollaborator(b.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)null!==e.problems[t].description&&(console.log("Descrição: "+e.problems[t].description),console.log(e.problems[t].description.length),e.problems[t].description.length>300?e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,280):e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,""));b.problemCollaboratorList=e.problems}else i.errorMessage(e.message)})}else i.errorMessage(e.message)}),b.loginInProgress=!1}function l(e){a.removeproblem(e).success(function(t){if(t.success){for(var o=0;o<b.problemList.length;o++)if(b.problemList[o]._id==e){b.problemList.splice(o,1);break}}else i.errorMessage(t.message)})}function c(t,o){var r=e.confirm().parent(angular.element(document.body)).title("Detete Problem?").content("Title: "+o.title).ariaLabel("Remove Problem").ok("Desejo remover!").cancel("Cancel").targetEvent(t);e.show(r).then(function(){l(o._id)})}function u(e){e.userid=b.userid,a.newproblem(e).success(function(e){e.success?b.editProblem(e.problem):i.errorMessage(e.message)})}function m(e){n.localStorage.setItem("problemid",e._id);var o={idproblem:e._id,nickname:b.nickname};r.emit("initProblem",o),t.go("problem.stakeholders")}function p(){o.logout(),t.go("init.login")}function d(){t.go("profile")}function g(t){e.show({controller:f,templateUrl:"views/pages/newproblem.html",parent:angular.element(document.body),targetEvent:t})}function f(e,t,o){e.artifactList=[],e.hide=function(){o.hide()},e.cancel=function(){o.cancel()},e.addNewProblem=function(r){return e.artifactList.length<1?void i.errorMessage(t("translate")("LABEL_CHOICE_ARTIFACTS")):(r.artifacts=e.artifactList,b.startNewProblem(r),void o.cancel())},e.addArtifact=function(t){for(var o=0;o<e.artifactList.length;o++)if(e.artifactList[o]===t)return void e.artifactList.splice(o,1);e.artifactList.push(t)}}var b=this;b.nickname="",b.userid="",b.useremail="",b.problemList=[],b.problemCollaboratorList=[],b.loginInProgress=!0,b.getProblems=s,b.revomveProblem=c,b.startNewProblem=u,b.editProblem=m,b.doLogout=p,b.newProblem=g,b.editProfile=d,b.photo,f.$inject=["$scope","$filter","$mdDialog"]}angular.module("app").controller("startProblemController",e),e.$inject=["$mdDialog","$state","Auth","Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r){function n(){u.idproblem=e.localStorage.getItem("problemid"),t.getonion(u.idproblem).success(function(e){if(e.success){if(e.stakeholders.length>0){for(var t=1;t<u.sugestionValuesArray.length;t++)u.sugestionValues+=u.sugestionValuesArray[t]+", ";u.sugestionValues[u.sugestionValuesArray[u.sugestionValuesArray.length-1]]+".";for(var r=0;r<e.stakeholders.length;r++)for(var n=0;n<u.stakeholderList.length;n++){var a={_id:e.stakeholders[r]._id,onionlayer:e.stakeholders[r].onionlayer,values:e.stakeholders[r].values,name:e.stakeholders[r].name,description:e.stakeholders[r].description,openEdit:e.stakeholders[r].openEdit,x:e.stakeholders[r].x,y:e.stakeholders[r].y,newValues:[]};e.stakeholders[r].onionlayer!=u.stakeholderList[n].onionlayer||u.stakeholderList[n].stakeholders.push(a)}}u.inProcessing=!1}else o.errorMessage(e.message)})}function a(e){e.openEdit=!0}function i(e){e.openEdit=!1}function s(e,t){for(var o=[],n=0;n<t.values.length;n++)t.values[n]!=e&&o.push(t.values[n]);t.values=o,r.emit("broadcastOnionSave",t)}function l(e){if(""===e.newValues||void 0===e.newValues)o.errorMessage("Valor não especificado.");else{for(var t=e.newValues.split(","),n=0;n<t.length;n++)c(e.values,t[n])?o.errorMessage("Duplicate value: "+t[n]):e.values.push(t[n]);e.newValues="",e.openEdit=!1,r.emit("broadcastOnionSave",e)}}function c(e,t){for(var o=0;o<e.length;o++)if(t===e[o])return!0;return!1}var u=this;u.inProcessing=!0,u.idProblem="",u.useremail="",u.newvalues="",u.initValueIdentificationFrame=n,u.setSuggestionShow=a,u.leaveSuggestionShow=i,u.removeValueIdentication=s,u.setValueIdentication=l,u.sugestionValues="",u.stakeholderList=[{onionlayer:"Community",stakeholders:[]},{onionlayer:"Market",stakeholders:[]},{onionlayer:"Source",stakeholders:[]},{onionlayer:"Contribution",stakeholders:[]},{onionlayer:"Technico",stakeholders:[]}],u.sugestionValuesArray=["Acessibilidade","Adaptabilidade","Estética","Autonomia","Disponibilidade","Consciência","Colaboração","Conversação","Emoção e Afeto","Grupos","Identidade","Consentimento informado","Meta-comunicação","Normas","Objeto","Portabilidade","Presença","Privacidade","Propriedade","Reciprocidade, Relacionamento, Reputação","Escalabilidade","Segurança","Compartilhamento","Confiança","Usabilidade","Visibilidade"],r.on("onBroadcastOnionSave",function(e){angular.forEach(u.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.newValues=[])})})}angular.module("app").controller("valueIdentificationFrameController",e),e.$inject=["$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,r){function n(){t.go("startproblem")}function a(){s.userid=e.localStorage.getItem("userid"),void 0!==s.userid}function i(t){var o={userid:e.localStorage.getItem("userid"),photo:t};r.uploadPhoto(o).success(function(o){o.success?e.localStorage.setItem("photo",t):toastApp.errorMessage("-----")})}var s=this;s.startProfile=a,s.uploadInProgress=!0,s.uploadProgress=0,s.userid,s.savePhoto=i,s.systemReturn=n,s.myImage="",s.myCroppedImage="";var l=function(e){var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){o.$apply(function(t){t.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",l)}angular.module("app").controller("profileController",e),e.$inject=["$window","$state","$scope","signupService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i,s,l){function c(e){o.create(e).success(function(t){t.success?(n.errorMessage(s("translate")("WELCOME_SYSTEM")+e.nickname),r.go("init.login")):n.errorMessage("Email Já cadastrado")})}function u(t){e.use(t)}function m(e){o.rescuePassword(e).success(function(t){t.success?(n.errorMessage("Email com instruções enviado para "+e.email),r.go("init.login")):n.errorMessage("Error")})}function p(e){o.changePassword(e).success(function(e){e.success?(n.errorMessage("Senha alterada com sucesso. Faça login com a nova senha."),r.go("init.login")):n.errorMessage("Error")})}var d=this;d.message="",d.saveUser=c,d.rescuePassword=m,d.changePassword=p,d.setLang=u,d.loginInProgress=!1}angular.module("app").controller("signupController",e),e.$inject=["$translate","$window","signupService","$state","toastApp","AuthToken","Auth","$filter","$stateParams"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(i,t)}function r(t){return e.post(s,t)}function n(o){var r=t.search();return e.get(l+"?mytoken="+r.mytoken+"&password="+o.password)}function a(t){return e.post(c,t)}var i="/api/signup/",s="/api/rescuepasswd/",l="/api/rescuepasswd/newpasswd/",c="/api/profile/photo/",u={create:o,rescuePassword:r,changePassword:n,uploadPhoto:a};return u}angular.module("app").factory("signupService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e){var t=e.extendPalette("teal",{50:"E0F2F1",100:"B2DFDB",200:"80CBC4",300:"4DB6AC",400:"26A69A",500:"009688",600:"00897B",700:"00796B",800:"00695C",900:"004D40",A100:"A7FFEB",A200:"64FFDA",A400:"1DE9B6",A700:"00BFA5",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0});e.definePalette("teal",t),e.theme("default").primaryPalette("teal").accentPalette("green")}angular.module("app").config(e),e.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";angular.module("authService",[]).factory("Auth",["$http","$q","AuthToken",function(e,t,o){var r={};return r.login=function(t,r){return e.post("/api/login",{email:t,password:r}).success(function(e){return o.setToken(e.token),e})},r.logout=function(){o.setToken()},r.isLoggedIn=function(){return o.getToken()?!0:!1},r.getUser=function(r){return o.getToken()?e.get("/api/me/?userid="+r):t.reject({message:"User has no token"})},r}]).factory("AuthToken",["$window",function(e){var t={};return t.getToken=function(){return e.localStorage.getItem("token")},t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token")},t}]).factory("AuthInterceptor",["$q","$location","AuthToken",function(e,t,o){var r={};return r.request=function(e){var t=o.getToken();return t&&(e.headers["x-access-token"]=t),e},r}])}(),angular.module("DropDSC",[]).directive("draggable",["$document","Socket","$window",function(e,t,o){return{restrict:"A",replace:!0,link:function(r,n,a){function i(e){var t=e.target.id;"svg"==t&&(t=""),r.stakeholder.onionlayer=t,y=e.pageY,x=e.pageX,n.css({top:y+"px",left:x+"px"}),r.stakeholder.x=x+"px",r.stakeholder.y=y+"px"}function s(){e.unbind("mousemove",i),e.unbind("mouseup",s),t.emit("broadcastMove",r.stakeholder)}n.on("mousedown",function(t){"stakeholder"==t.target.id.substring(0,11)&&(r.stakeholder.localcode=o.localStorage.getItem("localcode"),t.preventDefault(),e.bind("mousemove",i),e.bind("mouseup",s))})}}}]),function(e){angular.module("appRxDrag",["rx"]).directive("rxdraggable",["$document","$window","rx","Socket",function(e,t,o,r){return function(n,a,i){var s=t.localStorage.getItem("localcode"),l=o.Observable.fromEvent(a,"mouseup"),c=o.Observable.fromEvent(e,"mousemove"),u=o.Observable.fromEvent(a,"mousedown").map(function(e){return e.preventDefault(),{left:e.clientX-a[0].getBoundingClientRect().left,top:e.clientY-a[0].getBoundingClientRect().top}}),m=u.selectMany(function(e){return c.map(function(t){return{left:t.clientX-e.left,top:t.clientY-e.top}}).takeUntil(l)});m.subscribe(function(e){a.css({top:e.top+"px",left:e.left+"px"}),e.localcode=s,r.emit("broadcastMove",e)})}}])}.call(this),function(){"use strict";function e(e,t,o,r,n,a,i){function s(t){e.use(t)}function l(){return Math.random()+Math.floor(10*Math.random())}function c(e){m.inProcessing=!0,m.error="",r.login(e.email,e.password).success(function(e){n.localStorage.setItem("useremail",e.email),n.localStorage.setItem("userid",e.id),n.localStorage.setItem("localcode",e.id+"-"+l()),n.localStorage.setItem("nickname",e.nickname),m.setLang(e.language),m.inProcessing=!1,r.getUser(e.id).then(function(t){i.errorMessage(a("translate")("WELCOME_SYSTEM")+": "+e.nickname),e.success?(n.localStorage.setItem("photo",t.data.photo),o.go("startproblem")):i.errorMessage("Usuário e senha não conferem.")})})}function u(){r.logout(),o("init")}var m=this;m.inProcessing=!1,m.setLang=s,m.doLogout=u,m.doLogin=c,m.loggedIn=r.isLoggedIn(),t.$on("$routeChangeStart",function(){m.loggedIn=r.isLoggedIn(),r.getUser().then(function(e){m.user=e.data})})}angular.module("app").controller("loginController",e),e.$inject=["$translate","$rootScope","$state","Auth","$window","$filter","toastApp"]}(),function(){"use strict";angular.module("app").service("Socket",["$location","$timeout",function(e,t){this.socket=io(),this.on=function(e,o){this.socket&&this.socket.on(e,function(e){t(function(){o(e)})})},this.emit=function(e,t){this.socket&&this.socket.emit(e,t)},this.removeListener=function(e){this.socket&&this.socket.removeListener(e)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRzYy5hcHAuanMiLCJ0b2FzdC5zZXJ2aWNlLmpzIiwicm91dGVyLmFwcC5qcyIsImFwcC5kc2MubWluLmpzIiwibGFuZ3VhZ2UvdHJhbnNsYXRlLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2NhcmYuY29udHJvbGxlci5qcyIsInByb2JsZW0vY2hhdC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9jb2xsYWJvcmF0b3JzLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2RzY3Jlc3BvcnQuY29udHJvbGxlci5qcyIsInByb2JsZW0vZXZhbHVhdGlvbmZyYW1ld29yay5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9tZW51LnByb2JsZW0uY29udHJvbGxlci5qcyIsInByb2JsZW0vb25pb24uY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3Byb2JsZW0ucmVwb3J0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3Byb2JsZW0uc2VydmljZS5qcyIsInByb2JsZW0vc2VtaW90aWNmcmFtZXdvcmsuZWRpdC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9zdGFrZWhvbGRlci5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3N0YXJ0LnByb2JsZW0uY29udHJvbGxlci5qcyIsInByb2JsZW0vdmFsdWVkZW50aWZpY2F0aW9uZnJhbWUuY29udHJvbGxlci5qcyIsInVzZXIvcHJvZmlsZS5jb250cm9sbGVyLmpzIiwidXNlci9zaWdudXAuY29udHJvbGxlci5qcyIsInVzZXIvc2lnbnVwLnNlcnZpY2UuanMiLCJhcHAuY29uZmlnLmpzIiwiYXV0aC5zZXJ2aWNlLmpzIiwiZHJhZy5kc2MuanMiLCJkcmFncnguZHNjLmpzIiwibG9naW4uY29udHJvbGxlci5qcyIsInNvY2tldC5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkaHR0cFByb3ZpZGVyIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsInRvYXN0QXBwIiwiJG1kVG9hc3QiLCJlcnJvck1lc3NhZ2UiLCJ0aGlzIiwibWVzc2FnZSIsInNob3ciLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwidGVtcGxhdGVVcmwiLCJhY3Rpb24iLCJoaWdobGlnaHRBY3Rpb24iLCJwb3NpdGlvbiIsImhpZGVEZWxheSIsInNlcnZpY2UiLCJzZWxmIiwiY2xvc2VUb2FzdCIsImhpZGUiLCJmYWN0b3J5IiwiJGluamVjdCIsInJvdXRlcyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsImNvbnRlbnQtdGFiIiwicHJvYmxlbS1kZXNjcmlwdGlvbiIsImRzYy1hcnRpZmFjdCIsIm90aGVyd2lzZSIsImluaXRMYW5ndWFnZSIsIiR0cmFuc2xhdGVQcm92aWRlciIsInVzZVN0YXRpY0ZpbGVzTG9hZGVyIiwicHJlZml4Iiwic3VmZml4IiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJsYW5ndWFnZUNvbnRyb2xsZXIiLCIkdHJhbnNsYXRlIiwic2V0TGFuZyIsImxhbmdLZXkiLCJ1c2UiLCJjaGFuZ2VMYW5ndWFnZSIsInJlc3RyaWN0IiwiZGlyZWN0aXZlIiwiY2FyZkNvbnRyb2xsZXIiLCIkd2luZG93IiwiU29ja2V0IiwicHJvYmxlbVNlcnZpY2UiLCJpbml0Q2FyZiIsImlkUHJvYmxlbSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJnZXRjYXJmIiwic3VjY2VzcyIsImRhdGEiLCJsb2NhbFN0YWtlaG9sZGVycyIsInN0YWtlaG9sZGVycyIsInN0YWtlaG9sZGVyTGlzdCIsImNhcmZMaXN0IiwiY2FyZiIsImNhcmZQcmlvcml0eUxpc3QiLCJsb2NhbFByaW9yaXR5TGlzdCIsImluUHJvY2Vzc2luZyIsInJlc2V0Q2FyZiIsIl9pZCIsInBtcyIsInZhbHVlcyIsInByaW9yaXR5IiwicmVxdWlyZW1lbnQiLCJ2YWx1ZUxpc3QiLCJhZGRwbXN2YWx1ZSIsImxlbmd0aCIsImVtaXQiLCJyZW1vdmVDQVJGIiwiaW5kZXgiLCJvYmoiLCJzZWxlY3RQTVNWYWx1ZSIsInVuZGVmaW5lZCIsImZvckVhY2giLCJjYXJmUE1TVmFsdWUiLCJwbXNfdmFsdWUiLCJzZXRQcmlvdGl0eSIsImFkZExpc3RWYWx1ZSIsIm5ld3ZhbHVlIiwiaSIsInNwbGljZSIsImFkZFN0YWtlaG9sZGVyIiwibmV3U3Rha2Vob2xkZXIiLCJvbiIsImlkIiwiY2hhdERTQyIsIiR0aW1lb3V0Iiwib3BlbkNoYXQiLCJpc09wZW5DaGF0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImZvY3VzIiwiaW5pdEhpc3RvcnlDaGF0Iiwibmlja25hbWUiLCJwaG90byIsImdldGhpc3RvcnljaGF0IiwiaGlzdG9yeWNoYXQiLCJ0bXAiLCJEYXRlIiwidGltZSIsIm1zbiIsIm1zZyIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwibWVzc2FnZXMiLCJzaG93UmVwbGF5IiwicmVwbGF5Iiwic2VuZE1lc3NhZ2UiLCJjaGF0bXNnIiwibmV3bXNnIiwiY29udGFkb3IiLCJ6ZXJhckNvbnRhZG9yIiwia2V5cHJlc3NDaGF0IiwiZXZlbnQiLCJrZXlDb2RlIiwidXNlckxpc3QiLCJjb250cm9sbGVyQ29sbGFib3JhdG9ycyIsImluaXRDb2xsYWJvcmF0b3JzIiwidXNlcmVtYWlsIiwiZ2V0Y29sbGFib3JhdG9ycyIsImNvbGxhYm9yYXRvcnMiLCJzZWFyY2hDYWxsYWJvcmF0aW9uIiwiZW1haWwiLCJhZGRDb2xsYWJvcmF0b3IiLCJpbnZpdGUiLCJpZHByb2JsZW0iLCJyZW1vdmVDb2xsYWJvcmF0b3IiLCJwZW9wbGUiLCJyZW1vdmVjb2xsYWJvcmF0b3JzIiwiZHNjUmVwb3J0Q29udHJvbGxlciIsImJ1aWRSZXBvcnQiLCJlbGVtZW50IiwiaHRtbCIsInBkZiIsImpzUERGIiwiYWRkSFRNTCIsInBhZ2VzcGxpdCIsImRpc3Bvc2UiLCJzYXZlIiwiZXZhbHVhdGlvbmZyYW1ld29ya0NvbnRyb2xsZXIiLCJpbml0RXZhbHVhdGlvbiIsImdldGV2YWx1YXRpb24iLCJldmFsdWF0aW9uZnJhbWV3b3JrTGlzdCIsImV2YWx1YXRpb25mcmFtZXdvcmsiLCJzYXZlRnJhbWUiLCJzdGFrZWhvbGRlciIsInNldE9wZW5FZGl0RGlzY3V0aW9uIiwiY3VycmVudFN0YWtlaG9sZGVyIiwib3BlbkVkaXQiLCJvbmlvbmxheWVyIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicHJvYmxlbXMiLCJzb2x1dGlvbnMiLCJzdGFrZWhvbGRlck9uaW9uIiwibWVudVByb2JsZW1hQ29udHJvbGxlciIsIkF1dGgiLCIkZmlsdGVyIiwiJHN0YXRlIiwiZ2V0Q3VycmVudFByb2JsZW0iLCJnZXRwcm9ibGVtIiwicHJvYmxlbSIsImFydGlmYWN0cyIsImFydGlmYWN0Iiwic3BsaXQiLCJkc2NfYXJ0aWZhY3RzIiwidG9Mb3dlckNhc2UiLCJsYWJlbCIsInN5c3RlbVJldHVybiIsImdvIiwiZm9ybUFkZENvbGxhYm9yYXRvcnMiLCJmb3JtUHJvYmxlbVJlcG9ydCIsImVkaXREZXNjcmlwdGlvblByb2JsZW0iLCJkb0xvZ291dCIsImxvZ291dCIsIm9uaW9uQ29udHJvbGxlciIsIiRtZERpYWxvZyIsImludGlNeXRPbmlvbiIsInNhdmVQb3N0SXRPbmlvbiIsImVkaXRQb3N0SXRPbmlvbiIsImRlbFBvc3RJdE9uaW9uIiwiYWRkUG9zdEl0T25pb24iLCJvbk9uaW9uIiwib2ZmT25pb24iLCJlZGl0UHJvYmxlbWFDb250cm9sbGVyIiwibG9jYWxjb2RlIiwic2V0VXBkYXRlIiwidXBkYXRlVHJ1ZSIsInByb2JsZW1VcGRhdGUiLCJ1cGRhdGUiLCJzYXZlRGVzY3JpcHRpb24iLCJyZXRvcm5vIiwiJGluamVjdHJlIiwicHJvYmxlbVJlcG9ydENvbnRyb2xsZXIiLCJpbml0UHJvYmxlbVBlcG9ydCIsImdldHByb2JsZW1yZXBvcnQiLCJ4IiwicGFyc2VJbnQiLCJzdWJzdHJpbmciLCJ5IiwiJGh0dHAiLCIkbG9jYXRpb24iLCJuZXdwcm9ibGVtIiwicG9zdCIsIkFQSV9ST1VURV9ORVdQUk9CTEVNIiwiZ2V0IiwiQVBJX1JPVVRFX0dFVFBST0JMRU1SRVBPUlQiLCJBUElfUk9VVEVfR0VUUFJPQkxFTSIsImdldHVzZXJwcm9ibGVtcyIsIkFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVMiLCJBUElfUk9VVEVfR0VUQ09MTEFCT1JBVE9SUyIsIkFQSV9ST1VURV9JTlZJVEUiLCJnZXRvbmlvbiIsIkFQSV9ST1VURV9HRVRPTklPTiIsIkFQSV9ST1VURV9HRVRFVkFMVUFUSU9OIiwiZ2V0c2VtaW90aWMiLCJBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksiLCJBUElfUk9VVEVfR0VUQ0FSRiIsInJlbW92ZXByb2JsZW0iLCJBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSIsImdldHByb2JsZW1zY29sbGFib3JhdG9yIiwiQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiIsIkFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IiLCJBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQiLCJzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIiLCJpbml0U2VtaW90aWNGcmFtZXdvcmsiLCJzZW1pb3RpY2ZyYW1ld29yayIsInNhdmVTb2NpYWxXb3JsZCIsInRleHQiLCJmbGFnU2F2ZSIsInNhdmVQcmFnbWF0aWMiLCJzYXZlU2VtYW50aWMiLCJzYXZlU3ludGF0aWMiLCJzYXZlRW1waXJpY2FsIiwic2F2ZVBoeXNpY2FsIiwic29jaWFsd29ybGQiLCJwcmFnbWF0aWMiLCJzZW1pb3RpY3JhbWV3b3JrIiwic3ludGF0aWMiLCJlbXBpcmljYWwiLCJwaHlzaWNhbCIsInN0YWtlaG9sZGVyQ29udHJvbGxlciIsImludGl0T25pb24iLCJzYXZlU3Rha2Vob2xkZXIiLCJzZXRPcGVuRWRpdCIsInJlbW92ZVBvc3RJdCIsImRlbFBvc3RJdCIsImV2IiwiY29uZmlybSIsInBhcmVudCIsImJvZHkiLCJ0aXRsZSIsImNvbnRlbnQiLCJhcmlhTGFiZWwiLCJvayIsImNhbmNlbCIsInRhcmdldEV2ZW50IiwidGhlbiIsImFkZFBvc3RJdCIsImUiLCJjYW1hZGEiLCJwYWdlWCIsInppbmRleCIsImFjZW5kZSIsInNldEF0dHJpYnV0ZSIsImFwYWdhIiwibW92ZSIsInN0eWxlIiwiZGlzcGxheSIsImxlZnQiLCJ0b3AiLCJzdGFydFByb2JsZW1Db250cm9sbGVyIiwiZ2V0UHJvYmxlbXMiLCJ1c2VyaWQiLCJyZXBsYWNlIiwicHJvYmxlbUxpc3QiLCJjb25zb2xlIiwibG9nIiwicHJvYmxlbUNvbGxhYm9yYXRvckxpc3QiLCJsb2dpbkluUHJvZ3Jlc3MiLCJkZWxldGVQcm9ibGVtIiwicHJvYmxlbWlkIiwicmV2b212ZVByb2JsZW0iLCJzdGFydE5ld1Byb2JsZW0iLCJlZGl0UHJvYmxlbSIsInNldEl0ZW0iLCJpbml0c29ja2V0cHJvYmxlbSIsImVkaXRQcm9maWxlIiwibmV3UHJvYmxlbSIsIkRpYWxvZ0NvbnRyb2xsZXIiLCIkc2NvcGUiLCJhcnRpZmFjdExpc3QiLCJhZGROZXdQcm9ibGVtIiwiYWRkQXJ0aWZhY3QiLCJ2YWxvciIsInZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIiLCJpbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lIiwiayIsInN1Z2VzdGlvblZhbHVlc0FycmF5Iiwic3VnZXN0aW9uVmFsdWVzIiwiaiIsIm5ld1ZhbHVlcyIsInNldFN1Z2dlc3Rpb25TaG93IiwibGVhdmVTdWdnZXN0aW9uU2hvdyIsInJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uIiwidmFsdWUiLCJuZXdMaXN0Iiwic2V0VmFsdWVJZGVudGljYXRpb24iLCJ2YWx1ZXNMaXN0IiwiZmluZFZhbHVlIiwibGlzdCIsIm5ld3ZhbHVlcyIsInByb2ZpbGVDb250cm9sbGVyIiwic2lnbnVwU2VydmljZSIsInN0YXJ0UHJvZmlsZSIsInNhdmVQaG90byIsIm15aW1hZ2UiLCJ1c2VyUGhvdG8iLCJ1cGxvYWRQaG90byIsInVwbG9hZEluUHJvZ3Jlc3MiLCJ1cGxvYWRQcm9ncmVzcyIsIm15SW1hZ2UiLCJteUNyb3BwZWRJbWFnZSIsImhhbmRsZUZpbGVTZWxlY3QiLCJldnQiLCJmaWxlIiwiY3VycmVudFRhcmdldCIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsIiRhcHBseSIsInRhcmdldCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJxdWVyeVNlbGVjdG9yIiwic2lnbnVwQ29udHJvbGxlciIsIkF1dGhUb2tlbiIsIiRzdGF0ZVBhcmFtcyIsInNhdmVVc2VyIiwidXNlciIsImNyZWF0ZSIsInJlc2N1ZVBhc3N3b3JkIiwidXNlckVtYWlsIiwiY2hhbmdlUGFzc3dvcmQiLCJBUElfUk9VVEVfVVNFUiIsIkFQSV9ST1VURV9SRVNDVUVQQVNTV09SRCIsIm15dG9rZW5VUkwiLCJzZWFyY2giLCJBUElfUk9VVEVfU0VUTkVXUEFTU1dPUkQiLCJteXRva2VuIiwicGFzc3dvcmQiLCJBUElfUk9VVEVfVVBEQVRFUEhPVE8iLCJhcHBDb25maWciLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJuZW9uUmVkTWFwIiwiZXh0ZW5kUGFsZXR0ZSIsIjUwIiwiMTAwIiwiMjAwIiwiMzAwIiwiNDAwIiwiNTAwIiwiNjAwIiwiNzAwIiwiODAwIiwiOTAwIiwiQTEwMCIsIkEyMDAiLCJBNDAwIiwiQTcwMCIsImNvbnRyYXN0RGVmYXVsdENvbG9yIiwiY29udHJhc3REYXJrQ29sb3JzIiwiY29udHJhc3RMaWdodENvbG9ycyIsImRlZmluZVBhbGV0dGUiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiYWNjZW50UGFsZXR0ZSIsIiRxIiwiYXV0aEZhY3RvcnkiLCJsb2dpbiIsInNldFRva2VuIiwidG9rZW4iLCJpc0xvZ2dlZEluIiwiZ2V0VG9rZW4iLCJnZXRVc2VyIiwicmVqZWN0IiwiYXV0aFRva2VuRmFjdG9yeSIsInJlbW92ZUl0ZW0iLCJpbnRlcmNlcHRvckZhY3RvcnkiLCJyZXF1ZXN0IiwiaGVhZGVycyIsIiRkb2N1bWVudCIsImxpbmsiLCJzY29wZSIsImF0dHIiLCJtb3VzZW1vdmUiLCJpZF9kaXYiLCJwYWdlWSIsImNzcyIsIm1vdXNldXAiLCJ1bmJpbmQiLCJwcmV2ZW50RGVmYXVsdCIsImJpbmQiLCJyeCIsImF0dHJzIiwiT2JzZXJ2YWJsZSIsImZyb21FdmVudCIsIm1vdXNlZG93biIsIm1hcCIsImNsaWVudFgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRZIiwibW91c2VkcmFnIiwic2VsZWN0TWFueSIsImltYWdlT2Zmc2V0IiwicG9zIiwidGFrZVVudGlsIiwic3Vic2NyaWJlIiwiY2FsbCIsImxvZ2luQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCJnZXRMb2NhbENvZGUiLCJNYXRoIiwicmFuZG9tIiwiZmxvb3IiLCJkb0xvZ2luIiwiZXJyb3IiLCJsYW5ndWFnZSIsInVzZXJEYXRhIiwibG9nZ2VkSW4iLCIkb24iLCJzb2NrZXQiLCJpbyIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwicmVtb3ZlTGlzdGVuZXIiXSwibWFwcGluZ3MiOiJDQUdBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSxPQUFBLFlBQUEsZUFBQSxjQUFBLG1CQUFBLFlBQUEsVUFBQSxjQUFBLFlBQUEsYUFBQSxZQUFBLFlBQUEsMkJBQ0FDLFFBQUEsZ0JBQUEsU0FBQUMsR0FDQUEsRUFBQUMsYUFBQUMsS0FBQSx5QkNOQSxXQUVBLFlBY0EsU0FBQUMsR0FBQUMsR0FnQkEsUUFBQUMsR0FBQUEsR0FDQUMsS0FBQUMsUUFBQUYsRUFDQUQsRUFBQUksTUFFQUMsV0FBQSxrQkFDQUMsYUFBQSxLQUNBQyxZQUFBLDRCQUNBQyxPQUFBLEtBQ0FDLGlCQUFBLEVBQ0FDLFNBQUEsWUFDQUMsVUFBQSxNQXpCQSxHQUFBQyxJQUNBVCxRQUFBLEdBQ0FGLGFBQUFBLEVBRUEsT0FBQVcsR0FqQkFuQixRQUFBQyxPQUFBLG1CQUNBVyxXQUFBLG1CQUFBLFdBQUEsV0FB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LGFBRUFzQyxFQUFBVSxJQUFBLG9CQUFBLFdBQ0ExYSxFQUFBeWEsU0FBQWxSLEVBQUFtTyxhQUNBbk8sRUFBQXFPLFVBQ0FoSSxLQUFBLFNBQUFuTixHQUNBekMsRUFBQStVLEtBQUF0UyxFQUFBQSxTQTNCQTdELFFBQ0FDLE9BQUEsT0FDQVcsV0FBQSxrQkFBQXVhLEd2QnV1RVFBLEVBQWdCM1osU0FBVyxhQUFjLGFBQWMsU0FBVSxPQUFRLFVBQVcsVUFBVyxld0I3dUV2RyxXQUVBLFlBRUF4QixTQUNBQyxPQUFBLE9BQ0FrQixRQUFBLFVBQ0EsWUFBQSxXQUNBLFNBQUFxTSxFQUFBdEgsR0FFQXpGLEtBQUFzYixPQUFBQyxLQUtBdmIsS0FBQXNGLEdBQUEsU0FBQWtXLEVBQUFDLEdBQ0F6YixLQUFBc2IsUUFDQXRiLEtBQUFzYixPQUFBaFcsR0FBQWtXLEVBQUEsU0FBQXBZLEdBQ0FxQyxFQUFBLFdBQ0FnVyxFQUFBclksUUFNQXBELEtBQUFzRSxLQUFBLFNBQUFrWCxFQUFBcFksR0FDQXBELEtBQUFzYixRQUNBdGIsS0FBQXNiLE9BQUFoWCxLQUFBa1gsRUFBQXBZLElBSUFwRCxLQUFBMGIsZUFBQSxTQUFBRixHQUNBeGIsS0FBQXNiLFFBQ0F0YixLQUFBc2IsT0FBQUksZUFBQUYiLCJmaWxlIjoiYXBwLmRzYy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnLFsnbmdJbWdDcm9wJywndG9hc3RTZXJ2aWNlJywndGV4dEFuZ3VsYXInLCdsdWVnZy5kaXJlY3RpdmVzJywgJ2FwcFJ4RHJhZycsICdEcm9wRFNDJywnYXV0aFNlcnZpY2UnLCd1aS5yb3V0ZXInLCduZ01hdGVyaWFsJywnbmdNZEljb25zJywnbmdDb29raWVzJywncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxyXG4gICAgICAgIC5jb25maWcoZnVuY3Rpb24oJGh0dHBQcm92aWRlcikge1xyXG4gICAgICAgICAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoSW50ZXJjZXB0b3InKTtcclxuICAgICAgICB9KVxyXG5cclxufSkoKTtcclxuXHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI3LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ3RvYXN0U2VydmljZScsW10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3RvYXN0Q29udHJvbGxlcicsIGZ1bmN0aW9uKCRtZFRvYXN0LHRvYXN0QXBwKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlID0gIHRvYXN0QXBwLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHNlbGYuY2xvc2VUb2FzdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJG1kVG9hc3QuaGlkZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZhY3RvcnkoICd0b2FzdEFwcCcsIHRvYXN0QXBwICk7XHJcblxyXG4gICAgdG9hc3RBcHAuJGluamVjdCA9IFsgJyRtZFRvYXN0JyBdO1xyXG5cclxuICAgIGZ1bmN0aW9uIHRvYXN0QXBwICgkbWRUb2FzdCkge1xyXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xyXG4gICAgICAgICAgICBtZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2VcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xyXG5cclxuICAgICAgICAvKmZ1bmN0aW9uIGVycm9yTWVzc2FnZShlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAgICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAgICAgICAudGV4dENvbnRlbnQoZXJyb3JNZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgICAgICAgLmhpZGVEZWxheSg4MDApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSovXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVycm9yTWVzc2FnZShlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd0b2FzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2RzY3RvYXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJPS1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodEFjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJ0b3AgcmlnaHRcIixcclxuICAgICAgICAgICAgICAgICAgICBoaWRlRGVsYXk6IDUwMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbmZpZyhyb3V0ZXMpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJvdXRlcygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcblxyXG5cclxuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnaW5pdCcsIHtcclxuICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvaW5pdHBhZ2UuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LmxvZ2luJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnbG9naW4nLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10YWInOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvdXNlcmxvZ2luLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbG9naW5Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LnNpZ251cCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3NpZ251cCcsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9zaWdudXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LnJlc2N1ZXBhc3N3b3JkJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAncmVzY3VlcGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10YWInOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcmVzY3VlcGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdzdGFydHByb2JsZW0nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvc3RhcnRwcm9ibGVtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc3RhcnRwcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YXJ0UHJvYmxlbUNvbnRyb2xsZXIgYXMgdm0nXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2ZpbGUnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvcHJvZmlsZScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Byb2ZpbGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvZmlsZUNvbnRyb2xsZXIgYXMgdm0nXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2RzY3JlcG9ydCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9kc2NyZXBvcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Byb2JsZW1yZXBvcnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9ibGVtUmVwb3J0Q29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCduZXdwYXNzd29yZCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9uZXdwYXNzd29yZC86bXl0b2tlbicsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL25ld3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cENvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbScsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9wcm9ibGVtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvYmxlbS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtZW51UHJvYmxlbUNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5kZXNjcmlwdGlvbicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9kZXNjcmlwdGlvbicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdwcm9ibGVtLWRlc2NyaXB0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Byb2JsZW1kZXNjcmlwdGlvbi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2VkaXRQcm9ibGVtQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5jb2xsYWJvcmF0b3JzJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2NvbGxhYm9yYXRvcnMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAncHJvYmxlbS1kZXNjcmlwdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9jb2xsYWJvcmF0b3JzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY29udHJvbGxlckNvbGxhYm9yYXRvcnMgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0uc3Rha2Vob2xkZXJzJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3N0YWtlaG9sZGVycycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc3Rha2Vob2xkZXJzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc3Rha2Vob2xkZXJDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmV2YWx1YXRpb25mcmFtZXdvcmsnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvZXZhbHVhdGlvbmZyYW1ld29yaycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvZXZhbHVhdGlvbmZyYW1ld29yay5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5zZW1pb3RpY2ZyYW1ld29yaycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9zZW1pb3RpY2ZyYW1ld29yaycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc2VtaW90aWNmcmFtZXdvcmsuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0uY2FyZicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9jYXJmJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2RzYy1hcnRpZmFjdCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9jYXJmLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY2FyZkNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0udmlmJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3ZpZicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvdmlmLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5vbmlvbicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9vbmlvbicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvb25pb24uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdvbmlvbkNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvbG9naW4nKTtcclxuXHJcbiAgICB9XHJcblxyXG59KSgpO1xyXG4iLG51bGwsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTkvMDYvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGluaXRMYW5ndWFnZSlcclxuICAgIC5jb250cm9sbGVyKCdsYW5ndWFnZUNvbnRyb2xsZXInLGxhbmd1YWdlQ29udHJvbGxlcilcclxuICAgIC5kaXJlY3RpdmUoJ2NoYW5nZUxhbmd1YWdlJyxjaGFuZ2VMYW5ndWFnZSk7XHJcblxyXG5pbml0TGFuZ3VhZ2UuJGluamVjdCA9IFsnJHRyYW5zbGF0ZVByb3ZpZGVyJ107XHJcbmxhbmd1YWdlQ29udHJvbGxlci4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJ107XHJcblxyXG5mdW5jdGlvbiBpbml0TGFuZ3VhZ2UgKCR0cmFuc2xhdGVQcm92aWRlcikge1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VTdGF0aWNGaWxlc0xvYWRlcih7XHJcbiAgICAgICAgICAgIHByZWZpeDogJ2FwcC9sYW5ndWFnZS9sYW5nLScsXHJcbiAgICAgICAgICAgIHN1ZmZpeDogJy5qc29uJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCdlc2NhcGVkJyk7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZUxvY2FsU3RvcmFnZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsYW5ndWFnZUNvbnRyb2xsZXIgKCR0cmFuc2xhdGUpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuc2V0TGFuZyA9IHNldExhbmc7XHJcbiAgICBmdW5jdGlvbiBzZXRMYW5nKGxhbmdLZXkpIHtcclxuICAgICAgICAgICAgJHRyYW5zbGF0ZS51c2UobGFuZ0tleSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUxhbmd1YWdlKCl7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRlbXBsYXRlVXJsIDogXCJhcHAvbGFuZ3VhZ2UvY2hhbmdlTGFuZ3VhZ2UuaHRtbFwiLFxyXG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIlxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTQvMDcvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKFwiY2FyZkNvbnRyb2xsZXJcIixjYXJmQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gY2FyZkNvbnRyb2xsZXIoJHdpbmRvdyxTb2NrZXQscHJvYmxlbVNlcnZpY2UsdG9hc3RBcHApe1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5pZFByb2JsZW0gPSBcIlwiO1xyXG4gICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLnZhbHVlTGlzdCA9IFtdO1xyXG4gICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5sb2NhbFN0YWtlaG9sZGVycyA9IFtdO1xyXG4gICAgICAgIHNlbGYuYWRkcG1zdmFsdWUgPSBhZGRwbXN2YWx1ZTtcclxuICAgICAgICBzZWxmLnJlbW92ZUNBUkYgPSByZW1vdmVDQVJGO1xyXG4gICAgICAgIHNlbGYuc2VsZWN0UE1TVmFsdWUgPSBzZWxlY3RQTVNWYWx1ZTtcclxuICAgICAgICBzZWxmLnNldFByaW90aXR5ID0gc2V0UHJpb3RpdHk7XHJcbiAgICAgICAgc2VsZi5hZGRMaXN0VmFsdWUgPSBhZGRMaXN0VmFsdWU7XHJcbiAgICAgICAgc2VsZi5hZGRTdGFrZWhvbGRlciA9IGFkZFN0YWtlaG9sZGVyO1xyXG4gICAgICAgIHNlbGYuY2FyZiA9IHtcclxuICAgICAgICAgICAgcG1zOiBcIlwiLFxyXG4gICAgICAgICAgICB2YWx1ZXM6IFtdLFxyXG4gICAgICAgICAgICBwcmlvcml0eTogXCJcIixcclxuICAgICAgICAgICAgcmVxdWlyZW1lbnQ6IFwiXCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICBzZWxmLmluaXRDYXJmID0gaW5pdENhcmY7XHJcbiAgICAgICAgc2VsZi5jYXJmTGlzdCA9IFtdO1xyXG4gICAgICAgIHNlbGYuY2FyZlByaW9yaXR5TGlzdCA9IFtdO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0Q2FyZigpe1xyXG4gICAgICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRjYXJmKHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzID0gZGF0YS5zdGFrZWhvbGRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gc2VsZi5sb2NhbFN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmTGlzdCA9IGRhdGEuY2FyZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmUHJpb3JpdHlMaXN0ID0gc2VsZi5sb2NhbFByaW9yaXR5TGlzdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0Q2FyZigpe1xyXG4gICAgICAgICAgICBzZWxmLmNhcmYgPSB7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBwbXM6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlbWVudDogXCJcIixcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc2VsZi52YWx1ZUxpc3QgPSBbXTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0Q0FSRmFkZCcsIGZ1bmN0aW9uIChjYXJmKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZkxpc3QucHVzaChjYXJmKTtcclxuICAgICAgICAgICAgcmVzZXRDYXJmKCk7XHJcbiAgICAgICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gc2VsZi5sb2NhbFN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgc2VsZi5jYXJmUHJpb3JpdHlMaXN0ID0gc2VsZi5sb2NhbFByaW9yaXR5TGlzdDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkcG1zdmFsdWUoY2FyZil7XHJcblxyXG4gICAgICAgICAgICBpZihjYXJmLnBtcyA9PT0gXCJcIil7XHJcbiAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZWxlY3QgUE1TXCIpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGlmKGNhcmYudmFsdWVzLmxlbmd0aCA8IDEgKXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZWxlY3Qgb25lIG9yIG1vcmUgVmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpZihjYXJmLnN0YWtlaG9sZGVycy5sZW5ndGggPCAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IG9uZSBvciBtb3JlIFN0YWtlaG9sZGVyKHMpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjYXJmLnByaW9yaXR5ID09PSBcIlwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBwcmlvcml0eSBbTG93LCBNZWRpdW0gb3IgSGlnaF1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENBUkZhZGQnLCBjYXJmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RDQVJGcmVtb3ZlJywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZkxpc3Quc3BsaWNlKGlkLDEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVDQVJGKGluZGV4LGNhcmYpe1xyXG4gICAgICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgY2FyZjogY2FyZlxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0Q0FSRnJlbW92ZScsIG9iaik7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VsZWN0UE1TVmFsdWUocG1zKXtcclxuICAgICAgICAgICAgaWYocG1zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLmNhcmZQTVNWYWx1ZSwgZnVuY3Rpb24gKHBtc192YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbXNfdmFsdWUucG1zID09IHBtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmYudmFsdWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudmFsdWVMaXN0ID0gcG1zX3ZhbHVlLnZhbHVlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRQcmlvdGl0eShwcmlvcml0eSl7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZi5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkTGlzdFZhbHVlKG5ld3ZhbHVlKXtcclxuICAgICAgICAgICBpZihzZWxmLmNhcmYudmFsdWVzLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNhcmYudmFsdWVzLnB1c2gobmV3dmFsdWUpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5jYXJmLnZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgaWYgKG5ld3ZhbHVlID09IHNlbGYuY2FyZi52YWx1ZXNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmYudmFsdWVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgc2VsZi5jYXJmLnZhbHVlcy5wdXNoKG5ld3ZhbHVlKTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRTdGFrZWhvbGRlcihuZXdTdGFrZWhvbGRlcil7XHJcbiAgICAgICAgICAgIGlmKHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMucHVzaChuZXdTdGFrZWhvbGRlcik7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihuZXdTdGFrZWhvbGRlciA9PSBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzW2ldKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMucHVzaChuZXdTdGFrZWhvbGRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYubG9jYWxQcmlvcml0eUxpc3QgPSBbJ0xvdycsICdNZWRpdW0nLCdIaWdoJ107XHJcblxyXG4gICAgICAgIHNlbGYuY2FyZlBNU1ZhbHVlID0gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiSW50ZXJhY3Rpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSWRlbnRpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJOb3Jtc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkFzc29jaWF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnZlcnNhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkdyb3Vwc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlJlbGF0aW9uc2hpcFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlRydXN0XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiTGVhcm5pbmdcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTWV0YS1jb21tdW5pY2F0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiUGxheVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBZXN0aGV0aWNzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRW1vdGlvbiBhbmQgQWZmZWN0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiUHJvdGVjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJbmZvcm1lZCBjb25zZXJ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVwdXRhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNlY3VyaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiRXhwbG9pdGF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkFjY2Vzc2liaWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJPYmplY3RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQcm9wZXJ0eSAob3duZXJzaGlwKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlVzYWJpbGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlRlcG9yYWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQXZhaWxhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQXdhcmVuZXNzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJlc2VuY2VcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJUZXJyaXRvcmlhbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQb3J0YWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlByaXZhY3lcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTY2FsYWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlZpc2liaWxpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJDbGFzc2lmaWNhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBdXRvbm9teVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbGxhYm9yYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTaGFyaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQWRhcHRhYmlsaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiU3Vic2lzdGVuY2VcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVjaXByb2NpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxNS8wNy8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdjaGF0RFNDJyxjaGF0RFNDKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjaGF0RFNDKCR0aW1lb3V0LCBTb2NrZXQsIHByb2JsZW1TZXJ2aWNlLCAkd2luZG93KSB7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLm5ld21zZyA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcyA9IFtdO1xyXG4gICAgICAgIHNlbGYucmVwbGF5ID0gZmFsc2U7XHJcbiAgICAgICAgc2VsZi5uaWNrbmFtZSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi51c2VyTGlzdCA9IFtdO1xyXG4gICAgICAgIHNlbGYuaW5pdEhpc3RvcnlDaGF0ID0gaW5pdEhpc3RvcnlDaGF0O1xyXG4gICAgICAgIHNlbGYuc2hvd1JlcGxheSA9IHNob3dSZXBsYXk7XHJcbiAgICAgICAgc2VsZi5zZW5kTWVzc2FnZSA9IHNlbmRNZXNzYWdlO1xyXG4gICAgICAgIHNlbGYucGhvdG8gPSBcIlwiO1xyXG4gICAgICAgIHNlbGYub3BlbkNoYXQgPSBvcGVuQ2hhdDtcclxuICAgICAgICBzZWxmLmlzT3BlbkNoYXQgPSBmYWxzZTtcclxuICAgICAgICBzZWxmLmtleXByZXNzQ2hhdCA9IGtleXByZXNzQ2hhdDtcclxuICAgICAgICBzZWxmLmNvbnRhZG9yID0gMDtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb3BlbkNoYXQoKXtcclxuICAgICAgICAgICAgc2VsZi5pc09wZW5DaGF0ID0gIXNlbGYuaXNPcGVuQ2hhdDtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UnKS5mb2N1cygpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0SGlzdG9yeUNoYXQoKXtcclxuICAgICAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIHNlbGYucGhvdG8gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG90bycpO1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRoaXN0b3J5Y2hhdChzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmhpc3RvcnljaGF0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gbmV3IERhdGUoZGF0YS5oaXN0b3J5Y2hhdFtpXS50aW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtc24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmlja25hbWU6IGRhdGEuaGlzdG9yeWNoYXRbaV0ubmlja25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBkYXRhLmhpc3RvcnljaGF0W2ldLm1zZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxICkrIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWVzc2FnZXMucHVzaChtc24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdjaGVja1VzZXJzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzaG93UmVwbGF5KCl7XHJcbiAgICAgICAgICAgIGlmKHNlbGYucmVwbGF5KXtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVwbGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgc2VsZi5yZXBsYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0Q2hhdCcsIGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBEYXRlKG9ialtvYmoubGVuZ3RoIC0xXS50aW1lKTtcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBvYmpbb2JqLmxlbmd0aCAtMV0ubmlja25hbWUsXHJcbiAgICAgICAgICAgICAgICBtc2c6IG9ialtvYmoubGVuZ3RoIC0xXS5tc2csXHJcbiAgICAgICAgICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxKSArIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkNoZWNrVXNlcnMnLCBmdW5jdGlvbiAodXNlckxpc3QpIHtcclxuICAgICAgICAgICAgc2VsZi51c2VyTGlzdCA9IHVzZXJMaXN0O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZW5kTWVzc2FnZShjaGF0bXNnKXtcclxuICAgICAgICAgICAgaWYoY2hhdG1zZyA9PT0gdW5kZWZpbmVkIHx8IGNoYXRtc2cubGVuZ3RoIDwgMiApe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDaGF0JywgY2hhdG1zZyk7XHJcbiAgICAgICAgICAgIHNlbGYubmV3bXNnID0gXCJcIjtcclxuICAgICAgICAgICAgc2VsZi5jb250YWRvciA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB6ZXJhckNvbnRhZG9yKCl7XHJcbiAgICAgICAgICAgIHNlbGYuY29udGFkb3IgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24ga2V5cHJlc3NDaGF0KGV2ZW50LGNoYXRtc2cpe1xyXG4gICAgICAgICAgICBpZihldmVudC5rZXlDb2RlID09IDEzKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuY29udGFkb3IrKztcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNvbnRhZG9yID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dCh6ZXJhckNvbnRhZG9yLCAyMDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHNlbGYuY29udGFkb3IgPiAxKXtcclxuICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZShjaGF0bXNnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8qXHJcbnZhciBzZWxmID0gdGhpcztcclxuc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG5zZWxmLm1lc3NhZ2VzID0gW107XHJcbnNlbGYucmVwbGF5ID0gZmFsc2U7XHJcbnNlbGYubmlja25hbWUgPSBcIlwiO1xyXG5zZWxmLnVzZXJMaXN0ID0gW107XHJcbnNlbGYuaW5pdEhpc3RvcnlDaGF0ID0gaW5pdEhpc3RvcnlDaGF0O1xyXG5zZWxmLmNsb3NlID0gY2xvc2U7XHJcbnNlbGYuc2hvd1JlcGxheSA9IHNob3dSZXBsYXk7XHJcbnNlbGYuc2VuZE1lc3NhZ2UgPSBzZW5kTWVzc2FnZTtcclxuXHJcbmZ1bmN0aW9uIGNsb3NlKCkge1xyXG4gICAgJG1kU2lkZW5hdignY2hhdCcpLmNsb3NlKClcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRsb2cuZGVidWcoXCJjbG9zZSBjaGF0XCIpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0SGlzdG9yeUNoYXQoKXtcclxuICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgIHNlbGYucGhvdG8gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG90bycpO1xyXG4gICAgcHJvYmxlbVNlcnZpY2UuZ2V0aGlzdG9yeWNoYXQoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5oaXN0b3J5Y2hhdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShkYXRhLmhpc3RvcnljaGF0W2ldLnRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtc24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBkYXRhLmhpc3RvcnljaGF0W2ldLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGRhdGEuaGlzdG9yeWNoYXRbaV0ubXNnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxICkrIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKG1zbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIFNvY2tldC5lbWl0KCdjaGVja1VzZXJzJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dSZXBsYXkoKXtcclxuICAgIGlmKHNlbGYucmVwbGF5KXtcclxuICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgc2VsZi5yZXBsYXkgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5Tb2NrZXQub24oJ29uQnJvYWRjYXN0Q2hhdCcsIGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHZhciB0bXAgPSBuZXcgRGF0ZShvYmpbb2JqLmxlbmd0aCAtMV0udGltZSk7XHJcbiAgICBzZWxmLm1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgIG5pY2tuYW1lOiBvYmpbb2JqLmxlbmd0aCAtMV0ubmlja25hbWUsXHJcbiAgICAgICAgbXNnOiBvYmpbb2JqLmxlbmd0aCAtMV0ubXNnLFxyXG4gICAgICAgIHRpbWU6IHRtcC5nZXREYXRlKCkgKyBcIi9cIiArICh0bXAuZ2V0TW9udGgoKSArIDEpICsgXCIvXCIgKyB0bXAuZ2V0RnVsbFllYXIoKSArIFwiIFtcIiArIHRtcC5nZXRIb3VycygpICsgXCI6XCIgKyB0bXAuZ2V0TWludXRlcygpICsgXCJdIFwiXHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5Tb2NrZXQub24oJ29uQ2hlY2tVc2VycycsIGZ1bmN0aW9uICh1c2VyTGlzdCkge1xyXG4gICAgc2VsZi51c2VyTGlzdCA9IHVzZXJMaXN0O1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHNlbmRNZXNzYWdlKGNoYXRtc2cpe1xyXG4gICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENoYXQnLCBjaGF0bXNnKTtcclxuICAgIHNlbGYubmV3bXNnID0gXCJcIjtcclxufSovXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTAvMDcvMjAxNS5cclxuICovXHJcblxyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbnRyb2xsZXJDb2xsYWJvcmF0b3JzJywgY29udHJvbGxlckNvbGxhYm9yYXRvcnMpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXJDb2xsYWJvcmF0b3JzKCR3aW5kb3csU29ja2V0LHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwKXtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuaWRQcm9ibGVtID0gXCJcIjtcclxuICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnMgPSBbXTtcclxuICAgICAgICBzZWxmLnVzZXJlbWFpbCA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5pbml0Q29sbGFib3JhdG9ycyA9IGluaXRDb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgIHNlbGYuYWRkQ29sbGFib3JhdG9yID0gYWRkQ29sbGFib3JhdG9yO1xyXG4gICAgICAgIHNlbGYucmVtb3ZlQ29sbGFib3JhdG9yID0gcmVtb3ZlQ29sbGFib3JhdG9yO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0Q29sbGFib3JhdG9ycygpe1xyXG4gICAgICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJlbWFpbCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJlbWFpbCcpO1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRjb2xsYWJvcmF0b3JzKHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnMgPSBkYXRhLmNvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vU29ja2V0LmVtaXQoJ2NoZWNrVXNlcnMnKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZWFyY2hDYWxsYWJvcmF0aW9uKGVtYWlsKXtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHNlbGYuY29sbGFib3JhdG9ycy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZihlbWFpbCA9PSBzZWxmLmNvbGxhYm9yYXRvcnNbaV0uZW1haWwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZENvbGxhYm9yYXRvcihlbWFpbCl7XHJcbiAgICAgICAgICAgIGlmKHNlbGYudXNlcmVtYWlsID09IGVtYWlsKXtcclxuICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShzZWxmLnVzZXJlbWFpbCArIFwiIGlzIGVtYWlsIG9mIG93bmVyLlwiKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaENhbGxhYm9yYXRpb24oZW1haWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiVXN1YXJpbyBDYWRhc3RyYWRvLlwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludml0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWRwcm9ibGVtOiBzZWxmLmlkUHJvYmxlbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5pbnZpdGUoaW52aXRlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29sbGFib3JhdG9ycyA9IGRhdGEuY29sbGFib3JhdG9ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVDb2xsYWJvcmF0b3IocGVvcGxlKXtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgIGlkcHJvYmxlbTogc2VsZi5pZFByb2JsZW0sXHJcbiAgICAgICAgICAgICAgICBlbWFpbDogcGVvcGxlLmVtYWlsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UucmVtb3ZlY29sbGFib3JhdG9ycyhvYmopXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkNvbGFib3JhZG9yIGZvaSByZW1vdmlkbyBkbyBwcm9qZXRvLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb2xsYWJvcmF0b3JzID0gZGF0YS5jb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qU29ja2V0Lm9uKCdvbkNoZWNrVXNlcnMnLCBmdW5jdGlvbiAodXNlckxpc3QpIHtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCB1c2VyTGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyTGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgc2VsZi5jb2xsYWJvcmF0b3JzLmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyTGlzdFtpXSArICcgICAnICsgc2VsZi5jb2xsYWJvcmF0b3JzW2pdLm5pY2tuYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHVzZXJMaXN0W2ldID09PSBzZWxmLmNvbGxhYm9yYXRvcnNbal0ubmlja25hbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnNbal0ubmlja25hbWUgPSBzZWxmLmNvbGxhYm9yYXRvcnNbal0ubmlja25hbWUgKyAnIChvbmxpbmUpICc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pOyovXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyMi8wNy8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignZHNjUmVwb3J0Q29udHJvbGxlcicsZHNjUmVwb3J0Q29udHJvbGxlcik7XHJcblxyXG5mdW5jdGlvbiBkc2NSZXBvcnRDb250cm9sbGVyKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaWRwcm9ibGVtID0gJ2FqZmxhamZsamFsZmphbGpmJztcclxuICAgIHNlbGYuYnVpZFJlcG9ydCA9IGJ1aWRSZXBvcnQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYnVpZFJlcG9ydChlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGh0bWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFJlc3BvcnQnKTtcclxuICAgICAgICB2YXIgcGRmID0gbmV3IGpzUERGKCdsJywncHgnKTtcclxuICAgICAgICBwZGYuYWRkSFRNTChcclxuICAgICAgICAgICAgaHRtbCwgMCwgMCwge1xyXG4gICAgICAgICAgICAgICAgcGFnZXNwbGl0OiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGRpc3Bvc2Upe1xyXG4gICAgICAgICAgICAgICAgcGRmLnNhdmUoJ3Rlc3QucGRmJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2V2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyJyxldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlcik7XHJcblxyXG4gIGZ1bmN0aW9uIGV2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyICgkd2luZG93LHByb2JsZW1TZXJ2aWNlLFNvY2tldCx0b2FzdEFwcCl7XHJcblxyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHNlbGYuZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QgPVtdO1xyXG4gICAgICBzZWxmLmluaXRFdmFsdWF0aW9uID0gaW5pdEV2YWx1YXRpb247XHJcbiAgICAgIHNlbGYuc2V0T3BlbkVkaXREaXNjdXRpb24gPSBzZXRPcGVuRWRpdERpc2N1dGlvbjtcclxuICAgICAgc2VsZi5zYXZlRnJhbWUgPSBzYXZlRnJhbWU7XHJcblxyXG4gICAgICBmdW5jdGlvbiBpbml0RXZhbHVhdGlvbigpe1xyXG4gICAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0ZXZhbHVhdGlvbihzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi5ldmFsdWF0aW9uZnJhbWV3b3JrTGlzdCA9IGRhdGEuZXZhbHVhdGlvbmZyYW1ld29yaztcclxuICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0RnJhbWVFZGl0JywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLmV2YWx1YXRpb25mcmFtZXdvcmtMaXN0LGZ1bmN0aW9uKGV2YWx1YXRpb25mcmFtZXdvcmspe1xyXG4gICAgICAgICAgICAgaWYoIGV2YWx1YXRpb25mcmFtZXdvcmsub25pb25sYXllciA9PSBkYXRhLm9uaW9ubGF5ZXIpe1xyXG4gICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChldmFsdWF0aW9uZnJhbWV3b3JrLnN0YWtlaG9sZGVycyxmdW5jdGlvbihzdGFrZWhvbGRlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFrZWhvbGRlci5faWQgPT0gZGF0YS5faWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIubmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9uaW9ubGF5ZXIgPSBkYXRhLm9uaW9ubGF5ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGRhdGEub3BlbkVkaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5wcm9ibGVtcyA9IGRhdGEucHJvYmxlbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5zb2x1dGlvbnMgPSBkYXRhLnNvbHV0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gc2F2ZUZyYW1lKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0RnJhbWVTYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBTb2NrZXQub24oJ29uVXBkYXRlU3Rha2Vob2xkZXInLCBmdW5jdGlvbiAoc3Rha2Vob2xkZXJPbmlvbikge1xyXG5cclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gc2V0T3BlbkVkaXREaXNjdXRpb24oY3VycmVudFN0YWtlaG9sZGVyKXtcclxuICAgICAgICAgIGN1cnJlbnRTdGFrZWhvbGRlci5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignbWVudVByb2JsZW1Db250cm9sbGVyJywgbWVudVByb2JsZW1hQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gbWVudVByb2JsZW1hQ29udHJvbGxlcihBdXRoLCAkZmlsdGVyLCAkc3RhdGUsICR3aW5kb3csIHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwLCBTb2NrZXQpe1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgLy9zZWxmLm9wZW5DaGF0ID0gYnVpbGRUb2dnbGVyKCdjaGF0Jyk7XHJcbiAgICAgICAgc2VsZi5mb3JtQWRkQ29sbGFib3JhdG9ycyA9IGZvcm1BZGRDb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgIHNlbGYuZWRpdERlc2NyaXB0aW9uUHJvYmxlbSA9IGVkaXREZXNjcmlwdGlvblByb2JsZW07XHJcbiAgICAgICAgc2VsZi5kb0xvZ291dCA9IGRvTG9nb3V0O1xyXG4gICAgICAgIHNlbGYuc3lzdGVtUmV0dXJuID0gc3lzdGVtUmV0dXJuO1xyXG4gICAgICAgIHNlbGYuZm9ybVByb2JsZW1SZXBvcnQgPSBmb3JtUHJvYmxlbVJlcG9ydDtcclxuICAgICAgICBzZWxmLmdldEN1cnJlbnRQcm9ibGVtID0gZ2V0Q3VycmVudFByb2JsZW07XHJcbiAgICAgICAgc2VsZi5uaWNrbmFtZTtcclxuICAgICAgICBzZWxmLmRzY19hcnRpZmFjdHMgPSBbXTtcclxuXHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRDdXJyZW50UHJvYmxlbSgpe1xyXG4gICAgICAgICAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgICAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbShzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtID0gZGF0YS5wcm9ibGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YS5wcm9ibGVtLmFydGlmYWN0cywgZnVuY3Rpb24gKGFydGlmYWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGFydGlmYWN0LnNwbGl0KFwiX1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZHNjX2FydGlmYWN0cy5wdXNoKHtuYW1lOiBcInByb2JsZW0uXCIgKyBuYW1lWzJdLnRvTG93ZXJDYXNlKCksIGxhYmVsOiAkZmlsdGVyKCd0cmFuc2xhdGUnKShhcnRpZmFjdCl9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VsZi5kc2NfYXJ0aWZhY3RzID0gZHNjX2FydGlmYWN0cztcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN5c3RlbVJldHVybigpe1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3N0YXJ0cHJvYmxlbScpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZvcm1BZGRDb2xsYWJvcmF0b3JzKCl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5jb2xsYWJvcmF0b3JzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmb3JtUHJvYmxlbVJlcG9ydCgpe1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2RzY3JlcG9ydCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZWRpdERlc2NyaXB0aW9uUHJvYmxlbSgpIHtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLmRlc2NyaXB0aW9uJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkb0xvZ291dCgpIHtcclxuICAgICAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0LmxvZ2luJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBqZXN1cyBvbiAyMS8wMy8yMDE2LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ29uaW9uQ29udHJvbGxlcicsb25pb25Db250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBvbmlvbkNvbnRyb2xsZXIoU29ja2V0LCR3aW5kb3cscHJvYmxlbVNlcnZpY2UsJG1kRGlhbG9nLHRvYXN0QXBwKXtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5pZHByb2JsZW0gPSBcIlwiO1xyXG4gICAgICAgIHNlbGYuaW50aU15dE9uaW9uID0gaW50aU15dE9uaW9uO1xyXG4gICAgICAgIHNlbGYuc2F2ZVBvc3RJdE9uaW9uID0gc2F2ZVBvc3RJdE9uaW9uO1xyXG4gICAgICAgIHNlbGYuZWRpdFBvc3RJdE9uaW9uID0gZWRpdFBvc3RJdE9uaW9uO1xyXG4gICAgICAgIHNlbGYuZGVsUG9zdEl0T25pb24gPSBkZWxQb3N0SXRPbmlvbjtcclxuICAgICAgICBzZWxmLmFkZFBvc3RJdE9uaW9uID0gYWRkUG9zdEl0T25pb247XHJcbiAgICAgICAgc2VsZi5vbk9uaW9uID0gb25PbmlvbjtcclxuICAgICAgICBzZWxmLm9mZk9uaW9uID0gb2ZmT25pb247XHJcblxyXG5cclxuICAgICAgICBcclxuXHJcblxyXG5cclxuICAgIH1cclxufSkoKTsiLCIoZnVuY3Rpb24oKXtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2VkaXRQcm9ibGVtQ29udHJvbGxlcicsZWRpdFByb2JsZW1hQ29udHJvbGxlcik7XHJcblxyXG4gICAgZWRpdFByb2JsZW1hQ29udHJvbGxlci4kaW5qZWN0cmUgPSBbJyRzY29wZScsJ1NvY2tldCddO1xyXG5cclxuZnVuY3Rpb24gZWRpdFByb2JsZW1hQ29udHJvbGxlcihTb2NrZXQsICR0aW1lb3V0LHRvYXN0QXBwLCR3aW5kb3cscHJvYmxlbVNlcnZpY2UpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgdXBkYXRlVHJ1ZSA9IHRydWU7XHJcbiAgICBzZWxmLnByb2JsZW0gPSAnJztcclxuICAgIHNlbGYucHJvYmxlbVVwZGF0ZSA9IHByb2JsZW1VcGRhdGU7XHJcbiAgICBzZWxmLmdldEN1cnJlbnRQcm9ibGVtID0gZ2V0Q3VycmVudFByb2JsZW07XHJcbiAgICBzZWxmLnNhdmVEZXNjcmlwdGlvbiA9IHNhdmVEZXNjcmlwdGlvbjtcclxuICAgIHNlbGYubmlja25hbWUgPSAnJztcclxuICAgIHNlbGYubG9jYWxjb2RlID0gJyc7XHJcblxyXG5cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudFByb2JsZW0oKXtcclxuICAgICAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHNlbGYubG9jYWxjb2RlID0gICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsY29kZScpO1xyXG5cclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRwcm9ibGVtKHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW0gPSBkYXRhLnByb2JsZW07XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRVcGRhdGUoKXtcclxuICAgICAgICB1cGRhdGVUcnVlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQXR1YWxpemFyUHJvYmxlbWEnLCBmdW5jdGlvbiAocmV0b3Jubykge1xyXG4gICAgICAgIGlmKHNlbGYubG9jYWxjb2RlICE9PSByZXRvcm5vLmxvY2FsY29kZSkge1xyXG4gICAgICAgICAgICBzZWxmLnByb2JsZW0uZGVzY3JpcHRpb24gPSByZXRvcm5vLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLnByb2JsZW0udXBkYXRlID0gdXBkYXRlVHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHByb2JsZW1VcGRhdGUocHJvYmxlbSkge1xyXG4gICAgICAgIHByb2JsZW0udXBkYXRlID0gdXBkYXRlVHJ1ZTtcclxuICAgICAgICBwcm9ibGVtLmxvY2FsY29kZSA9IHNlbGYubG9jYWxjb2RlO1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdhdHVhbGl6YXJQcm9ibGVtYScsIHByb2JsZW0pO1xyXG4gICAgICAgIGlmICh1cGRhdGVUcnVlKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRydWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHRpbWVvdXQoc2V0VXBkYXRlLCAyMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZURlc2NyaXB0aW9uKHByb2JsZW0pIHtcclxuICAgICAgICBwcm9ibGVtLmxvY2FsY29kZSA9IHNlbGYubG9jYWxjb2RlO1xyXG4gICAgICAgIHByb2JsZW0udXBkYXRlID0gdXBkYXRlVHJ1ZTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYXR1YWxpemFyUHJvYmxlbWEnLCBwcm9ibGVtKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbn1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxMi8wOC8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcigncHJvYmxlbVJlcG9ydENvbnRyb2xsZXInLHByb2JsZW1SZXBvcnRDb250cm9sbGVyKTtcclxuXHJcblxyXG4gICAgIGZ1bmN0aW9uIHByb2JsZW1SZXBvcnRDb250cm9sbGVyKCR3aW5kb3cscHJvYmxlbVNlcnZpY2UsdG9hc3RBcHAsJHN0YXRlKXtcclxuXHJcbiAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgc2VsZi5pZFByb2JsZW07XHJcbiAgICAgICAgIHNlbGYucHJvYmxlbTtcclxuICAgICAgICAgc2VsZi5pbml0UHJvYmxlbVBlcG9ydCA9IGluaXRQcm9ibGVtUGVwb3J0O1xyXG4gICAgICAgICBzZWxmLnN5c3RlbVJldHVybiA9IHN5c3RlbVJldHVybjtcclxuXHJcbiAgICAgICAgIGZ1bmN0aW9uIGluaXRQcm9ibGVtUGVwb3J0KCl7XHJcblxyXG4gICAgICAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuXHJcbiAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRwcm9ibGVtcmVwb3J0KHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YS5wcm9ibGVtLnN0YWtlaG9sZGVycywgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci54ID0gKHBhcnNlSW50KHN0YWtlaG9sZGVyLnguc3Vic3RyaW5nKDAsc3Rha2Vob2xkZXIueC5sZW5ndGggLTIpKSAtIDEwMCkrJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueSA9ICAocGFyc2VJbnQoc3Rha2Vob2xkZXIueS5zdWJzdHJpbmcoMCxzdGFrZWhvbGRlci55Lmxlbmd0aCAtMikpICsgNDAwKSsncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtID0gZGF0YS5wcm9ibGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICBmdW5jdGlvbiBzeXN0ZW1SZXR1cm4oKXtcclxuICAgICAgICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5zdGFrZWhvbGRlcnMnKTtcclxuICAgICAgICAgfVxyXG5cclxuICAgICB9XHJcblxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ3Byb2JsZW1TZXJ2aWNlJywgcHJvYmxlbVNlcnZpY2UpO1xyXG5cclxuICBwcm9ibGVtU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsJyRsb2NhdGlvbiddO1xyXG5cclxuICBmdW5jdGlvbiBwcm9ibGVtU2VydmljZSgkaHR0cCwkbG9jYXRpb24pIHtcclxuXHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNUyA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbXMnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVNDT0xMQUJPUkFUT1IgPSAnL2FwaS9wcm9ibGVtL2dldHByb2JsZW1zY29sbGFib3JhdG9yJztcclxuICAgIHZhciBBUElfUk9VVEVfTkVXUFJPQkxFTSA9ICcvYXBpL3Byb2JsZW0vbmV3cHJvYmxlbSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFBST0JMRU0gPSAnL2FwaS9wcm9ibGVtL2dldHByb2JsZW0nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRQUk9CTEVNUkVQT1JUID0gJy9hcGkvcHJvYmxlbS9nZXRwcm9ibGVtcmVwb3J0JztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUQ09MTEFCT1JBVE9SUyA9ICcvYXBpL3Byb2JsZW0vZ2V0Y29sbGFib3JhdG9ycyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0lOVklURSA9ICcvYXBpL3Byb2JsZW0vaW52aXRlJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUT05JT04gPSAnL2FwaS9wcm9ibGVtL2dldG9uaW9uJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VURVZBTFVBVElPTiA9ICcvYXBpL3Byb2JsZW0vZ2V0ZXZhbHVhdGlvbic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFNFTUlPVElDRlJBTUVXT1JLID0gJy9hcGkvcHJvYmxlbS9nZXRzZW1pb3RpYyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVENBUkYgPSAnL2FwaS9wcm9ibGVtL2dldGNhcmYnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9SRU1PVkVQUk9CTEVNID0gJy9hcGkvcHJvYmxlbS9yZW1vdmVwcm9ibGVtJztcclxuICAgIHZhciBBUElfUk9VVEVfUkVNT1ZFQ09MTEFCT1JBVE9SID0gJy9hcGkvcHJvYmxlbS9yZW1vdmVjb2xsYWJvcmF0b3InO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRISVNUT1JZQ0hBVCA9ICcvYXBpL3Byb2JsZW0vaGlzdG9yeWNoYXQnO1xyXG5cclxuICAgIHZhciBzZXJ2aWNlID0ge1xyXG4gICAgICBuZXdwcm9ibGVtICAgICAgIDogbmV3cHJvYmxlbSxcclxuICAgICAgZ2V0dXNlcnByb2JsZW1zICA6IGdldHVzZXJwcm9ibGVtcyxcclxuICAgICAgZ2V0cHJvYmxlbSAgICAgICA6IGdldHByb2JsZW0sXHJcbiAgICAgIGdldGNvbGxhYm9yYXRvcnMgOiBnZXRjb2xsYWJvcmF0b3JzLFxyXG4gICAgICBpbnZpdGUgICAgICAgICAgIDogaW52aXRlLFxyXG4gICAgICBnZXRvbmlvbiAgICAgICAgIDogZ2V0b25pb24sXHJcbiAgICAgIGdldGV2YWx1YXRpb24gICAgOiBnZXRldmFsdWF0aW9uLFxyXG4gICAgICBnZXRzZW1pb3RpYyAgICAgIDogZ2V0c2VtaW90aWMsXHJcbiAgICAgIGdldGNhcmYgICAgICAgICAgOiBnZXRjYXJmLFxyXG4gICAgICByZW1vdmVwcm9ibGVtICAgIDogcmVtb3ZlcHJvYmxlbSxcclxuICAgICAgZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3I6IGdldHByb2JsZW1zY29sbGFib3JhdG9yLFxyXG4gICAgICByZW1vdmVjb2xsYWJvcmF0b3JzIDogcmVtb3ZlY29sbGFib3JhdG9ycyxcclxuICAgICAgZ2V0aGlzdG9yeWNoYXQ6IGdldGhpc3RvcnljaGF0LFxyXG4gICAgICBnZXRwcm9ibGVtcmVwb3J0IDogZ2V0cHJvYmxlbXJlcG9ydFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gc2VydmljZTtcclxuXHJcbiAgICBmdW5jdGlvbiBuZXdwcm9ibGVtKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfTkVXUFJPQkxFTSwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0cHJvYmxlbXJlcG9ydChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUUFJPQkxFTVJFUE9SVCArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0cHJvYmxlbShkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUUFJPQkxFTSArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0dXNlcnByb2JsZW1zKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVMgKyAnP2VtYWlsPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Y29sbGFib3JhdG9ycyhkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUQ09MTEFCT1JBVE9SUyArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW52aXRlKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfSU5WSVRFLCBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0b25pb24oZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVE9OSU9OICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRldmFsdWF0aW9uIChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VURVZBTFVBVElPTiArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0c2VtaW90aWMgKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRTRU1JT1RJQ0ZSQU1FV09SSyArICc/aWRwcm9ibGVtPScgKyBkYXRhIClcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRjYXJmKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRDQVJGICsgJz9pZHByb2JsZW09JyArIGRhdGEgKVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZXByb2JsZW0oZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX1JFTU9WRVBST0JMRU0gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldHByb2JsZW1zY29sbGFib3JhdG9yKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVNDT0xMQUJPUkFUT1IgKyAnP2VtYWlsPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlY29sbGFib3JhdG9ycyhkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfUkVNT1ZFQ09MTEFCT1JBVE9SICsgJz9pZHByb2JsZW09JyArIGRhdGEuaWRwcm9ibGVtICsgJyZlbWFpbD0nICsgZGF0YS5lbWFpbCApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldGhpc3RvcnljaGF0KGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRISVNUT1JZQ0hBVCArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXInLHNlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlcik7XHJcblxyXG5mdW5jdGlvbiBzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIoU29ja2V0LCR3aW5kb3csIHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwKXtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmlkcHJvYmxlbSA9IFwiXCI7XHJcbiAgICBzZWxmLnNhdmVTb2NpYWxXb3JsZCA9IHNhdmVTb2NpYWxXb3JsZDtcclxuICAgIHNlbGYuc2F2ZVByYWdtYXRpYyA9IHNhdmVQcmFnbWF0aWM7XHJcbiAgICBzZWxmLnNhdmVTZW1hbnRpYyA9IHNhdmVTZW1hbnRpYztcclxuICAgIHNlbGYuc2F2ZVN5bnRhdGljID0gc2F2ZVN5bnRhdGljO1xyXG4gICAgc2VsZi5zYXZlRW1waXJpY2FsID0gc2F2ZUVtcGlyaWNhbDtcclxuICAgIHNlbGYuc2F2ZVBoeXNpY2FsID0gc2F2ZVBoeXNpY2FsO1xyXG4gICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yayA9IFwiXCI7XHJcbiAgICBzZWxmLmluaXRTZW1pb3RpY0ZyYW1ld29yayA9IGluaXRTZW1pb3RpY0ZyYW1ld29yaztcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0U2VtaW90aWNGcmFtZXdvcmsoKXtcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHNlbWlvdGljKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrID0gZGF0YS5zZW1pb3RpY2ZyYW1ld29yaztcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlU29jaWFsV29ybGQnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuc29jaWFsd29ybGQgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVNvY2lhbFdvcmxkKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVTb2NpYWxXb3JsZCcsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVByYWdtYXRpYycsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5wcmFnbWF0aWMgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVByYWdtYXRpYyh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlUHJhZ21hdGljJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlU2VtYW50aWMnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuc2VtaW90aWNyYW1ld29yayA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlU2VtYW50aWModGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVNlbWFudGljJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlU3ludGF0aWMnLCBmdW5jdGlvbiAodGV4dCxmbGFnU2F2ZSkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuc3ludGF0aWMgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVN5bnRhdGljKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVTeW50YXRpYycsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZUVtcGlyaWNhbCcsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5lbXBpcmljYWwgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZUVtcGlyaWNhbCh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlRW1waXJpY2FsJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlUGh5c2ljYWwnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsucGh5c2ljYWwgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVBoeXNpY2FsKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVQaHlzaWNhbCcsIG9iaik7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbjsoZnVuY3Rpb24odW5kZWZpbmVkKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignc3Rha2Vob2xkZXJDb250cm9sbGVyJyxzdGFrZWhvbGRlckNvbnRyb2xsZXIpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHN0YWtlaG9sZGVyQ29udHJvbGxlcihTb2NrZXQsJHdpbmRvdyxwcm9ibGVtU2VydmljZSwkbWREaWFsb2csdG9hc3RBcHApe1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaWRwcm9ibGVtID0gXCJcIjtcclxuICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gW107XHJcbiAgICBzZWxmLnN0YWtlaG9sZGVyID0gXCJcIjtcclxuICAgIHNlbGYuaW50aXRPbmlvbiA9IGludGl0T25pb247XHJcbiAgICBzZWxmLm1vdmUgPSBmYWxzZTtcclxuICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgIHNlbGYuc2F2ZVN0YWtlaG9sZGVyID0gc2F2ZVN0YWtlaG9sZGVyO1xyXG4gICAgc2VsZi5zZXRPcGVuRWRpdCA9IHNldE9wZW5FZGl0O1xyXG4gICAgc2VsZi5kZWxQb3N0SXQgPSBkZWxQb3N0SXQ7XHJcbiAgICBzZWxmLmFkZFBvc3RJdCA9IGFkZFBvc3RJdDtcclxuICAgIHNlbGYuYWNlbmRlID0gYWNlbmRlO1xyXG4gICAgc2VsZi5hcGFnYSA9IGFwYWdhO1xyXG4gICAgc2VsZi5sb2NhbGNvZGUgPSAnJztcclxuXHJcbiAgICBmdW5jdGlvbiBpbnRpdE9uaW9uKCl7XHJcbiAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBzZWxmLmxvY2FsY29kZSA9ICAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbGNvZGUnKTtcclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRvbmlvbihzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBkYXRhLnN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5zdGFrZWhvbGRlckxpc3QsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICBpZiAoc3Rha2Vob2xkZXIuX2lkID09IGRhdGEuX2lkKXtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnN0YWtlaG9sZGVyID0gZGF0YS5zdGFrZWhvbGRlcjtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGRhdGEub3BlbkVkaXQ7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci54ID0gZGF0YS54O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnppbmRleCA9IDk5OTk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlU3Rha2Vob2xkZXIoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25TYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbkVkaXQnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5zdGFrZWhvbGRlckxpc3QsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICBpZihzdGFrZWhvbGRlci5faWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci56aW5kZXggPSA5OTk5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0T3BlbkVkaXQoaWQpe1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvbkVkaXQnLCBpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uUmVtb3ZlJywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgdmFyIHN0YWtlaG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGFrZWhvbGRlclwiICtzZWxmLnN0YWtlaG9sZGVyTGlzdFtpZF0uX2lkKTtcclxuICAgICAgICBzdGFrZWhvbGRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0LnNwbGljZShpZCwxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVBvc3RJdChpbmRleCxzdGFrZWhvbGRlcikge1xyXG5cclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyOiBzdGFrZWhvbGRlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uUmVtb3ZlJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZWxQb3N0SXQoZXYsaW5kZXgsc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgICAgLnBhcmVudChhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkpXHJcbiAgICAgICAgICAgIC50aXRsZSgnRGV0ZXRlIFN0YWtlaG9sZGVyPycpXHJcbiAgICAgICAgICAgIC5jb250ZW50KCdUaXRsZTogJyArIHN0YWtlaG9sZGVyLm5hbWUpXHJcbiAgICAgICAgICAgIC5hcmlhTGFiZWwoJ1JlbW92ZSBTdGFrZWhvbGRlcicpXHJcbiAgICAgICAgICAgIC5vaygnWWVzIScpXHJcbiAgICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbCcpXHJcbiAgICAgICAgICAgIC50YXJnZXRFdmVudChldik7XHJcbiAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmVtb3ZlUG9zdEl0KGluZGV4LHN0YWtlaG9sZGVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0TW92ZScsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICBpZihzZWxmLmxvY2FsY29kZSAhPT0gc3Rha2Vob2xkZXIubG9jYWxjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2Vob2xkZXInK3N0YWtlaG9sZGVyLl9pZCkuc3R5bGUubGVmdCA9IHN0YWtlaG9sZGVyLng7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2Vob2xkZXInK3N0YWtlaG9sZGVyLl9pZCkuc3R5bGUudG9wID0gc3Rha2Vob2xkZXIueTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbkFkZCcsIGZ1bmN0aW9uIChyZXRvcm5vKSB7XHJcbiAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QucHVzaChyZXRvcm5vKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFBvc3RJdChlLGNhbWFkYSkge1xyXG5cclxuICAgICAgICB2YXIgbmV3U3Rha2Vob2xkZXIgPVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXCJvbmlvbmxheWVyXCI6IGNhbWFkYSxcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXHJcbiAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcclxuICAgICAgICAgICAgXCJvcGVuRWRpdFwiOiB0cnVlLFxyXG4gICAgICAgICAgICBcInhcIjogZS5wYWdlWCArICdweCcsXHJcbiAgICAgICAgICAgIFwieVwiOiAoZS5wYWdlWSkgKyAncHgnLFxyXG4gICAgICAgICAgICBcInppbmRleFwiOiA5OTk5XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25BZGQnLCBuZXdTdGFrZWhvbGRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWNlbmRlKGlkKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYW1lXCIraWQpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAndGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7Jyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWdlbmRcIitpZCkuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLCBcIjAuN1wiKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLCBcIjAuN1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcGFnYShpZCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjogbm9uZTsnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZ2VuZFwiK2lkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMS4wXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMS4wXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG59KSh0aGlzKTsiLCJcclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdzdGFydFByb2JsZW1Db250cm9sbGVyJyxzdGFydFByb2JsZW1Db250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzdGFydFByb2JsZW1Db250cm9sbGVyKCRtZERpYWxvZywkc3RhdGUsQXV0aCxTb2NrZXQsICR3aW5kb3csIHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwICkge1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5uaWNrbmFtZSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi51c2VyaWQgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYudXNlcmVtYWlsID0gXCJcIjtcclxuICAgICAgICBzZWxmLnByb2JsZW1MaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5wcm9ibGVtQ29sbGFib3JhdG9yTGlzdCA9IFtdO1xyXG4gICAgICAgIHNlbGYubG9naW5JblByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLmdldFByb2JsZW1zID0gZ2V0UHJvYmxlbXM7XHJcbiAgICAgICAgc2VsZi5yZXZvbXZlUHJvYmxlbSA9IHJldm9tdmVQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuc3RhcnROZXdQcm9ibGVtID0gc3RhcnROZXdQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZWRpdFByb2JsZW0gPSBlZGl0UHJvYmxlbTtcclxuICAgICAgICBzZWxmLmRvTG9nb3V0ID0gZG9Mb2dvdXQ7XHJcbiAgICAgICAgc2VsZi5uZXdQcm9ibGVtID0gbmV3UHJvYmxlbTtcclxuICAgICAgICBzZWxmLmVkaXRQcm9maWxlID0gZWRpdFByb2ZpbGU7XHJcbiAgICAgICAgc2VsZi5waG90bztcclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFByb2JsZW1zKCl7XHJcbiAgICAgICAgICAgIHNlbGYudXNlcmlkID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmlkJyk7XHJcbiAgICAgICAgICAgIHNlbGYubmlja25hbWUgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpO1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJlbWFpbCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJlbWFpbCcpO1xyXG4gICAgICAgICAgICBzZWxmLnBob3RvID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGhvdG8nKTtcclxuXHJcblxyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXR1c2VycHJvYmxlbXMoc2VsZi51c2VyZW1haWwpXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgZGF0YS5wcm9ibGVtcy5sZW5ndGg7IGkrKyApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5sZW5ndGggPiAzMDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLFwiXCIpLnN1YnN0cmluZygwLDI4MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uID0gZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZyxcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW1MaXN0ID0gZGF0YS5wcm9ibGVtcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3Ioc2VsZi51c2VyZW1haWwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGRhdGEucHJvYmxlbXMubGVuZ3RoOyBpKysgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGVzY3Jpw6fDo286ICcgKyBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLmxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLmxlbmd0aCA+IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uID0gZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZywgXCJcIikuc3Vic3RyaW5nKDAsIDI4MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uID0gZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbUNvbGxhYm9yYXRvckxpc3QgPSBkYXRhLnByb2JsZW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmxvZ2luSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlUHJvYmxlbShwcm9ibGVtaWQpe1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5yZW1vdmVwcm9ibGVtKHByb2JsZW1pZClcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBzZWxmLnByb2JsZW1MaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGYucHJvYmxlbUxpc3RbaV0uX2lkID09IHByb2JsZW1pZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtTGlzdC5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJldm9tdmVQcm9ibGVtKGV2LHByb2JsZW0pIHtcclxuICAgICAgICAgICAgLy8gQXBwZW5kaW5nIGRpYWxvZyB0byBkb2N1bWVudC5ib2R5IHRvIGNvdmVyIHNpZGVuYXYgaW4gZG9jcyBhcHBcclxuICAgICAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgICAgICAucGFyZW50KGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSlcclxuICAgICAgICAgICAgICAgIC50aXRsZSgnRGV0ZXRlIFByb2JsZW0/JylcclxuICAgICAgICAgICAgICAgIC5jb250ZW50KCdUaXRsZTogJyArIHByb2JsZW0udGl0bGUpXHJcbiAgICAgICAgICAgICAgICAuYXJpYUxhYmVsKCdSZW1vdmUgUHJvYmxlbScpXHJcbiAgICAgICAgICAgICAgICAub2soJ0Rlc2VqbyByZW1vdmVyIScpXHJcbiAgICAgICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWwnKVxyXG4gICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KGV2KTtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZVByb2JsZW0ocHJvYmxlbS5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0TmV3UHJvYmxlbShuZXdwcm9ibGVtKXtcclxuICAgICAgICAgICAgbmV3cHJvYmxlbS51c2VyaWQgPSBzZWxmLnVzZXJpZDtcclxuXHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLm5ld3Byb2JsZW0obmV3cHJvYmxlbSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lZGl0UHJvYmxlbShkYXRhLnByb2JsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVkaXRQcm9ibGVtKHByb2JsZW0pIHtcclxuICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2JsZW1pZFwiLHByb2JsZW0uX2lkKTtcclxuICAgICAgICAgICAgdmFyIGluaXRzb2NrZXRwcm9ibGVtID0ge1xyXG4gICAgICAgICAgICAgICAgXCJpZHByb2JsZW1cIjpwcm9ibGVtLl9pZCxcclxuICAgICAgICAgICAgICAgIFwibmlja25hbWVcIjogc2VsZi5uaWNrbmFtZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnaW5pdFByb2JsZW0nLCBpbml0c29ja2V0cHJvYmxlbSk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5zdGFrZWhvbGRlcnMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRvTG9nb3V0KCkge1xyXG4gICAgICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZWRpdFByb2ZpbGUoKSB7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvZmlsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbmV3UHJvYmxlbShldikge1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IERpYWxvZ0NvbnRyb2xsZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9uZXdwcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gRGlhbG9nQ29udHJvbGxlcigkc2NvcGUsICRmaWx0ZXIsICRtZERpYWxvZykge1xyXG4gICAgICAgICAgICAkc2NvcGUuYXJ0aWZhY3RMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5ld1Byb2JsZW0gPSBmdW5jdGlvbihwcm9ibGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLmFydGlmYWN0TGlzdC5sZW5ndGggPCAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdMQUJFTF9DSE9JQ0VfQVJUSUZBQ1RTJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHByb2JsZW0uYXJ0aWZhY3RzID0gICRzY29wZS5hcnRpZmFjdExpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFydE5ld1Byb2JsZW0ocHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICRzY29wZS5hZGRBcnRpZmFjdCA9IGZ1bmN0aW9uIGFkZEFydGlmYWN0KHZhbG9yKXtcclxuICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCAkc2NvcGUuYXJ0aWZhY3RMaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRzY29wZS5hcnRpZmFjdExpc3RbaV0gPT09IHZhbG9yKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXJ0aWZhY3RMaXN0LnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXJ0aWZhY3RMaXN0LnB1c2godmFsb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgIH1cclxufSkoKTtcclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjIvMDcvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3ZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXInLCB2YWx1ZUlkZW50aWZpY2F0aW9uRnJhbWVDb250cm9sbGVyKTtcclxuXHJcbmZ1bmN0aW9uIHZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIoJHdpbmRvdyxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCxTb2NrZXQpe1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgIHNlbGYuaWRQcm9ibGVtID0gXCJcIjtcclxuICAgIHNlbGYudXNlcmVtYWlsID0gXCJcIjtcclxuICAgIHNlbGYubmV3dmFsdWVzID0gXCJcIjtcclxuICAgIHNlbGYuaW5pdFZhbHVlSWRlbnRpZmljYXRpb25GcmFtZSA9IGluaXRWYWx1ZUlkZW50aWZpY2F0aW9uRnJhbWU7XHJcbiAgICBzZWxmLnNldFN1Z2dlc3Rpb25TaG93ID0gc2V0U3VnZ2VzdGlvblNob3c7XHJcbiAgICBzZWxmLmxlYXZlU3VnZ2VzdGlvblNob3cgPSBsZWF2ZVN1Z2dlc3Rpb25TaG93O1xyXG4gICAgc2VsZi5yZW1vdmVWYWx1ZUlkZW50aWNhdGlvbiA9IHJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uO1xyXG4gICAgc2VsZi5zZXRWYWx1ZUlkZW50aWNhdGlvbiA9IHNldFZhbHVlSWRlbnRpY2F0aW9uO1xyXG4gICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXMgPSBcIlwiO1xyXG4gICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIkNvbW11bml0eVwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiTWFya2V0XCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJTb3VyY2VcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIkNvbnRyaWJ1dGlvblwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiVGVjaG5pY29cIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH1cclxuICAgIF07XHJcbiAgICBzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5ID0gW1xyXG4gICAgICAgICdBY2Vzc2liaWxpZGFkZScsJ0FkYXB0YWJpbGlkYWRlJywnRXN0w6l0aWNhJywnQXV0b25vbWlhJywgJ0Rpc3BvbmliaWxpZGFkZScsICdDb25zY2nDqm5jaWEnLCAnQ29sYWJvcmHDp8OjbycsXHJcbiAgICAgICAgJ0NvbnZlcnNhw6fDo28nLCAnRW1vw6fDo28gZSBBZmV0bycsICdHcnVwb3MnLCAnSWRlbnRpZGFkZScsICdDb25zZW50aW1lbnRvIGluZm9ybWFkbycsICdNZXRhLWNvbXVuaWNhw6fDo28nLCAnTm9ybWFzJyxcclxuICAgICAgICAnT2JqZXRvJywgJ1BvcnRhYmlsaWRhZGUnLCAnUHJlc2Vuw6dhJywgJ1ByaXZhY2lkYWRlJywgJ1Byb3ByaWVkYWRlJywgJ1JlY2lwcm9jaWRhZGUsIFJlbGFjaW9uYW1lbnRvLCBSZXB1dGHDp8OjbycsXHJcbiAgICAgICAgJ0VzY2FsYWJpbGlkYWRlJywgJ1NlZ3VyYW7Dp2EnLCAnQ29tcGFydGlsaGFtZW50bycsICdDb25maWFuw6dhJywgJ1VzYWJpbGlkYWRlJywgJ1Zpc2liaWxpZGFkZSddO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRWYWx1ZUlkZW50aWZpY2F0aW9uRnJhbWUoKXtcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldG9uaW9uKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN0YWtlaG9sZGVycy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgayA9IDE7IGsgPCBzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5Lmxlbmd0aDsgaysrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN1Z2VzdGlvblZhbHVlcyArPSBzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5W2tdICsgIFwiLCBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXNbc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheVtzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5Lmxlbmd0aC0xXV0gKyAnLic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGF0YS5zdGFrZWhvbGRlcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBzZWxmLnN0YWtlaG9sZGVyTGlzdC5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFrZWhvbGRlciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZCA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uaW9ubGF5ZXIgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5vbmlvbmxheWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0udmFsdWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkVkaXQgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5vcGVuRWRpdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZXMgOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdGFrZWhvbGRlcnNbaV0ub25pb25sYXllciA9PSBzZWxmLnN0YWtlaG9sZGVyTGlzdFtqXS5vbmlvbmxheWVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0W2pdLnN0YWtlaG9sZGVycy5wdXNoKHN0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uU2F2ZScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuc3Rha2Vob2xkZXJMaXN0LCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgaWYgKHN0YWtlaG9sZGVyLl9pZCA9PSBkYXRhLl9pZCl7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5zdGFrZWhvbGRlciA9IGRhdGEuc3Rha2Vob2xkZXI7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBkYXRhLm9wZW5FZGl0O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueCA9IGRhdGEueDtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0U3VnZ2VzdGlvblNob3coc3Rha2Vob2xkZXIpe1xyXG4gICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsZWF2ZVN1Z2dlc3Rpb25TaG93KHN0YWtlaG9sZGVyKXtcclxuICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uKHZhbHVlLHN0YWtlaG9sZGVyKXtcclxuICAgICAgICB2YXIgbmV3TGlzdCA9IFtdO1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzdGFrZWhvbGRlci52YWx1ZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZihzdGFrZWhvbGRlci52YWx1ZXNbaV0gIT0gdmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgbmV3TGlzdC5wdXNoKHN0YWtlaG9sZGVyLnZhbHVlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3Rha2Vob2xkZXIudmFsdWVzID0gbmV3TGlzdDtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25TYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFZhbHVlSWRlbnRpY2F0aW9uKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgaWYoKHN0YWtlaG9sZGVyLm5ld1ZhbHVlcyA9PT0gXCJcIikgfHwgKHN0YWtlaG9sZGVyLm5ld1ZhbHVlcyA9PT0gdW5kZWZpbmVkKSl7XHJcbiAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZSgnVmFsb3IgbsOjbyBlc3BlY2lmaWNhZG8uJyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXNMaXN0ID0gc3Rha2Vob2xkZXIubmV3VmFsdWVzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgdmFsdWVzTGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZihmaW5kVmFsdWUoc3Rha2Vob2xkZXIudmFsdWVzLCB2YWx1ZXNMaXN0W2ldKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRHVwbGljYXRlIHZhbHVlOiBcIiArIHZhbHVlc0xpc3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIudmFsdWVzLnB1c2godmFsdWVzTGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3Rha2Vob2xkZXIubmV3VmFsdWVzID0gXCJcIjtcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uU2F2ZScsIHN0YWtlaG9sZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRWYWx1ZShsaXN0LCB2YWx1ZSl7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYodmFsdWUgPT09IGxpc3RbaV0pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI4LzA3LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdwcm9maWxlQ29udHJvbGxlcicscHJvZmlsZUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHByb2ZpbGVDb250cm9sbGVyKCR3aW5kb3csJHN0YXRlLCAkc2NvcGUsc2lnbnVwU2VydmljZSl7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuc3RhcnRQcm9maWxlID0gc3RhcnRQcm9maWxlO1xyXG4gICAgICAgIHNlbGYudXBsb2FkSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgc2VsZi51cGxvYWRQcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgc2VsZi51c2VyaWQ7XHJcbiAgICAgICAgc2VsZi5zYXZlUGhvdG8gPSBzYXZlUGhvdG87XHJcbiAgICAgICAgc2VsZi5zeXN0ZW1SZXR1cm4gPSBzeXN0ZW1SZXR1cm47XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN5c3RlbVJldHVybigpe1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3N0YXJ0cHJvYmxlbScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5teUltYWdlPScnO1xyXG4gICAgICAgIHNlbGYubXlDcm9wcGVkSW1hZ2U9Jyc7XHJcblxyXG4gICAgICAgIHZhciBoYW5kbGVGaWxlU2VsZWN0ID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxlID0gZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5teUltYWdlID0gZXZ0LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVJbnB1dCcpKS5vbignY2hhbmdlJyxoYW5kbGVGaWxlU2VsZWN0KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3RhcnRQcm9maWxlKCl7XHJcbiAgICAgICAgICAgIHNlbGYudXNlcmlkID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJpZFwiKTtcclxuICAgICAgICAgICAgaWYoc2VsZi51c2VyaWQgIT09IHVuZGVmaW5lZCl7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmVQaG90byhteWltYWdlKXtcclxuICAgICAgICAgICAgdmFyIHVzZXJQaG90byA9e1xyXG4gICAgICAgICAgICAgICAgdXNlcmlkIDogJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJpZFwiKSxcclxuICAgICAgICAgICAgICAgIHBob3RvIDogbXlpbWFnZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzaWdudXBTZXJ2aWNlLnVwbG9hZFBob3RvKHVzZXJQaG90bylcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBob3RvXCIsbXlpbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIi0tLS0tXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTtcclxuXHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdzaWdudXBDb250cm9sbGVyJywgc2lnbnVwQ29udHJvbGxlcik7XHJcbiAgICBzaWdudXBDb250cm9sbGVyLiRpbmplY3QgPSBbJyR0cmFuc2xhdGUnLCckd2luZG93Jywnc2lnbnVwU2VydmljZScsJyRzdGF0ZScsJ3RvYXN0QXBwJywnQXV0aFRva2VuJywnQXV0aCcsJyRmaWx0ZXInLCckc3RhdGVQYXJhbXMnXTtcclxuXHJcbiAgZnVuY3Rpb24gc2lnbnVwQ29udHJvbGxlcigkdHJhbnNsYXRlLCAkd2luZG93LCBzaWdudXBTZXJ2aWNlLCRzdGF0ZSx0b2FzdEFwcCxBdXRoVG9rZW4sQXV0aCwkZmlsdGVyLCRzdGF0ZVBhcmFtcyl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLm1lc3NhZ2UgID0gJyc7XHJcbiAgICBzZWxmLnNhdmVVc2VyICAgPSBzYXZlVXNlcjtcclxuICAgIHNlbGYucmVzY3VlUGFzc3dvcmQgPSByZXNjdWVQYXNzd29yZDtcclxuICAgIHNlbGYuY2hhbmdlUGFzc3dvcmQgPSBjaGFuZ2VQYXNzd29yZDtcclxuICAgIHNlbGYuc2V0TGFuZyA9IHNldExhbmc7XHJcbiAgICBzZWxmLmxvZ2luSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVVc2VyKHVzZXIpIHtcclxuICAgICAgc2lnbnVwU2VydmljZS5jcmVhdGUodXNlcilcclxuICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZSgkZmlsdGVyKCd0cmFuc2xhdGUnKSgnV0VMQ09NRV9TWVNURU0nKSArIHVzZXIubmlja25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0LmxvZ2luJyk7XHJcbiAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJFbWFpbCBKw6EgY2FkYXN0cmFkb1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBzZXRMYW5nKGxhbmdLZXkpIHtcclxuICAgICAgICAgICR0cmFuc2xhdGUudXNlKGxhbmdLZXkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByZXNjdWVQYXNzd29yZCh1c2VyRW1haWwpe1xyXG4gICAgICAgICAgc2lnbnVwU2VydmljZS5yZXNjdWVQYXNzd29yZCh1c2VyRW1haWwpXHJcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVtYWlsIGNvbSBpbnN0cnXDp8O1ZXMgZW52aWFkbyBwYXJhIFwiICsgdXNlckVtYWlsLmVtYWlsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVycm9yXCIpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKHVzZXIpe1xyXG4gICAgICAgICAgc2lnbnVwU2VydmljZS5jaGFuZ2VQYXNzd29yZCh1c2VyKVxyXG4gICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZW5oYSBhbHRlcmFkYSBjb20gc3VjZXNzby4gRmHDp2EgbG9naW4gY29tIGEgbm92YSBzZW5oYS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJFcnJvclwiKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdzaWdudXBTZXJ2aWNlJywgc2lnbnVwU2VydmljZSk7XHJcblxyXG4gIHNpZ251cFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCckbG9jYXRpb24nXTtcclxuXHJcbiAgZnVuY3Rpb24gc2lnbnVwU2VydmljZSgkaHR0cCwkbG9jYXRpb24pIHtcclxuXHJcbiAgICB2YXIgQVBJX1JPVVRFX1VTRVIgPSAnL2FwaS9zaWdudXAvJztcclxuICAgIHZhciBBUElfUk9VVEVfUkVTQ1VFUEFTU1dPUkQgPSAnL2FwaS9yZXNjdWVwYXNzd2QvJztcclxuICAgIHZhciBBUElfUk9VVEVfU0VUTkVXUEFTU1dPUkQgPSAnL2FwaS9yZXNjdWVwYXNzd2QvbmV3cGFzc3dkLyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1VQREFURVBIT1RPID0gJy9hcGkvcHJvZmlsZS9waG90by8nO1xyXG5cclxuXHJcbiAgICB2YXIgc2VydmljZSA9IHtcclxuICAgICAgY3JlYXRlICAgICAgICAgOiBjcmVhdGUsXHJcbiAgICAgIHJlc2N1ZVBhc3N3b3JkIDogcmVzY3VlUGFzc3dvcmQsXHJcbiAgICAgIGNoYW5nZVBhc3N3b3JkIDogY2hhbmdlUGFzc3dvcmQsXHJcbiAgICAgIHVwbG9hZFBob3RvOiB1cGxvYWRQaG90b1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gc2VydmljZTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9VU0VSLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNjdWVQYXNzd29yZChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX1JFU0NVRVBBU1NXT1JELCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZChkYXRhKXtcclxuICAgICAgdmFyIG15dG9rZW5VUkwgPSAkbG9jYXRpb24uc2VhcmNoKCk7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX1NFVE5FV1BBU1NXT1JEICsgJz9teXRva2VuPScgKyBteXRva2VuVVJMLm15dG9rZW4rJyZwYXNzd29yZD0nK2RhdGEucGFzc3dvcmQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwbG9hZFBob3RvKGRhdGEpIHtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX1VQREFURVBIT1RPLCBkYXRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb25maWcoYXBwQ29uZmlnKTtcclxuXHJcbiAgICBhcHBDb25maWcuJGluamVjdCA9IFsnJG1kVGhlbWluZ1Byb3ZpZGVyJywnJGxvY2F0aW9uUHJvdmlkZXInXTtcclxuXHJcbiAgIC8qIGZ1bmN0aW9uIGFwcENvbmZpZyAoJG1kVGhlbWluZ1Byb3ZpZGVyLCRsb2NhdGlvblByb3ZpZGVyKSB7XHJcblxyXG4gICAgICAgICAvLyRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuICAgICAgICB2YXIgY3VzdG9tR3JlZW5NYXAgPSAkbWRUaGVtaW5nUHJvdmlkZXIuZXh0ZW5kUGFsZXR0ZSgndGVhbCcsIHtcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnXSxcclxuICAgICAgICAgICAgJzUwJzogJ0UwRjJGMSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ2N1c3RvbUdyZWVuJywgY3VzdG9tR3JlZW5NYXApO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXHJcbiAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgnY3VzdG9tR3JlZW4nLCB7XHJcbiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6ICc1MDAnLFxyXG4gICAgICAgICAgICAgICAgJ2h1ZS0xJzogJzUwJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYWNjZW50UGFsZXR0ZSgndGVhbCcpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnaW5wdXQnLCAnZGVmYXVsdCcpXHJcbiAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgnZ3JlZW4nKTtcclxuXHJcbiAgICB9OyovXHJcblxyXG4gICAgZnVuY3Rpb24gYXBwQ29uZmlnKCRtZFRoZW1pbmdQcm92aWRlcikge1xyXG4gICAgICAgIC8vIEV4dGVuZCB0aGUgcmVkIHRoZW1lIHdpdGggYSBmZXcgZGlmZmVyZW50IGNvbG9yc1xyXG4gICAgICAgIHZhciBuZW9uUmVkTWFwID0gJG1kVGhlbWluZ1Byb3ZpZGVyLmV4dGVuZFBhbGV0dGUoJ3RlYWwnLCB7XHJcbiAgICAgICAgICAgICc1MCc6ICdFMEYyRjEnLFxyXG4gICAgICAgICAgICAnMTAwJzogJ0IyREZEQicsXHJcbiAgICAgICAgICAgICcyMDAnOiAnODBDQkM0JyxcclxuICAgICAgICAgICAgJzMwMCc6ICc0REI2QUMnLFxyXG4gICAgICAgICAgICAnNDAwJzogJzI2QTY5QScsXHJcbiAgICAgICAgICAgICc1MDAnOiAnMDA5Njg4JyxcclxuICAgICAgICAgICAgJzYwMCc6ICcwMDg5N0InLFxyXG4gICAgICAgICAgICAnNzAwJzogJzAwNzk2QicsXHJcbiAgICAgICAgICAgICc4MDAnOiAnMDA2OTVDJyxcclxuICAgICAgICAgICAgJzkwMCc6ICcwMDRENDAnLFxyXG4gICAgICAgICAgICAnQTEwMCc6ICdBN0ZGRUInLFxyXG4gICAgICAgICAgICAnQTIwMCc6ICc2NEZGREEnLFxyXG4gICAgICAgICAgICAnQTQwMCc6ICcxREU5QjYnLFxyXG4gICAgICAgICAgICAnQTcwMCc6ICcwMEJGQTUnLFxyXG4gICAgICAgICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLCAgICAvLyB3aGV0aGVyLCBieSBkZWZhdWx0LCB0ZXh0IChjb250cmFzdClcclxuICAgICAgICAgICAgLy8gb24gdGhpcyBwYWxldHRlIHNob3VsZCBiZSBkYXJrIG9yIGxpZ2h0XHJcbiAgICAgICAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiBbJzUwJywgJzEwMCcsIC8vaHVlcyB3aGljaCBjb250cmFzdCBzaG91bGQgYmUgJ2RhcmsnIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgICAgICcyMDAnLCAnMzAwJywgJzQwMCcsICdBMTAwJ10sXHJcbiAgICAgICAgICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gUmVnaXN0ZXIgdGhlIG5ldyBjb2xvciBwYWxldHRlIG1hcCB3aXRoIHRoZSBuYW1lIDxjb2RlPm5lb25SZWQ8L2NvZGU+XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ3RlYWwnLCBuZW9uUmVkTWFwKTtcclxuICAgICAgICAvLyBVc2UgdGhhdCB0aGVtZSBmb3IgdGhlIHByaW1hcnkgaW50ZW50aW9uc1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXHJcbiAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgndGVhbCcpXHJcbiAgICAgICAgICAgIC5hY2NlbnRQYWxldHRlKCdncmVlbicpO1xyXG4gICAgfVxyXG5cclxuXHJcbn0pKCk7IiwiXHJcbihmdW5jdGlvbigpe1xyXG5cclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXV0aFNlcnZpY2UnLCBbXSlcclxuXHRcdC5mYWN0b3J5KCdBdXRoJywgZnVuY3Rpb24oJGh0dHAsICRxLCBBdXRoVG9rZW4pIHtcclxuXHRcdFx0dmFyIGF1dGhGYWN0b3J5ID0ge307XHJcblx0XHRcdGF1dGhGYWN0b3J5LmxvZ2luID0gZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKSB7XHJcblx0XHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9naW4nLCB7XHJcblx0XHRcdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdFx0XHRwYXNzd29yZDogcGFzc3dvcmRcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS50b2tlbik7XHJcblx0XHRcdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRhdXRoRmFjdG9yeS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRBdXRoVG9rZW4uc2V0VG9rZW4oKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhGYWN0b3J5LmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0fWVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhGYWN0b3J5LmdldFVzZXIgPSBmdW5jdGlvbihpZCkge1xyXG5cdFx0XHRcdGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lLz91c2VyaWQ9JyArIGlkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJHEucmVqZWN0KHttZXNzYWdlOiBcIlVzZXIgaGFzIG5vIHRva2VuXCJ9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gYXV0aEZhY3Rvcnk7XHJcblx0XHR9KVxyXG5cdFx0LmZhY3RvcnkoJ0F1dGhUb2tlbicsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcclxuXHJcblx0XHRcdHZhciBhdXRoVG9rZW5GYWN0b3J5ID0ge307XHJcblxyXG5cdFx0XHRhdXRoVG9rZW5GYWN0b3J5LmdldFRva2VuID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRhdXRoVG9rZW5GYWN0b3J5LnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pIHtcclxuXHJcblx0XHRcdFx0aWYgKHRva2VuKSB7XHJcblx0XHRcdFx0XHQkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fTtcclxuXHRcdFx0cmV0dXJuIGF1dGhUb2tlbkZhY3Rvcnk7XHJcblx0XHR9KVxyXG5cdFx0LmZhY3RvcnkoJ0F1dGhJbnRlcmNlcHRvcicsIGZ1bmN0aW9uKCRxLCAkbG9jYXRpb24sIEF1dGhUb2tlbikge1xyXG5cdFx0XHR2YXIgaW50ZXJjZXB0b3JGYWN0b3J5ID0ge307XHJcblx0XHRcdGludGVyY2VwdG9yRmFjdG9yeS5yZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcblx0XHRcdFx0dmFyIHRva2VuID0gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcblx0XHRcdFx0aWYodG9rZW4pIHtcclxuXHRcdFx0XHRcdGNvbmZpZy5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddID0gdG9rZW47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBjb25maWc7XHJcblx0XHRcdH07XHJcblx0XHRcdHJldHVybiBpbnRlcmNlcHRvckZhY3Rvcnk7XHJcblx0XHR9KTtcclxufSkoKTsiLCJcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdEcm9wRFNDJyxbXSlcclxuICAgIC5kaXJlY3RpdmUoJ2RyYWdnYWJsZScsIGZ1bmN0aW9uKCRkb2N1bWVudCxTb2NrZXQsJHdpbmRvdykge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50Lm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGlmKGV2ZW50LnRhcmdldC5pZC5zdWJzdHJpbmcoMCwxMSkgPT0gXCJzdGFrZWhvbGRlclwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGRlZmF1bHQgZHJhZ2dpbmcgb2Ygc2VsZWN0ZWQgY29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnN0YWtlaG9sZGVyLmxvY2FsY29kZSA9ICAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbGNvZGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5iaW5kKCdtb3VzZW1vdmUnLCBtb3VzZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5iaW5kKCdtb3VzZXVwJywgbW91c2V1cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1vdXNlbW92ZShldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGlkX2RpdiA9IGV2ZW50LnRhcmdldC5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChpZF9kaXYgPT0gJ3N2ZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZF9kaXYgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Rha2Vob2xkZXIub25pb25sYXllciA9IGlkX2RpdjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICB5ID0gZXZlbnQucGFnZVk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB4ID0gZXZlbnQucGFnZVg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogeSArICdweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogIHggKyAncHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIC8qU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uUG9zaXRpb24nLCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogc3Rha2Vob2xkZXIueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogIHN0YWtlaG9sZGVyLnhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdGFrZWhvbGRlci54ID0geCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdGFrZWhvbGRlci55ID0geSArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvL1NvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblBvc2l0aW9uJywgc2NvcGUuc3Rha2Vob2xkZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1vdXNldXAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdtb3VzZW1vdmUnLCBtb3VzZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnbW91c2V1cCcsIG1vdXNldXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE1vdmUnLCBzY29wZS5zdGFrZWhvbGRlcik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGplc3VzIG9uIDIxLzAzLzIwMTYuXHJcbiAqL1xyXG47KGZ1bmN0aW9uICh1bmRlZmluZWQpIHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHBSeERyYWcnLCBbJ3J4J10pXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgncnhkcmFnZ2FibGUnLCBmdW5jdGlvbigkZG9jdW1lbnQsICR3aW5kb3csIHJ4LCBTb2NrZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSB0aHJlZSBtYWpvciBldmVudHNcclxuICAgICAgICAgICAgICAgIHZhciBsb2NhbGNvZGUgPSAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxjb2RlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2V1cCAgID0gcnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoZWxlbWVudCwgICAnbW91c2V1cCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vdXNlbW92ZSA9IHJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KCRkb2N1bWVudCwgJ21vdXNlbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vdXNlZG93biA9IHJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KGVsZW1lbnQsICAgJ21vdXNlZG93bicpLm1hcChmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgb2Zmc2V0cyB3aGVuIG1vdXNlIGRvd25cclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGV2ZW50LmNsaWVudFggLSBlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogIGV2ZW50LmNsaWVudFkgLSBlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29tYmluZSBtb3VzZSBkb3duIHdpdGggbW91c2UgbW92ZSB1bnRpbCBtb3VzZSB1cFxyXG4gICAgICAgICAgICAgICAgdmFyIG1vdXNlZHJhZyA9IG1vdXNlZG93bi5zZWxlY3RNYW55KGZ1bmN0aW9uKGltYWdlT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vdXNlbW92ZS5tYXAoZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgb2Zmc2V0cyBmcm9tIG1vdXNlIGRvd24gdG8gbW91c2UgbW92ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHBvcy5jbGllbnRYIC0gaW1hZ2VPZmZzZXQubGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogIHBvcy5jbGllbnRZIC0gaW1hZ2VPZmZzZXQudG9wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGFrZVVudGlsKG1vdXNldXApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbW91c2VkcmFnLnN1YnNjcmliZSAoZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKHt0b3A6IHBvcy50b3AgKyAncHgnLCBsZWZ0OiBwb3MubGVmdCArICdweCd9KTtcclxuICAgICAgICAgICAgICAgICAgICBwb3MubG9jYWxjb2RlID0gbG9jYWxjb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RNb3ZlJyxwb3MpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuXHJcbn0uY2FsbCh0aGlzKSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2xvZ2luQ29udHJvbGxlcicsbG9naW5Db250cm9sbGVyKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbG9naW5Db250cm9sbGVyKCR0cmFuc2xhdGUsICRyb290U2NvcGUsICRzdGF0ZSwgQXV0aCwgJHdpbmRvdywgJGZpbHRlciwgdG9hc3RBcHApIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzZWxmLnNldExhbmcgPSBzZXRMYW5nO1xyXG4gICAgICAgICAgICBzZWxmLmRvTG9nb3V0ID0gZG9Mb2dvdXQ7XHJcbiAgICAgICAgICAgIHNlbGYuZG9Mb2dpbiA9IGRvTG9naW47XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRMYW5nKGxhbmdLZXkpIHtcclxuICAgICAgICAgICAgICAgICAkdHJhbnNsYXRlLnVzZShsYW5nS2V5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TG9jYWxDb2RlKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBzZWxmLmxvZ2dlZEluID0gQXV0aC5pc0xvZ2dlZEluKCk7XHJcblxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VkSW4gPSBBdXRoLmlzTG9nZ2VkSW4oKTtcclxuICAgICAgICAgICAgICAgIEF1dGguZ2V0VXNlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZG9Mb2dpbih1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmVycm9yID0gJyc7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmxvZ2luKHVzZXIuZW1haWwsIHVzZXIucGFzc3dvcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlcmVtYWlsXCIsZGF0YS5lbWFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyaWRcIixkYXRhLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImxvY2FsY29kZVwiLGRhdGEuaWQgKyAnLScgKyBnZXRMb2NhbENvZGUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJuaWNrbmFtZVwiLGRhdGEubmlja25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldExhbmcoZGF0YS5sYW5ndWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGguZ2V0VXNlcihkYXRhLmlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odXNlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJGZpbHRlcigndHJhbnNsYXRlJykoJ1dFTENPTUVfU1lTVEVNJykgKyBcIjogXCIgKyBkYXRhLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGhvdG9cIix1c2VyRGF0YS5kYXRhLnBob3RvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnRwcm9ibGVtJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJVc3XDoXJpbyBlIHNlbmhhIG7Do28gY29uZmVyZW0uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZG9Mb2dvdXQoKSB7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlKCdpbml0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjEvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLnNlcnZpY2UoJ1NvY2tldCcsXHJcbiAgICAgICAgWyckbG9jYXRpb24nLCAnJHRpbWVvdXQnLFxyXG4gICAgZnVuY3Rpb24oJGxvY2F0aW9uLCAkdGltZW91dCkge1xyXG4gICAgICAgIGlmICh0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gaW8oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5vbihldmVudE5hbWUsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnROYW1lLCBkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXSlcclxuXHJcbn0pKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
