!function(){"use strict";angular.module("app",["ngImgCrop","toastService","textAngular","luegg.directives","appRxDrag","DropDSC","authService","ui.router","ngMaterial","ngMdIcons","ngCookies","pascalprecht.translate"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor")}])}(),function(){"use strict";function e(e){function t(t){this.message=t,e.show({controller:"toastController",controllerAs:"vm",templateUrl:"views/pages/dsctoast.html",action:"OK",highlightAction:!0,position:"top right",hideDelay:500})}var o={message:"",errorMessage:t};return o}angular.module("toastService",[]).controller("toastController",["$mdToast","toastApp",function(e,t){var o=this;o.message=t.message,o.closeToast=function(){e.hide()}}]).factory("toastApp",e),e.$inject=["$mdToast"]}(),function(){"use strict";function e(e,t){e.state("init",{url:"/",templateUrl:"views/pages/initpage.html",controller:"loginController as vm"}).state("init.login",{url:"login",views:{"content-tab":{templateUrl:"views/pages/userlogin.html",controller:"loginController as vm"}}}).state("init.signup",{url:"signup",views:{"content-tab":{templateUrl:"views/pages/signup.html",controller:"signupController as vm"}}}).state("init.rescuepassword",{url:"rescuepassword",views:{"content-tab":{templateUrl:"views/pages/rescuepassword.html",controller:"signupController as vm"}}}).state("startproblem",{url:"/startproblem",templateUrl:"views/pages/startproblem.html",controller:"startProblemController as vm"}).state("profile",{url:"/profile",templateUrl:"views/pages/profile.html",controller:"profileController as vm"}).state("dscreport",{url:"/dscreport",templateUrl:"views/pages/problemreport.html",controller:"problemReportController as vm"}).state("newpassword",{url:"/newpassword/:mytoken",templateUrl:"views/pages/newpassword.html",controller:"signupController as vm"}).state("problem",{url:"/problem",templateUrl:"views/pages/problem.html",controller:"menuProblemController as vm"}).state("problem.description",{url:"/description",views:{"problem-description":{templateUrl:"views/pages/problemdescription.html",controller:"editProblemController as vm"}}}).state("problem.collaborators",{url:"/collaborators",views:{"problem-description":{templateUrl:"views/pages/collaborators.html",controller:"controllerCollaborators as vm"}}}).state("problem.stakeholders",{url:"/stakeholders",views:{"dsc-artifact":{templateUrl:"views/pages/stakeholders.html",controller:"stakeholderController as vm"}}}).state("problem.evaluationframework",{url:"/evaluationframework",views:{"dsc-artifact":{templateUrl:"views/pages/evaluationframework.html",controller:"evaluationframeworkController as vm"}}}).state("problem.semioticframework",{url:"/semioticframework",views:{"dsc-artifact":{templateUrl:"views/pages/semioticframework.html",controller:"semioticframeworkController as vm"}}}).state("problem.carf",{url:"/carf",views:{"dsc-artifact":{templateUrl:"views/pages/carf.html",controller:"carfController as vm"}}}).state("problem.vif",{url:"/vif",views:{"dsc-artifact":{templateUrl:"views/pages/vif.html",controller:"valueIdentificationFrameController as vm"}}}).state("problem.onion",{url:"/onion",views:{"dsc-artifact":{templateUrl:"views/pages/onion.html",controller:"onionController as vm"}}}),t.otherwise("/login")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.useStaticFilesLoader({prefix:"app/language/lang-",suffix:".json"}),e.preferredLanguage("en"),e.useSanitizeValueStrategy("escaped"),e.useLocalStorage()}function t(e){function t(t){e.use(t)}var o=this;o.setLang=t}function o(){return{templateUrl:"app/language/changeLanguage.html",restrict:"E"}}angular.module("app").config(e).controller("languageController",t).directive("changeLanguage",o),e.$inject=["$translateProvider"],t.$inject=["$translate"]}(),function(){"use strict";function e(e,t,o,r){function n(){p.idProblem=e.localStorage.getItem("problemid"),o.getcarf(p.idProblem).success(function(e){e.success&&(p.localStakeholders=e.stakeholders,p.stakeholderList=p.localStakeholders,p.carfList=e.carf,p.carfPriorityList=p.localPriorityList)}),p.inProcessing=!1}function a(){p.carf={_id:"",pms:"",values:[],priority:"",requirement:"",stakeholders:[]},p.valueList=[]}function i(e){""===e.pms?r.errorMessage("Select PMS"):e.values.length<1?r.errorMessage("Select one or more Value"):e.stakeholders.length<1?r.errorMessage("Select one or more Stakeholder(s)"):""===e.priority?r.errorMessage("Select priority [Low, Medium or High]"):(t.emit("broadcastCARFadd",e),p.stakeholderList=[],p.carfPriorityList=[])}function s(e,o){var r={index:e,carf:o};t.emit("broadcastCARFremove",r)}function l(e){void 0!==e&&angular.forEach(p.carfPMSValue,function(t){return t.pms==e?(p.carf.values=[],void(p.valueList=t.values)):void 0})}function c(e){p.carf.priority=e}function u(e){if(0===p.carf.values.length)p.carf.values.push(e);else{for(var t=0;t<p.carf.values.length;t++)if(e==p.carf.values[t])return void p.carf.values.splice(t,1);p.carf.values.push(e)}}function m(e){if(0===p.carf.stakeholders.length)p.carf.stakeholders.push(e);else{for(var t=0;t<p.carf.stakeholders.length;t++)if(e==p.carf.stakeholders[t])return void p.carf.stakeholders.splice(t,1);p.carf.stakeholders.push(e)}}var p=this;p.idProblem="",p.inProcessing=!0,p.valueList=[],p.stakeholderList=[],p.localStakeholders=[],p.addpmsvalue=i,p.removeCARF=s,p.selectPMSValue=l,p.setPriotity=c,p.addListValue=u,p.addStakeholder=m,p.carf={pms:"",values:[],priority:"",requirement:"",stakeholders:[]},p.initCarf=n,p.carfList=[],p.carfPriorityList=[],t.on("onBroadcastCARFadd",function(e){p.carfList.push(e),a(),p.stakeholderList=p.localStakeholders,p.carfPriorityList=p.localPriorityList}),t.on("onBroadcastCARFremove",function(e){p.carfList.splice(e,1)}),p.localPriorityList=["Low","Medium","High"],p.carfPMSValue=[{pms:"Interaction",values:["Identity","Norms"]},{pms:"Association",values:["Conversation","Groups","Relationship","Trust"]},{pms:"Learning",values:["Meta-communication"]},{pms:"Play",values:["Aesthetics","Emotion and Affection"]},{pms:"Protection",values:["Informed consert","Reputation","Security"]},{pms:"Exploitation",values:["Accessibility","Object","Property (ownership)","Usability"]},{pms:"Teporality",values:["Availability","Awareness","Presence"]},{pms:"Territoriality",values:["Portability","Privacy","Scalability","Visibility"]},{pms:"Classification",values:["Autonomy","Collaboration","Sharing","Adaptability"]},{pms:"Subsistence",values:["Reciprocity"]}]}angular.module("app").controller("carfController",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r){function n(){u.isOpenChat=!u.isOpenChat,document.getElementById("message").focus()}function a(){u.idProblem=r.localStorage.getItem("problemid"),u.nickname=r.localStorage.getItem("nickname"),u.photo=r.localStorage.getItem("photo"),o.gethistorychat(u.idProblem).success(function(e){if(e.success)for(var t=0;t<e.historychat.length;t++){var o=new Date(e.historychat[t].time),r={nickname:e.historychat[t].nickname,msg:e.historychat[t].msg,time:o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear()+" ["+o.getHours()+":"+o.getMinutes()+"] "};u.messages.push(r)}}),t.emit("checkUsers")}function i(){u.replay?u.replay=!1:u.replay=!0}function s(e){void 0===e||e.length<2||(t.emit("broadcastChat",e),u.newmsg="",u.contador=0)}function l(){u.contador=0}function c(t,o){13==t.keyCode&&(u.contador++,1==u.contador&&e(l,2e3),u.contador>1&&s(o))}var u=this;u.newmsg="",u.messages=[],u.replay=!1,u.nickname="",u.userList=[],u.initHistoryChat=a,u.showReplay=i,u.sendMessage=s,u.photo="",u.openChat=n,u.isOpenChat=!1,u.keypressChat=c,u.contador=0,t.on("onBroadcastChat",function(e){var t=new Date(e[e.length-1].time);u.messages.push({nickname:e[e.length-1].nickname,msg:e[e.length-1].msg,time:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" ["+t.getHours()+":"+t.getMinutes()+"] "})}),t.on("onCheckUsers",function(e){u.userList=e})}angular.module("app").controller("chatDSC",e),e.$inject=["$timeout","Socket","problemService","$window"]}(),function(){"use strict";function e(e,t,o,r){function n(){l.idProblem=e.localStorage.getItem("problemid"),l.useremail=e.localStorage.getItem("useremail"),o.getcollaborators(l.idProblem).success(function(e){e.success?l.collaborators=e.collaborators:r.errorMessage(e.message)})}function a(e){for(var t=0;t<l.collaborators.length;t++)if(e==l.collaborators[t].email)return!0;return!1}function i(e){if(l.useremail==e)r.errorMessage(l.useremail+" is email of owner.");else if(a(e))r.errorMessage("Usuario Cadastrado.");else{var t={idproblem:l.idProblem,email:e};o.invite(t).success(function(e){e.success?l.collaborators=e.collaborators:r.errorMessage(e.message)})}}function s(e){var t={idproblem:l.idProblem,email:e.email};o.removecollaborators(t).success(function(e){e.success?(r.errorMessage("Colaborador foi removido do projeto."),l.collaborators=e.collaborators):r.errorMessage(e.message)})}var l=this;l.idProblem="",l.collaborators=[],l.useremail="",l.initCollaborators=n,l.addCollaborator=i,l.removeCollaborator=s}angular.module("app").controller("controllerCollaborators",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(){function e(e){var t=document.getElementById("projectResport"),o=new jsPDF("l","px");o.addHTML(t,0,0,{pagesplit:!0},function(e){o.save("test.pdf")})}var t=this;t.idproblem="ajflajfljalfjaljf",t.buidReport=e}angular.module("app").controller("dscReportController",e)}(),function(){"use strict";function e(e,t,o,r){function n(){s.idproblem=e.localStorage.getItem("problemid"),t.getevaluation(s.idproblem).success(function(e){e.success?s.evaluationframeworkList=e.evaluationframework:r.errorMessage(e.message)})}function a(e){o.emit("broadcastFrameSave",e)}function i(e){e.openEdit=!0}var s=this;s.evaluationframeworkList=[],s.initEvaluation=n,s.setOpenEditDiscution=i,s.saveFrame=a,o.on("onBroadcastFrameEdit",function(e){angular.forEach(s.evaluationframeworkList,function(t){t.onionlayer==e.onionlayer&&angular.forEach(t.stakeholders,function(t){t._id==e._id&&(t.name=e.name,t.onionlayer=e.onionlayer,t.description=e.description,t.openEdit=e.openEdit,t.problems=e.problems,t.solutions=e.solutions)})})}),o.on("onUpdateStakeholder",function(e){})}angular.module("app").controller("evaluationframeworkController",e),e.$inject=["$window","problemService","Socket","toastApp"]}(),function(){"use strict";function e(e,t,o,r,n,a,i){function s(){d.nickname=r.localStorage.getItem("nickname"),d.idProblem=r.localStorage.getItem("problemid"),n.getproblem(d.idProblem).success(function(e){e.success?(d.problem=e.problem,angular.forEach(e.problem.artifacts,function(e){var o=e.split("_");d.dsc_artifacts.push({name:"problem."+o[2].toLowerCase(),label:t("translate")(e)})})):a.errorMessage(e.message)})}function l(){o.go("startproblem")}function c(){o.go("problem.collaborators")}function u(){o.go("dscreport")}function m(){o.go("problem.description")}function p(){e.logout(),o.go("init.login")}var d=this;d.formAddCollaborators=c,d.editDescriptionProblem=m,d.doLogout=p,d.systemReturn=l,d.formProblemReport=u,d.getCurrentProblem=s,d.nickname,d.dsc_artifacts=[]}angular.module("app").controller("menuProblemController",e),e.$inject=["Auth","$filter","$state","$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,r,n){var a=this;a.idproblem="",a.intiMytOnion=intiMytOnion,a.savePostItOnion=savePostItOnion,a.editPostItOnion=editPostItOnion,a.delPostItOnion=delPostItOnion,a.addPostItOnion=addPostItOnion,a.onOnion=onOnion,a.offOnion=offOnion}angular.module("app").controller("onionController",e),e.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(),function(){"use strict";function e(e,t,o,r,n){function a(){c.nickname=r.localStorage.getItem("nickname"),c.idProblem=r.localStorage.getItem("problemid"),c.localcode=r.localStorage.getItem("localcode"),n.getproblem(c.idProblem).success(function(e){e.success?c.problem=e.problem:o.errorMessage(e.message)})}function i(){u=!0}function s(o){o.update=u,o.localcode=c.localcode,e.emit("atualizarProblema",o),u&&(u=!1,t(i,2e3))}function l(t){t.localcode=c.localcode,t.update=u,e.emit("atualizarProblema",t)}var c=this,u=!0;c.problem="",c.problemUpdate=s,c.getCurrentProblem=a,c.saveDescription=l,c.nickname="",c.localcode="",e.on("onAtualizarProblema",function(e){c.localcode!==e.localcode&&(c.problem.description=e.description),c.problem.update=u})}angular.module("app").controller("editProblemController",e),e.$injectre=["$scope","Socket"],e.$inject=["Socket","$timeout","toastApp","$window","problemService"]}(),function(){"use strict";function e(e,t,o,r){function n(){i.idProblem=e.localStorage.getItem("problemid"),t.getproblemreport(i.idProblem).success(function(e){e.success?(angular.forEach(e.problem.stakeholders,function(e){e.x=parseInt(e.x.substring(0,e.x.length-2))-100+"px",e.y=parseInt(e.y.substring(0,e.y.length-2))+400+"px"}),i.problem=e.problem):o.errorMessage(e.message)})}function a(){r.go("problem.stakeholders")}var i=this;i.idProblem,i.problem,i.initProblemPeport=n,i.systemReturn=a}angular.module("app").controller("problemReportController",e),e.$inject=["$window","problemService","toastApp","$state"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(v,t)}function r(t){return e.get(w+"?idproblem="+t)}function n(t){return e.get(k+"?idproblem="+t)}function a(t){return e.get(b+"?email="+t)}function i(t){return e.get(y+"?idproblem="+t)}function s(t){return e.post(S,t)}function l(t){return e.get(P+"?idproblem="+t)}function c(t){return e.get(C+"?idproblem="+t)}function u(t){return e.get($+"?idproblem="+t)}function m(t){return e.get(I+"?idproblem="+t)}function p(t){return e.get(L+"?idproblem="+t)}function d(t){return e.get(h+"?email="+t)}function g(t){return e.get(A+"?idproblem="+t.idproblem+"&email="+t.email)}function f(t){return e.get(E+"?idproblem="+t)}var b="/api/problem/getproblems",h="/api/problem/getproblemscollaborator",v="/api/problem/newproblem",k="/api/problem/getproblem",w="/api/problem/getproblemreport",y="/api/problem/getcollaborators",S="/api/problem/invite",P="/api/problem/getonion",C="/api/problem/getevaluation",$="/api/problem/getsemiotic",I="/api/problem/getcarf",L="/api/problem/removeproblem",A="/api/problem/removecollaborator",E="/api/problem/historychat",M={newproblem:o,getuserproblems:a,getproblem:n,getcollaborators:i,invite:s,getonion:l,getevaluation:c,getsemiotic:u,getcarf:m,removeproblem:p,getproblemscollaborator:d,removecollaborators:g,gethistorychat:f,getproblemreport:r};return M}angular.module("app").factory("problemService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e,t,o,r){function n(){m.idproblem=t.localStorage.getItem("problemid"),o.getsemiotic(m.idproblem).success(function(e){e.success?m.semioticframework=e.semioticframework:r.errorMessage(e.message)})}function a(t,o){var r={text:t,update:o};e.emit("updateSocialWorld",r)}function i(t,o){var r={text:t,update:o};e.emit("updatePragmatic",r)}function s(t,o){var r={text:t,update:o};e.emit("updateSemantic",r)}function l(t,o){var r={text:t,update:o};e.emit("updateSyntatic",r)}function c(t,o){var r={text:t,update:o};e.emit("updateEmpirical",r)}function u(t,o){var r={text:t,update:o};e.emit("updatePhysical",r)}var m=this;m.idproblem="",m.saveSocialWorld=a,m.savePragmatic=i,m.saveSemantic=s,m.saveSyntatic=l,m.saveEmpirical=c,m.savePhysical=u,m.semioticframework="",m.initSemioticFramework=n,e.on("onUpdateSocialWorld",function(e){m.semioticframework.socialworld=e}),e.on("onUpdatePragmatic",function(e){m.semioticframework.pragmatic=e}),e.on("onUpdateSemantic",function(e){m.semioticframework.semioticramework=e}),e.on("onUpdateSyntatic",function(e,t){m.semioticframework.syntatic=e}),e.on("onUpdateEmpirical",function(e){m.semioticframework.empirical=e}),e.on("onUpdatePhysical",function(e){m.semioticframework.physical=e})}angular.module("app").controller("semioticframeworkController",e),e.$inject=["Socket","$window","problemService","toastApp"]}(),function(e){"use strict";function t(e,t,o,r,n){function a(){d.idproblem=t.localStorage.getItem("problemid"),d.localcode=t.localStorage.getItem("localcode"),o.getonion(d.idproblem).success(function(e){e.success?d.stakeholderList=e.stakeholders:n.errorMessage(e.message)}),d.inProcessing=!1}function i(t){e.emit("broadcastOnionSave",t)}function s(t){e.emit("broadcastOnionEdit",t)}function l(t,o){var r={index:t,stakeholder:o};e.emit("broadcastOnionRemove",r)}function c(e,t,o){var n=r.confirm().parent(angular.element(document.body)).title("Detete Stakeholder?").content("Title: "+o.name).ariaLabel("Remove Stakeholder").ok("Yes!").cancel("Cancel").targetEvent(e);r.show(n).then(function(){l(t,o)})}function u(t,o){var r={onionlayer:o,name:"",description:"",openEdit:!0,x:t.pageX+"px",y:t.pageY+"px",zindex:9999};e.emit("broadcastOnionAdd",r)}function m(e){document.getElementById("name"+e).setAttribute("style","text-decoration: underline;"),document.getElementById("legend"+e).setAttribute("opacity","0.7"),document.getElementById(e).setAttribute("opacity","0.7")}function p(e){document.getElementById("name"+e).setAttribute("style","text-decoration: none;"),document.getElementById("legend"+e).setAttribute("opacity","1.0"),document.getElementById(e).setAttribute("opacity","1.0")}var d=this;d.idproblem="",d.stakeholderList=[],d.stakeholder="",d.intitOnion=a,d.move=!1,d.inProcessing=!0,d.saveStakeholder=i,d.setOpenEdit=s,d.delPostIt=c,d.addPostIt=u,d.acende=m,d.apaga=p,d.localcode="",e.on("onBroadcastOnionSave",function(e){angular.forEach(d.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.zindex=9999)})}),e.on("onBroadcastOnionEdit",function(e){angular.forEach(d.stakeholderList,function(t){t._id===e&&(t.openEdit=!0,t.zindex=9999)})}),e.on("onBroadcastOnionRemove",function(e){var t=document.getElementById("stakeholder"+d.stakeholderList[e]._id);t.style.display="none",d.stakeholderList.splice(e,1)}),e.on("onBroadcastMove",function(e){d.localcode!==e.localcode&&(document.getElementById("stakeholder"+e._id).style.left=e.x,document.getElementById("stakeholder"+e._id).style.top=e.y)}),e.on("onBroadcastOnionAdd",function(e){d.stakeholderList.push(e)})}angular.module("app").controller("stakeholderController",t),t.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(this),function(){"use strict";function e(e,t,o,r,n,a,i){function s(){b.userid=n.localStorage.getItem("userid"),b.nickname=n.localStorage.getItem("nickname"),b.useremail=n.localStorage.getItem("useremail"),b.photo=n.localStorage.getItem("photo"),a.getuserproblems(b.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description.length>300?e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,280):e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"");b.problemList=e.problems,a.getproblemscollaborator(b.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)null!==e.problems[t].description&&(e.problems[t].description.length>300?e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,280):e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,""));b.problemCollaboratorList=e.problems}else i.errorMessage(e.message)})}else i.errorMessage(e.message)}),b.loginInProgress=!1}function l(e){a.removeproblem(e).success(function(t){if(t.success){for(var o=0;o<b.problemList.length;o++)if(b.problemList[o]._id==e){b.problemList.splice(o,1);break}}else i.errorMessage(t.message)})}function c(t,o){var r=e.confirm().parent(angular.element(document.body)).title("Detete Problem?").content("Title: "+o.title).ariaLabel("Remove Problem").ok("Desejo remover!").cancel("Cancel").targetEvent(t);e.show(r).then(function(){l(o._id)})}function u(e){e.userid=b.userid,a.newproblem(e).success(function(e){e.success?b.editProblem(e.problem):i.errorMessage(e.message)})}function m(e){n.localStorage.setItem("problemid",e._id);var o={idproblem:e._id,nickname:b.nickname};r.emit("initProblem",o),t.go("problem.stakeholders")}function p(){o.logout(),t.go("init.login")}function d(){t.go("profile")}function g(t){e.show({controller:f,templateUrl:"views/pages/newproblem.html",parent:angular.element(document.body),targetEvent:t})}function f(e,t,o){e.artifactList=[],e.hide=function(){o.hide()},e.cancel=function(){o.cancel()},e.addNewProblem=function(r){return e.artifactList.length<1?void i.errorMessage(t("translate")("LABEL_CHOICE_ARTIFACTS")):(r.artifacts=e.artifactList,b.startNewProblem(r),void o.cancel())},e.addArtifact=function(t){for(var o=0;o<e.artifactList.length;o++)if(e.artifactList[o]===t)return void e.artifactList.splice(o,1);e.artifactList.push(t)}}var b=this;b.nickname="",b.userid="",b.useremail="",b.problemList=[],b.problemCollaboratorList=[],b.loginInProgress=!0,b.getProblems=s,b.revomveProblem=c,b.startNewProblem=u,b.editProblem=m,b.doLogout=p,b.newProblem=g,b.editProfile=d,b.photo,f.$inject=["$scope","$filter","$mdDialog"]}angular.module("app").controller("startProblemController",e),e.$inject=["$mdDialog","$state","Auth","Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r){function n(){u.idproblem=e.localStorage.getItem("problemid"),t.getonion(u.idproblem).success(function(e){if(e.success){if(e.stakeholders.length>0){for(var t=1;t<u.sugestionValuesArray.length;t++)u.sugestionValues+=u.sugestionValuesArray[t]+", ";u.sugestionValues[u.sugestionValuesArray[u.sugestionValuesArray.length-1]]+".";for(var r=0;r<e.stakeholders.length;r++)for(var n=0;n<u.stakeholderList.length;n++){var a={_id:e.stakeholders[r]._id,onionlayer:e.stakeholders[r].onionlayer,values:e.stakeholders[r].values,name:e.stakeholders[r].name,description:e.stakeholders[r].description,openEdit:e.stakeholders[r].openEdit,x:e.stakeholders[r].x,y:e.stakeholders[r].y,newValues:[]};e.stakeholders[r].onionlayer!=u.stakeholderList[n].onionlayer||u.stakeholderList[n].stakeholders.push(a)}}u.inProcessing=!1}else o.errorMessage(e.message)})}function a(e){e.openEdit=!0}function i(e){e.openEdit=!1}function s(e,t){for(var o=[],n=0;n<t.values.length;n++)t.values[n]!=e&&o.push(t.values[n]);t.values=o,r.emit("broadcastOnionSave",t)}function l(e){if(""===e.newValues||void 0===e.newValues)o.errorMessage("Valor não especificado.");else{for(var t=e.newValues.split(","),n=0;n<t.length;n++)c(e.values,t[n])?o.errorMessage("Duplicate value: "+t[n]):e.values.push(t[n]);e.newValues="",e.openEdit=!1,r.emit("broadcastOnionSave",e)}}function c(e,t){for(var o=0;o<e.length;o++)if(t===e[o])return!0;return!1}var u=this;u.inProcessing=!0,u.idProblem="",u.useremail="",u.newvalues="",u.initValueIdentificationFrame=n,u.setSuggestionShow=a,u.leaveSuggestionShow=i,u.removeValueIdentication=s,u.setValueIdentication=l,u.sugestionValues="",u.stakeholderList=[{onionlayer:"Community",stakeholders:[]},{onionlayer:"Market",stakeholders:[]},{onionlayer:"Source",stakeholders:[]},{onionlayer:"Contribution",stakeholders:[]},{onionlayer:"Technico",stakeholders:[]}],u.sugestionValuesArray=["Acessibilidade","Adaptabilidade","Estética","Autonomia","Disponibilidade","Consciência","Colaboração","Conversação","Emoção e Afeto","Grupos","Identidade","Consentimento informado","Meta-comunicação","Normas","Objeto","Portabilidade","Presença","Privacidade","Propriedade","Reciprocidade, Relacionamento, Reputação","Escalabilidade","Segurança","Compartilhamento","Confiança","Usabilidade","Visibilidade"],r.on("onBroadcastOnionSave",function(e){angular.forEach(u.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.newValues=[])})})}angular.module("app").controller("valueIdentificationFrameController",e),e.$inject=["$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,r){function n(){t.go("startproblem")}function a(){s.userid=e.localStorage.getItem("userid"),void 0!==s.userid}function i(t){var o={userid:e.localStorage.getItem("userid"),photo:t};r.uploadPhoto(o).success(function(o){o.success?e.localStorage.setItem("photo",t):toastApp.errorMessage("-----")})}var s=this;s.startProfile=a,s.uploadInProgress=!0,s.uploadProgress=0,s.userid,s.savePhoto=i,s.systemReturn=n,s.myImage="",s.myCroppedImage="";var l=function(e){var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){o.$apply(function(t){t.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",l)}angular.module("app").controller("profileController",e),e.$inject=["$window","$state","$scope","signupService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i,s,l){function c(e){o.create(e).success(function(t){t.success?(n.errorMessage(s("translate")("WELCOME_SYSTEM")+e.nickname),r.go("init.login")):n.errorMessage("Email Já cadastrado")})}function u(t){e.use(t)}function m(e){o.rescuePassword(e).success(function(t){t.success?(n.errorMessage("Email com instruções enviado para "+e.email),r.go("init.login")):n.errorMessage("Error")})}function p(e){o.changePassword(e).success(function(e){e.success?(n.errorMessage("Senha alterada com sucesso. Faça login com a nova senha."),r.go("init.login")):n.errorMessage("Error")})}var d=this;d.message="",d.saveUser=c,d.rescuePassword=m,d.changePassword=p,d.setLang=u,d.loginInProgress=!1}angular.module("app").controller("signupController",e),e.$inject=["$translate","$window","signupService","$state","toastApp","AuthToken","Auth","$filter","$stateParams"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(i,t)}function r(t){return e.post(s,t)}function n(o){var r=t.search();return e.get(l+"?mytoken="+r.mytoken+"&password="+o.password)}function a(t){return e.post(c,t)}var i="/api/signup/",s="/api/rescuepasswd/",l="/api/rescuepasswd/newpasswd/",c="/api/profile/photo/",u={create:o,rescuePassword:r,changePassword:n,uploadPhoto:a};return u}angular.module("app").factory("signupService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e){var t=e.extendPalette("teal",{50:"E0F2F1",100:"B2DFDB",200:"80CBC4",300:"4DB6AC",400:"26A69A",500:"009688",600:"00897B",700:"00796B",800:"00695C",900:"004D40",A100:"A7FFEB",A200:"64FFDA",A400:"1DE9B6",A700:"00BFA5",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0});e.definePalette("teal",t),e.theme("default").primaryPalette("teal").accentPalette("green")}angular.module("app").config(e),e.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";angular.module("authService",[]).factory("Auth",["$http","$q","AuthToken",function(e,t,o){var r={};return r.login=function(t,r){return e.post("/api/login",{email:t,password:r}).success(function(e){return o.setToken(e.token),e})},r.logout=function(){o.setToken()},r.isLoggedIn=function(){return o.getToken()?!0:!1},r.getUser=function(r){return o.getToken()?e.get("/api/me/?userid="+r):t.reject({message:"User has no token"})},r}]).factory("AuthToken",["$window",function(e){var t={};return t.getToken=function(){return e.localStorage.getItem("token")},t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token")},t}]).factory("AuthInterceptor",["$q","$location","AuthToken",function(e,t,o){var r={};return r.request=function(e){var t=o.getToken();return t&&(e.headers["x-access-token"]=t),e},r}])}(),angular.module("DropDSC",[]).directive("draggable",["$document","Socket","$window",function(e,t,o){return{restrict:"A",replace:!0,link:function(r,n,a){function i(e){var t=e.target.id;"svg"==t&&(t=""),r.stakeholder.onionlayer=t,y=e.pageY,x=e.pageX,n.css({top:y+"px",left:x+"px"}),r.stakeholder.x=x+"px",r.stakeholder.y=y+"px"}function s(){e.unbind("mousemove",i),e.unbind("mouseup",s),t.emit("broadcastMove",r.stakeholder)}n.on("mousedown",function(t){"stakeholder"==t.target.id.substring(0,11)&&(r.stakeholder.localcode=o.localStorage.getItem("localcode"),t.preventDefault(),e.bind("mousemove",i),e.bind("mouseup",s))})}}}]),function(e){angular.module("appRxDrag",["rx"]).directive("rxdraggable",["$document","$window","rx","Socket",function(e,t,o,r){return function(n,a,i){var s=t.localStorage.getItem("localcode"),l=o.Observable.fromEvent(a,"mouseup"),c=o.Observable.fromEvent(e,"mousemove"),u=o.Observable.fromEvent(a,"mousedown").map(function(e){return e.preventDefault(),{left:e.clientX-a[0].getBoundingClientRect().left,top:e.clientY-a[0].getBoundingClientRect().top}}),m=u.selectMany(function(e){return c.map(function(t){return{left:t.clientX-e.left,top:t.clientY-e.top}}).takeUntil(l)});m.subscribe(function(e){a.css({top:e.top+"px",left:e.left+"px"}),e.localcode=s,r.emit("broadcastMove",e)})}}])}.call(this),function(){"use strict";function e(e,t,o,r,n,a,i){function s(t){e.use(t)}function l(){return Math.random()+Math.floor(10*Math.random())}function c(e){m.inProcessing=!0,m.error="",r.login(e.email,e.password).success(function(e){n.localStorage.setItem("useremail",e.email),n.localStorage.setItem("userid",e.id),n.localStorage.setItem("localcode",e.id+"-"+l()),n.localStorage.setItem("nickname",e.nickname),m.setLang(e.language),m.inProcessing=!1,r.getUser(e.id).then(function(t){i.errorMessage(a("translate")("WELCOME_SYSTEM")+": "+e.nickname),e.success?(n.localStorage.setItem("photo",t.data.photo),o.go("startproblem")):i.errorMessage("Usuário e senha não conferem.")})})}function u(){r.logout(),o("init")}var m=this;m.inProcessing=!1,m.setLang=s,m.doLogout=u,m.doLogin=c,m.loggedIn=r.isLoggedIn(),t.$on("$routeChangeStart",function(){m.loggedIn=r.isLoggedIn(),r.getUser().then(function(e){m.user=e.data})})}angular.module("app").controller("loginController",e),e.$inject=["$translate","$rootScope","$state","Auth","$window","$filter","toastApp"]}(),function(){"use strict";angular.module("app").service("Socket",["$location","$timeout",function(e,t){this.socket=io(),this.on=function(e,o){this.socket&&this.socket.on(e,function(e){t(function(){o(e)})})},this.emit=function(e,t){this.socket&&this.socket.emit(e,t)},this.removeListener=function(e){this.socket&&this.socket.removeListener(e)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRzYy5hcHAuanMiLCJ0b2FzdC5zZXJ2aWNlLmpzIiwicm91dGVyLmFwcC5qcyIsImFwcC5kc2MubWluLmpzIiwibGFuZ3VhZ2UvdHJhbnNsYXRlLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2NhcmYuY29udHJvbGxlci5qcyIsInByb2JsZW0vY2hhdC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9jb2xsYWJvcmF0b3JzLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2RzY3Jlc3BvcnQuY29udHJvbGxlci5qcyIsInByb2JsZW0vZXZhbHVhdGlvbmZyYW1ld29yay5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9tZW51LnByb2JsZW0uY29udHJvbGxlci5qcyIsInByb2JsZW0vb25pb24uY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3Byb2JsZW0ucmVwb3J0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3Byb2JsZW0uc2VydmljZS5qcyIsInByb2JsZW0vc2VtaW90aWNmcmFtZXdvcmsuZWRpdC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9zdGFrZWhvbGRlci5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3N0YXJ0LnByb2JsZW0uY29udHJvbGxlci5qcyIsInByb2JsZW0vdmFsdWVkZW50aWZpY2F0aW9uZnJhbWUuY29udHJvbGxlci5qcyIsInVzZXIvcHJvZmlsZS5jb250cm9sbGVyLmpzIiwidXNlci9zaWdudXAuY29udHJvbGxlci5qcyIsInVzZXIvc2lnbnVwLnNlcnZpY2UuanMiLCJhcHAuY29uZmlnLmpzIiwiYXV0aC5zZXJ2aWNlLmpzIiwiZHJhZy5kc2MuanMiLCJkcmFncnguZHNjLmpzIiwibG9naW4uY29udHJvbGxlci5qcyIsInNvY2tldC5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkaHR0cFByb3ZpZGVyIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsInRvYXN0QXBwIiwiJG1kVG9hc3QiLCJlcnJvck1lc3NhZ2UiLCJ0aGlzIiwibWVzc2FnZSIsInNob3ciLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwidGVtcGxhdGVVcmwiLCJhY3Rpb24iLCJoaWdobGlnaHRBY3Rpb24iLCJwb3NpdGlvbiIsImhpZGVEZWxheSIsInNlcnZpY2UiLCJzZWxmIiwiY2xvc2VUb2FzdCIsImhpZGUiLCJmYWN0b3J5IiwiJGluamVjdCIsInJvdXRlcyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsImNvbnRlbnQtdGFiIiwicHJvYmxlbS1kZXNjcmlwdGlvbiIsImRzYy1hcnRpZmFjdCIsIm90aGVyd2lzZSIsImluaXRMYW5ndWFnZSIsIiR0cmFuc2xhdGVQcm92aWRlciIsInVzZVN0YXRpY0ZpbGVzTG9hZGVyIiwicHJlZml4Iiwic3VmZml4IiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJsYW5ndWFnZUNvbnRyb2xsZXIiLCIkdHJhbnNsYXRlIiwic2V0TGFuZyIsImxhbmdLZXkiLCJ1c2UiLCJjaGFuZ2VMYW5ndWFnZSIsInJlc3RyaWN0IiwiZGlyZWN0aXZlIiwiY2FyZkNvbnRyb2xsZXIiLCIkd2luZG93IiwiU29ja2V0IiwicHJvYmxlbVNlcnZpY2UiLCJpbml0Q2FyZiIsImlkUHJvYmxlbSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJnZXRjYXJmIiwic3VjY2VzcyIsImRhdGEiLCJsb2NhbFN0YWtlaG9sZGVycyIsInN0YWtlaG9sZGVycyIsInN0YWtlaG9sZGVyTGlzdCIsImNhcmZMaXN0IiwiY2FyZiIsImNhcmZQcmlvcml0eUxpc3QiLCJsb2NhbFByaW9yaXR5TGlzdCIsImluUHJvY2Vzc2luZyIsInJlc2V0Q2FyZiIsIl9pZCIsInBtcyIsInZhbHVlcyIsInByaW9yaXR5IiwicmVxdWlyZW1lbnQiLCJ2YWx1ZUxpc3QiLCJhZGRwbXN2YWx1ZSIsImxlbmd0aCIsImVtaXQiLCJyZW1vdmVDQVJGIiwiaW5kZXgiLCJvYmoiLCJzZWxlY3RQTVNWYWx1ZSIsInVuZGVmaW5lZCIsImZvckVhY2giLCJjYXJmUE1TVmFsdWUiLCJwbXNfdmFsdWUiLCJzZXRQcmlvdGl0eSIsImFkZExpc3RWYWx1ZSIsIm5ld3ZhbHVlIiwiaSIsInNwbGljZSIsImFkZFN0YWtlaG9sZGVyIiwibmV3U3Rha2Vob2xkZXIiLCJvbiIsImlkIiwiY2hhdERTQyIsIiR0aW1lb3V0Iiwib3BlbkNoYXQiLCJpc09wZW5DaGF0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImZvY3VzIiwiaW5pdEhpc3RvcnlDaGF0Iiwibmlja25hbWUiLCJwaG90byIsImdldGhpc3RvcnljaGF0IiwiaGlzdG9yeWNoYXQiLCJ0bXAiLCJEYXRlIiwidGltZSIsIm1zbiIsIm1zZyIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwibWVzc2FnZXMiLCJzaG93UmVwbGF5IiwicmVwbGF5Iiwic2VuZE1lc3NhZ2UiLCJjaGF0bXNnIiwibmV3bXNnIiwiY29udGFkb3IiLCJ6ZXJhckNvbnRhZG9yIiwia2V5cHJlc3NDaGF0IiwiZXZlbnQiLCJrZXlDb2RlIiwidXNlckxpc3QiLCJjb250cm9sbGVyQ29sbGFib3JhdG9ycyIsImluaXRDb2xsYWJvcmF0b3JzIiwidXNlcmVtYWlsIiwiZ2V0Y29sbGFib3JhdG9ycyIsImNvbGxhYm9yYXRvcnMiLCJzZWFyY2hDYWxsYWJvcmF0aW9uIiwiZW1haWwiLCJhZGRDb2xsYWJvcmF0b3IiLCJpbnZpdGUiLCJpZHByb2JsZW0iLCJyZW1vdmVDb2xsYWJvcmF0b3IiLCJwZW9wbGUiLCJyZW1vdmVjb2xsYWJvcmF0b3JzIiwiZHNjUmVwb3J0Q29udHJvbGxlciIsImJ1aWRSZXBvcnQiLCJlbGVtZW50IiwiaHRtbCIsInBkZiIsImpzUERGIiwiYWRkSFRNTCIsInBhZ2VzcGxpdCIsImRpc3Bvc2UiLCJzYXZlIiwiZXZhbHVhdGlvbmZyYW1ld29ya0NvbnRyb2xsZXIiLCJpbml0RXZhbHVhdGlvbiIsImdldGV2YWx1YXRpb24iLCJldmFsdWF0aW9uZnJhbWV3b3JrTGlzdCIsImV2YWx1YXRpb25mcmFtZXdvcmsiLCJzYXZlRnJhbWUiLCJzdGFrZWhvbGRlciIsInNldE9wZW5FZGl0RGlzY3V0aW9uIiwiY3VycmVudFN0YWtlaG9sZGVyIiwib3BlbkVkaXQiLCJvbmlvbmxheWVyIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicHJvYmxlbXMiLCJzb2x1dGlvbnMiLCJzdGFrZWhvbGRlck9uaW9uIiwibWVudVByb2JsZW1hQ29udHJvbGxlciIsIkF1dGgiLCIkZmlsdGVyIiwiJHN0YXRlIiwiZ2V0Q3VycmVudFByb2JsZW0iLCJnZXRwcm9ibGVtIiwicHJvYmxlbSIsImFydGlmYWN0cyIsImFydGlmYWN0Iiwic3BsaXQiLCJkc2NfYXJ0aWZhY3RzIiwidG9Mb3dlckNhc2UiLCJsYWJlbCIsInN5c3RlbVJldHVybiIsImdvIiwiZm9ybUFkZENvbGxhYm9yYXRvcnMiLCJmb3JtUHJvYmxlbVJlcG9ydCIsImVkaXREZXNjcmlwdGlvblByb2JsZW0iLCJkb0xvZ291dCIsImxvZ291dCIsIm9uaW9uQ29udHJvbGxlciIsIiRtZERpYWxvZyIsImludGlNeXRPbmlvbiIsInNhdmVQb3N0SXRPbmlvbiIsImVkaXRQb3N0SXRPbmlvbiIsImRlbFBvc3RJdE9uaW9uIiwiYWRkUG9zdEl0T25pb24iLCJvbk9uaW9uIiwib2ZmT25pb24iLCJlZGl0UHJvYmxlbWFDb250cm9sbGVyIiwibG9jYWxjb2RlIiwic2V0VXBkYXRlIiwidXBkYXRlVHJ1ZSIsInByb2JsZW1VcGRhdGUiLCJ1cGRhdGUiLCJzYXZlRGVzY3JpcHRpb24iLCJyZXRvcm5vIiwiJGluamVjdHJlIiwicHJvYmxlbVJlcG9ydENvbnRyb2xsZXIiLCJpbml0UHJvYmxlbVBlcG9ydCIsImdldHByb2JsZW1yZXBvcnQiLCJ4IiwicGFyc2VJbnQiLCJzdWJzdHJpbmciLCJ5IiwiJGh0dHAiLCIkbG9jYXRpb24iLCJuZXdwcm9ibGVtIiwicG9zdCIsIkFQSV9ST1VURV9ORVdQUk9CTEVNIiwiZ2V0IiwiQVBJX1JPVVRFX0dFVFBST0JMRU1SRVBPUlQiLCJBUElfUk9VVEVfR0VUUFJPQkxFTSIsImdldHVzZXJwcm9ibGVtcyIsIkFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVMiLCJBUElfUk9VVEVfR0VUQ09MTEFCT1JBVE9SUyIsIkFQSV9ST1VURV9JTlZJVEUiLCJnZXRvbmlvbiIsIkFQSV9ST1VURV9HRVRPTklPTiIsIkFQSV9ST1VURV9HRVRFVkFMVUFUSU9OIiwiZ2V0c2VtaW90aWMiLCJBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksiLCJBUElfUk9VVEVfR0VUQ0FSRiIsInJlbW92ZXByb2JsZW0iLCJBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSIsImdldHByb2JsZW1zY29sbGFib3JhdG9yIiwiQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiIsIkFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IiLCJBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQiLCJzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIiLCJpbml0U2VtaW90aWNGcmFtZXdvcmsiLCJzZW1pb3RpY2ZyYW1ld29yayIsInNhdmVTb2NpYWxXb3JsZCIsInRleHQiLCJmbGFnU2F2ZSIsInNhdmVQcmFnbWF0aWMiLCJzYXZlU2VtYW50aWMiLCJzYXZlU3ludGF0aWMiLCJzYXZlRW1waXJpY2FsIiwic2F2ZVBoeXNpY2FsIiwic29jaWFsd29ybGQiLCJwcmFnbWF0aWMiLCJzZW1pb3RpY3JhbWV3b3JrIiwic3ludGF0aWMiLCJlbXBpcmljYWwiLCJwaHlzaWNhbCIsInN0YWtlaG9sZGVyQ29udHJvbGxlciIsImludGl0T25pb24iLCJzYXZlU3Rha2Vob2xkZXIiLCJzZXRPcGVuRWRpdCIsInJlbW92ZVBvc3RJdCIsImRlbFBvc3RJdCIsImV2IiwiY29uZmlybSIsInBhcmVudCIsImJvZHkiLCJ0aXRsZSIsImNvbnRlbnQiLCJhcmlhTGFiZWwiLCJvayIsImNhbmNlbCIsInRhcmdldEV2ZW50IiwidGhlbiIsImFkZFBvc3RJdCIsImUiLCJjYW1hZGEiLCJwYWdlWCIsInppbmRleCIsImFjZW5kZSIsInNldEF0dHJpYnV0ZSIsImFwYWdhIiwibW92ZSIsInN0eWxlIiwiZGlzcGxheSIsImxlZnQiLCJ0b3AiLCJzdGFydFByb2JsZW1Db250cm9sbGVyIiwiZ2V0UHJvYmxlbXMiLCJ1c2VyaWQiLCJyZXBsYWNlIiwicHJvYmxlbUxpc3QiLCJwcm9ibGVtQ29sbGFib3JhdG9yTGlzdCIsImxvZ2luSW5Qcm9ncmVzcyIsImRlbGV0ZVByb2JsZW0iLCJwcm9ibGVtaWQiLCJyZXZvbXZlUHJvYmxlbSIsInN0YXJ0TmV3UHJvYmxlbSIsImVkaXRQcm9ibGVtIiwic2V0SXRlbSIsImluaXRzb2NrZXRwcm9ibGVtIiwiZWRpdFByb2ZpbGUiLCJuZXdQcm9ibGVtIiwiRGlhbG9nQ29udHJvbGxlciIsIiRzY29wZSIsImFydGlmYWN0TGlzdCIsImFkZE5ld1Byb2JsZW0iLCJhZGRBcnRpZmFjdCIsInZhbG9yIiwidmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlciIsImluaXRWYWx1ZUlkZW50aWZpY2F0aW9uRnJhbWUiLCJrIiwic3VnZXN0aW9uVmFsdWVzQXJyYXkiLCJzdWdlc3Rpb25WYWx1ZXMiLCJqIiwibmV3VmFsdWVzIiwic2V0U3VnZ2VzdGlvblNob3ciLCJsZWF2ZVN1Z2dlc3Rpb25TaG93IiwicmVtb3ZlVmFsdWVJZGVudGljYXRpb24iLCJ2YWx1ZSIsIm5ld0xpc3QiLCJzZXRWYWx1ZUlkZW50aWNhdGlvbiIsInZhbHVlc0xpc3QiLCJmaW5kVmFsdWUiLCJsaXN0IiwibmV3dmFsdWVzIiwicHJvZmlsZUNvbnRyb2xsZXIiLCJzaWdudXBTZXJ2aWNlIiwic3RhcnRQcm9maWxlIiwic2F2ZVBob3RvIiwibXlpbWFnZSIsInVzZXJQaG90byIsInVwbG9hZFBob3RvIiwidXBsb2FkSW5Qcm9ncmVzcyIsInVwbG9hZFByb2dyZXNzIiwibXlJbWFnZSIsIm15Q3JvcHBlZEltYWdlIiwiaGFuZGxlRmlsZVNlbGVjdCIsImV2dCIsImZpbGUiLCJjdXJyZW50VGFyZ2V0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiJGFwcGx5IiwidGFyZ2V0IiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsInF1ZXJ5U2VsZWN0b3IiLCJzaWdudXBDb250cm9sbGVyIiwiQXV0aFRva2VuIiwiJHN0YXRlUGFyYW1zIiwic2F2ZVVzZXIiLCJ1c2VyIiwiY3JlYXRlIiwicmVzY3VlUGFzc3dvcmQiLCJ1c2VyRW1haWwiLCJjaGFuZ2VQYXNzd29yZCIsIkFQSV9ST1VURV9VU0VSIiwiQVBJX1JPVVRFX1JFU0NVRVBBU1NXT1JEIiwibXl0b2tlblVSTCIsInNlYXJjaCIsIkFQSV9ST1VURV9TRVRORVdQQVNTV09SRCIsIm15dG9rZW4iLCJwYXNzd29yZCIsIkFQSV9ST1VURV9VUERBVEVQSE9UTyIsImFwcENvbmZpZyIsIiRtZFRoZW1pbmdQcm92aWRlciIsIm5lb25SZWRNYXAiLCJleHRlbmRQYWxldHRlIiwiNTAiLCIxMDAiLCIyMDAiLCIzMDAiLCI0MDAiLCI1MDAiLCI2MDAiLCI3MDAiLCI4MDAiLCI5MDAiLCJBMTAwIiwiQTIwMCIsIkE0MDAiLCJBNzAwIiwiY29udHJhc3REZWZhdWx0Q29sb3IiLCJjb250cmFzdERhcmtDb2xvcnMiLCJjb250cmFzdExpZ2h0Q29sb3JzIiwiZGVmaW5lUGFsZXR0ZSIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwiJHEiLCJhdXRoRmFjdG9yeSIsImxvZ2luIiwic2V0VG9rZW4iLCJ0b2tlbiIsImlzTG9nZ2VkSW4iLCJnZXRUb2tlbiIsImdldFVzZXIiLCJyZWplY3QiLCJhdXRoVG9rZW5GYWN0b3J5IiwicmVtb3ZlSXRlbSIsImludGVyY2VwdG9yRmFjdG9yeSIsInJlcXVlc3QiLCJoZWFkZXJzIiwiJGRvY3VtZW50IiwibGluayIsInNjb3BlIiwiYXR0ciIsIm1vdXNlbW92ZSIsImlkX2RpdiIsInBhZ2VZIiwiY3NzIiwibW91c2V1cCIsInVuYmluZCIsInByZXZlbnREZWZhdWx0IiwiYmluZCIsInJ4IiwiYXR0cnMiLCJPYnNlcnZhYmxlIiwiZnJvbUV2ZW50IiwibW91c2Vkb3duIiwibWFwIiwiY2xpZW50WCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFkiLCJtb3VzZWRyYWciLCJzZWxlY3RNYW55IiwiaW1hZ2VPZmZzZXQiLCJwb3MiLCJ0YWtlVW50aWwiLCJzdWJzY3JpYmUiLCJjYWxsIiwibG9naW5Db250cm9sbGVyIiwiJHJvb3RTY29wZSIsImdldExvY2FsQ29kZSIsIk1hdGgiLCJyYW5kb20iLCJmbG9vciIsImRvTG9naW4iLCJlcnJvciIsImxhbmd1YWdlIiwidXNlckRhdGEiLCJsb2dnZWRJbiIsIiRvbiIsInNvY2tldCIsImlvIiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJyZW1vdmVMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkNBR0EsV0FDQSxZQUVBQSxTQUNBQyxPQUFBLE9BQUEsWUFBQSxlQUFBLGNBQUEsbUJBQUEsWUFBQSxVQUFBLGNBQUEsWUFBQSxhQUFBLFlBQUEsWUFBQSwyQkFDQUMsUUFBQSxnQkFBQSxTQUFBQyxHQUNBQSxFQUFBQyxhQUFBQyxLQUFBLHlCQ05BLFdBRUEsWUFjQSxTQUFBQyxHQUFBQyxHQWdCQSxRQUFBQyxHQUFBQSxHQUNBQyxLQUFBQyxRQUFBRixFQUNBRCxFQUFBSSxNQUVBQyxXQUFBLGtCQUNBQyxhQUFBLEtBQ0FDLFlBQUEsNEJBQ0FDLE9BQUEsS0FDQUMsaUJBQUEsRUFDQUMsU0FBQSxZQUNBQyxVQUFBLE1BekJBLEdBQUFDLElBQ0FULFFBQUEsR0FDQUYsYUFBQUEsRUFFQSxPQUFBVyxHQWpCQW5CLFFBQUFDLE9BQUEsbUJBQ0FXLFdBQUEsbUJBQUEsV0FBQSxXQUFBLFNBQUFMLEVBQUFELEdB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QUEsU0EzQkE3RCxRQUNBQyxPQUFBLE9BQ0FXLFdBQUEsa0JBQUFxYSxHdkJvdUVRQSxFQUFnQnpaLFNBQVcsYUFBYyxhQUFjLFNBQVUsT0FBUSxVQUFXLFVBQVcsZXdCMXVFdkcsV0FFQSxZQUVBeEIsU0FDQUMsT0FBQSxPQUNBa0IsUUFBQSxVQUNBLFlBQUEsV0FDQSxTQUFBcU0sRUFBQXRILEdBRUF6RixLQUFBb2IsT0FBQUMsS0FLQXJiLEtBQUFzRixHQUFBLFNBQUFnVyxFQUFBQyxHQUNBdmIsS0FBQW9iLFFBQ0FwYixLQUFBb2IsT0FBQTlWLEdBQUFnVyxFQUFBLFNBQUFsWSxHQUNBcUMsRUFBQSxXQUNBOFYsRUFBQW5ZLFFBTUFwRCxLQUFBc0UsS0FBQSxTQUFBZ1gsRUFBQWxZLEdBQ0FwRCxLQUFBb2IsUUFDQXBiLEtBQUFvYixPQUFBOVcsS0FBQWdYLEVBQUFsWSxJQUlBcEQsS0FBQXdiLGVBQUEsU0FBQUYsR0FDQXRiLEtBQUFvYixRQUNBcGIsS0FBQW9iLE9BQUFJLGVBQUFGIiwiZmlsZSI6ImFwcC5kc2MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJyxbJ25nSW1nQ3JvcCcsJ3RvYXN0U2VydmljZScsJ3RleHRBbmd1bGFyJywnbHVlZ2cuZGlyZWN0aXZlcycsICdhcHBSeERyYWcnLCAnRHJvcERTQycsJ2F1dGhTZXJ2aWNlJywndWkucm91dGVyJywnbmdNYXRlcmlhbCcsJ25nTWRJY29ucycsJ25nQ29va2llcycsJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnXSlcclxuICAgICAgICAuY29uZmlnKGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnQXV0aEludGVyY2VwdG9yJyk7XHJcbiAgICAgICAgfSlcclxuXHJcbn0pKCk7XHJcblxyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNy8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCd0b2FzdFNlcnZpY2UnLFtdKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCd0b2FzdENvbnRyb2xsZXInLCBmdW5jdGlvbigkbWRUb2FzdCx0b2FzdEFwcCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZSA9ICB0b2FzdEFwcC5tZXNzYWdlO1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlVG9hc3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRtZFRvYXN0LmhpZGUoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5mYWN0b3J5KCAndG9hc3RBcHAnLCB0b2FzdEFwcCApO1xyXG5cclxuICAgIHRvYXN0QXBwLiRpbmplY3QgPSBbICckbWRUb2FzdCcgXTtcclxuXHJcbiAgICBmdW5jdGlvbiB0b2FzdEFwcCAoJG1kVG9hc3QpIHtcclxuICAgICAgICB2YXIgc2VydmljZSA9IHtcclxuICAgICAgICAgICAgbWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gc2VydmljZTtcclxuXHJcbiAgICAgICAgLypmdW5jdGlvbiBlcnJvck1lc3NhZ2UoZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgICAgICAgLnRleHRDb250ZW50KGVycm9yTWVzc2FnZSlcclxuICAgICAgICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgICAgICAgIC5oaWRlRGVsYXkoODAwKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0qL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBlcnJvck1lc3NhZ2UoZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9yTWVzc2FnZTtcclxuICAgICAgICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndG9hc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9kc2N0b2FzdC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiT0tcIixcclxuICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRBY3Rpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwidG9wIHJpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZURlbGF5OiA1MDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59KSgpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjUvMDYvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb25maWcocm91dGVzKTtcclxuXHJcbiAgICBmdW5jdGlvbiByb3V0ZXMoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG5cclxuXHJcbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2luaXQnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy8nLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2luaXRwYWdlLmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnbG9naW5Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnaW5pdC5sb2dpbicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ2xvZ2luJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdGFiJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3VzZXJsb2dpbi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnaW5pdC5zaWdudXAnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdzaWdudXAnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10YWInOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc2lnbnVwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbnVwQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnaW5pdC5yZXNjdWVwYXNzd29yZCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3Jlc2N1ZXBhc3N3b3JkJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdGFiJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Jlc2N1ZXBhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbnVwQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnc3RhcnRwcm9ibGVtJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3N0YXJ0cHJvYmxlbScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3N0YXJ0cHJvYmxlbS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzdGFydFByb2JsZW1Db250cm9sbGVyIGFzIHZtJ1xyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9maWxlJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3Byb2ZpbGUnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9maWxlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Byb2ZpbGVDb250cm9sbGVyIGFzIHZtJ1xyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdkc2NyZXBvcnQnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvZHNjcmVwb3J0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9ibGVtcmVwb3J0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvYmxlbVJlcG9ydENvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnbmV3cGFzc3dvcmQnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvbmV3cGFzc3dvcmQvOm15dG9rZW4nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9uZXdwYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvcHJvYmxlbScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Byb2JsZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWVudVByb2JsZW1Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0uZGVzY3JpcHRpb24nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvZGVzY3JpcHRpb24nLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAncHJvYmxlbS1kZXNjcmlwdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9ibGVtZGVzY3JpcHRpb24uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlZGl0UHJvYmxlbUNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0uY29sbGFib3JhdG9ycycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9jb2xsYWJvcmF0b3JzJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3Byb2JsZW0tZGVzY3JpcHRpb24nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvY29sbGFib3JhdG9ycy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbnRyb2xsZXJDb2xsYWJvcmF0b3JzIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLnN0YWtlaG9sZGVycycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9zdGFrZWhvbGRlcnMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3N0YWtlaG9sZGVycy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YWtlaG9sZGVyQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5ldmFsdWF0aW9uZnJhbWV3b3JrJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2V2YWx1YXRpb25mcmFtZXdvcmsnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2V2YWx1YXRpb25mcmFtZXdvcmsuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0uc2VtaW90aWNmcmFtZXdvcmsnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvc2VtaW90aWNmcmFtZXdvcmsnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3NlbWlvdGljZnJhbWV3b3JrLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmNhcmYnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvY2FyZicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvY2FyZi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NhcmZDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLnZpZicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy92aWYnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3ZpZi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0ub25pb24nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvb25pb24nLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL29uaW9uLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnb25pb25Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2xvZ2luJyk7XHJcblxyXG4gICAgfVxyXG5cclxufSkoKTtcclxuIixudWxsLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDE5LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhpbml0TGFuZ3VhZ2UpXHJcbiAgICAuY29udHJvbGxlcignbGFuZ3VhZ2VDb250cm9sbGVyJyxsYW5ndWFnZUNvbnRyb2xsZXIpXHJcbiAgICAuZGlyZWN0aXZlKCdjaGFuZ2VMYW5ndWFnZScsY2hhbmdlTGFuZ3VhZ2UpO1xyXG5cclxuaW5pdExhbmd1YWdlLiRpbmplY3QgPSBbJyR0cmFuc2xhdGVQcm92aWRlciddO1xyXG5sYW5ndWFnZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHRyYW5zbGF0ZSddO1xyXG5cclxuZnVuY3Rpb24gaW5pdExhbmd1YWdlICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlU3RhdGljRmlsZXNMb2FkZXIoe1xyXG4gICAgICAgICAgICBwcmVmaXg6ICdhcHAvbGFuZ3VhZ2UvbGFuZy0nLFxyXG4gICAgICAgICAgICBzdWZmaXg6ICcuanNvbidcclxuICAgICAgICB9KTtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSgnZXNjYXBlZCcpO1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VMb2NhbFN0b3JhZ2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbGFuZ3VhZ2VDb250cm9sbGVyICgkdHJhbnNsYXRlKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnNldExhbmcgPSBzZXRMYW5nO1xyXG4gICAgZnVuY3Rpb24gc2V0TGFuZyhsYW5nS2V5KSB7XHJcbiAgICAgICAgICAgICR0cmFuc2xhdGUudXNlKGxhbmdLZXkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VMYW5ndWFnZSgpe1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0ZW1wbGF0ZVVybCA6IFwiYXBwL2xhbmd1YWdlL2NoYW5nZUxhbmd1YWdlLmh0bWxcIixcclxuICAgICAgICByZXN0cmljdDogXCJFXCJcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDE0LzA3LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcihcImNhcmZDb250cm9sbGVyXCIsY2FyZkNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNhcmZDb250cm9sbGVyKCR3aW5kb3csU29ja2V0LHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwKXtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuaWRQcm9ibGVtID0gXCJcIjtcclxuICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICAgICAgc2VsZi52YWx1ZUxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IFtdO1xyXG4gICAgICAgIHNlbGYubG9jYWxTdGFrZWhvbGRlcnMgPSBbXTtcclxuICAgICAgICBzZWxmLmFkZHBtc3ZhbHVlID0gYWRkcG1zdmFsdWU7XHJcbiAgICAgICAgc2VsZi5yZW1vdmVDQVJGID0gcmVtb3ZlQ0FSRjtcclxuICAgICAgICBzZWxmLnNlbGVjdFBNU1ZhbHVlID0gc2VsZWN0UE1TVmFsdWU7XHJcbiAgICAgICAgc2VsZi5zZXRQcmlvdGl0eSA9IHNldFByaW90aXR5O1xyXG4gICAgICAgIHNlbGYuYWRkTGlzdFZhbHVlID0gYWRkTGlzdFZhbHVlO1xyXG4gICAgICAgIHNlbGYuYWRkU3Rha2Vob2xkZXIgPSBhZGRTdGFrZWhvbGRlcjtcclxuICAgICAgICBzZWxmLmNhcmYgPSB7XHJcbiAgICAgICAgICAgIHBtczogXCJcIixcclxuICAgICAgICAgICAgdmFsdWVzOiBbXSxcclxuICAgICAgICAgICAgcHJpb3JpdHk6IFwiXCIsXHJcbiAgICAgICAgICAgIHJlcXVpcmVtZW50OiBcIlwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5pbml0Q2FyZiA9IGluaXRDYXJmO1xyXG4gICAgICAgIHNlbGYuY2FyZkxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBbXTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdENhcmYoKXtcclxuICAgICAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0Y2FyZihzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2NhbFN0YWtlaG9sZGVycyA9IGRhdGEuc3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IHNlbGYubG9jYWxTdGFrZWhvbGRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZkxpc3QgPSBkYXRhLmNhcmY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZlByaW9yaXR5TGlzdCA9IHNlbGYubG9jYWxQcmlvcml0eUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZXNldENhcmYoKXtcclxuICAgICAgICAgICAgc2VsZi5jYXJmID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgcG1zOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzOiBbXSxcclxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZW1lbnQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHNlbGYudmFsdWVMaXN0ID0gW107XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENBUkZhZGQnLCBmdW5jdGlvbiAoY2FyZikge1xyXG4gICAgICAgICAgICBzZWxmLmNhcmZMaXN0LnB1c2goY2FyZik7XHJcbiAgICAgICAgICAgIHJlc2V0Q2FyZigpO1xyXG4gICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IHNlbGYubG9jYWxTdGFrZWhvbGRlcnM7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZlByaW9yaXR5TGlzdCA9IHNlbGYubG9jYWxQcmlvcml0eUxpc3Q7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZHBtc3ZhbHVlKGNhcmYpe1xyXG5cclxuICAgICAgICAgICAgaWYoY2FyZi5wbXMgPT09IFwiXCIpe1xyXG4gICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IFBNU1wiKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBpZihjYXJmLnZhbHVlcy5sZW5ndGggPCAxICl7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IG9uZSBvciBtb3JlIFZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FyZi5zdGFrZWhvbGRlcnMubGVuZ3RoIDwgMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBvbmUgb3IgbW9yZSBTdGFrZWhvbGRlcihzKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FyZi5wcmlvcml0eSA9PT0gXCJcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZWxlY3QgcHJpb3JpdHkgW0xvdywgTWVkaXVtIG9yIEhpZ2hdXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDQVJGYWRkJywgY2FyZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmUHJpb3JpdHlMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0Q0FSRnJlbW92ZScsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICBzZWxmLmNhcmZMaXN0LnNwbGljZShpZCwxKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQ0FSRihpbmRleCxjYXJmKXtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgIGNhcmY6IGNhcmZcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENBUkZyZW1vdmUnLCBvYmopO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlbGVjdFBNU1ZhbHVlKHBtcyl7XHJcbiAgICAgICAgICAgIGlmKHBtcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5jYXJmUE1TVmFsdWUsIGZ1bmN0aW9uIChwbXNfdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG1zX3ZhbHVlLnBtcyA9PSBwbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmLnZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnZhbHVlTGlzdCA9IHBtc192YWx1ZS52YWx1ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0UHJpb3RpdHkocHJpb3JpdHkpe1xyXG4gICAgICAgICAgICBzZWxmLmNhcmYucHJpb3JpdHkgPSBwcmlvcml0eTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZExpc3RWYWx1ZShuZXd2YWx1ZSl7XHJcbiAgICAgICAgICAgaWYoc2VsZi5jYXJmLnZhbHVlcy5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jYXJmLnZhbHVlcy5wdXNoKG5ld3ZhbHVlKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuY2FyZi52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgIGlmIChuZXd2YWx1ZSA9PSBzZWxmLmNhcmYudmFsdWVzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmLnZhbHVlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMucHVzaChuZXd2YWx1ZSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkU3Rha2Vob2xkZXIobmV3U3Rha2Vob2xkZXIpe1xyXG4gICAgICAgICAgICBpZihzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLnB1c2gobmV3U3Rha2Vob2xkZXIpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobmV3U3Rha2Vob2xkZXIgPT0gc2VsZi5jYXJmLnN0YWtlaG9sZGVyc1tpXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMuc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLnB1c2gobmV3U3Rha2Vob2xkZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLmxvY2FsUHJpb3JpdHlMaXN0ID0gWydMb3cnLCAnTWVkaXVtJywnSGlnaCddO1xyXG5cclxuICAgICAgICBzZWxmLmNhcmZQTVNWYWx1ZSA9IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkludGVyYWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIklkZW50aXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTm9ybXNcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJBc3NvY2lhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJDb252ZXJzYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJHcm91cHNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJSZWxhdGlvbnNoaXBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJUcnVzdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkxlYXJuaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk1ldGEtY29tbXVuaWNhdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlBsYXlcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQWVzdGhldGljc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkVtb3Rpb24gYW5kIEFmZmVjdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlByb3RlY3Rpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSW5mb3JtZWQgY29uc2VydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlJlcHV0YXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTZWN1cml0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkV4cGxvaXRhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBY2Nlc3NpYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiT2JqZWN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJvcGVydHkgKG93bmVyc2hpcClcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJVc2FiaWxpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJUZXBvcmFsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkF2YWlsYWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkF3YXJlbmVzc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlByZXNlbmNlXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiVGVycml0b3JpYWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUG9ydGFiaWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQcml2YWN5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU2NhbGFiaWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJWaXNpYmlsaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiQ2xhc3NpZmljYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQXV0b25vbXlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJDb2xsYWJvcmF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU2hhcmluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkFkYXB0YWJpbGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlN1YnNpc3RlbmNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlJlY2lwcm9jaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF07XHJcbiAgICB9XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTUvMDcvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignY2hhdERTQycsY2hhdERTQyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY2hhdERTQygkdGltZW91dCwgU29ja2V0LCBwcm9ibGVtU2VydmljZSwgJHdpbmRvdykge1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgICAgIHNlbGYubmlja25hbWUgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYudXNlckxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLmluaXRIaXN0b3J5Q2hhdCA9IGluaXRIaXN0b3J5Q2hhdDtcclxuICAgICAgICBzZWxmLnNob3dSZXBsYXkgPSBzaG93UmVwbGF5O1xyXG4gICAgICAgIHNlbGYuc2VuZE1lc3NhZ2UgPSBzZW5kTWVzc2FnZTtcclxuICAgICAgICBzZWxmLnBob3RvID0gXCJcIjtcclxuICAgICAgICBzZWxmLm9wZW5DaGF0ID0gb3BlbkNoYXQ7XHJcbiAgICAgICAgc2VsZi5pc09wZW5DaGF0ID0gZmFsc2U7XHJcbiAgICAgICAgc2VsZi5rZXlwcmVzc0NoYXQgPSBrZXlwcmVzc0NoYXQ7XHJcbiAgICAgICAgc2VsZi5jb250YWRvciA9IDA7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5DaGF0KCl7XHJcbiAgICAgICAgICAgIHNlbGYuaXNPcGVuQ2hhdCA9ICFzZWxmLmlzT3BlbkNoYXQ7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlJykuZm9jdXMoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdEhpc3RvcnlDaGF0KCl7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHNlbGYubmlja25hbWUgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpO1xyXG4gICAgICAgICAgICBzZWxmLnBob3RvID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGhvdG8nKTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0aGlzdG9yeWNoYXQoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5oaXN0b3J5Y2hhdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBEYXRlKGRhdGEuaGlzdG9yeWNoYXRbaV0udGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNuID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBkYXRhLmhpc3RvcnljaGF0W2ldLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogZGF0YS5oaXN0b3J5Y2hhdFtpXS5tc2csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogdG1wLmdldERhdGUoKSArIFwiL1wiICsgKHRtcC5nZXRNb250aCgpICsgMSApKyBcIi9cIiArIHRtcC5nZXRGdWxsWWVhcigpICsgXCIgW1wiICsgdG1wLmdldEhvdXJzKCkgKyBcIjpcIiArIHRtcC5nZXRNaW51dGVzKCkgKyBcIl0gXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2gobXNuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnY2hlY2tVc2VycycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd1JlcGxheSgpe1xyXG4gICAgICAgICAgICBpZihzZWxmLnJlcGxheSl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVwbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENoYXQnLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShvYmpbb2JqLmxlbmd0aCAtMV0udGltZSk7XHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuaWNrbmFtZTogb2JqW29iai5sZW5ndGggLTFdLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgbXNnOiBvYmpbb2JqLmxlbmd0aCAtMV0ubXNnLFxyXG4gICAgICAgICAgICAgICAgdGltZTogdG1wLmdldERhdGUoKSArIFwiL1wiICsgKHRtcC5nZXRNb250aCgpICsgMSkgKyBcIi9cIiArIHRtcC5nZXRGdWxsWWVhcigpICsgXCIgW1wiICsgdG1wLmdldEhvdXJzKCkgKyBcIjpcIiArIHRtcC5nZXRNaW51dGVzKCkgKyBcIl0gXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25DaGVja1VzZXJzJywgZnVuY3Rpb24gKHVzZXJMaXN0KSB7XHJcbiAgICAgICAgICAgIHNlbGYudXNlckxpc3QgPSB1c2VyTGlzdDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoY2hhdG1zZyl7XHJcbiAgICAgICAgICAgIGlmKGNoYXRtc2cgPT09IHVuZGVmaW5lZCB8fCBjaGF0bXNnLmxlbmd0aCA8IDIgKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0Q2hhdCcsIGNoYXRtc2cpO1xyXG4gICAgICAgICAgICBzZWxmLm5ld21zZyA9IFwiXCI7XHJcbiAgICAgICAgICAgIHNlbGYuY29udGFkb3IgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gemVyYXJDb250YWRvcigpe1xyXG4gICAgICAgICAgICBzZWxmLmNvbnRhZG9yID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGtleXByZXNzQ2hhdChldmVudCxjaGF0bXNnKXtcclxuICAgICAgICAgICAgaWYoZXZlbnQua2V5Q29kZSA9PSAxMyl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNvbnRhZG9yKys7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5jb250YWRvciA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoemVyYXJDb250YWRvciwgMjAwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihzZWxmLmNvbnRhZG9yID4gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UoY2hhdG1zZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICB9XHJcblxyXG59KSgpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKlxyXG52YXIgc2VsZiA9IHRoaXM7XHJcbnNlbGYubmV3bXNnID0gXCJcIjtcclxuc2VsZi5tZXNzYWdlcyA9IFtdO1xyXG5zZWxmLnJlcGxheSA9IGZhbHNlO1xyXG5zZWxmLm5pY2tuYW1lID0gXCJcIjtcclxuc2VsZi51c2VyTGlzdCA9IFtdO1xyXG5zZWxmLmluaXRIaXN0b3J5Q2hhdCA9IGluaXRIaXN0b3J5Q2hhdDtcclxuc2VsZi5jbG9zZSA9IGNsb3NlO1xyXG5zZWxmLnNob3dSZXBsYXkgPSBzaG93UmVwbGF5O1xyXG5zZWxmLnNlbmRNZXNzYWdlID0gc2VuZE1lc3NhZ2U7XHJcblxyXG5mdW5jdGlvbiBjbG9zZSgpIHtcclxuICAgICRtZFNpZGVuYXYoJ2NoYXQnKS5jbG9zZSgpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkbG9nLmRlYnVnKFwiY2xvc2UgY2hhdFwiKTtcclxuICAgICAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdEhpc3RvcnlDaGF0KCl7XHJcbiAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICBzZWxmLnBob3RvID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGhvdG8nKTtcclxuICAgIHByb2JsZW1TZXJ2aWNlLmdldGhpc3RvcnljaGF0KHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaGlzdG9yeWNoYXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gbmV3IERhdGUoZGF0YS5oaXN0b3J5Y2hhdFtpXS50aW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbXNuID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuaWNrbmFtZTogZGF0YS5oaXN0b3J5Y2hhdFtpXS5uaWNrbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBkYXRhLmhpc3RvcnljaGF0W2ldLm1zZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogdG1wLmdldERhdGUoKSArIFwiL1wiICsgKHRtcC5nZXRNb250aCgpICsgMSApKyBcIi9cIiArIHRtcC5nZXRGdWxsWWVhcigpICsgXCIgW1wiICsgdG1wLmdldEhvdXJzKCkgKyBcIjpcIiArIHRtcC5nZXRNaW51dGVzKCkgKyBcIl0gXCJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubWVzc2FnZXMucHVzaChtc24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICBTb2NrZXQuZW1pdCgnY2hlY2tVc2VycycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93UmVwbGF5KCl7XHJcbiAgICBpZihzZWxmLnJlcGxheSl7XHJcbiAgICAgICAgc2VsZi5yZXBsYXkgPSBmYWxzZTtcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHNlbGYucmVwbGF5ID0gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5cclxuU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENoYXQnLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICB2YXIgdG1wID0gbmV3IERhdGUob2JqW29iai5sZW5ndGggLTFdLnRpbWUpO1xyXG4gICAgc2VsZi5tZXNzYWdlcy5wdXNoKHtcclxuICAgICAgICBuaWNrbmFtZTogb2JqW29iai5sZW5ndGggLTFdLm5pY2tuYW1lLFxyXG4gICAgICAgIG1zZzogb2JqW29iai5sZW5ndGggLTFdLm1zZyxcclxuICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxKSArIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuU29ja2V0Lm9uKCdvbkNoZWNrVXNlcnMnLCBmdW5jdGlvbiAodXNlckxpc3QpIHtcclxuICAgIHNlbGYudXNlckxpc3QgPSB1c2VyTGlzdDtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBzZW5kTWVzc2FnZShjaGF0bXNnKXtcclxuICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDaGF0JywgY2hhdG1zZyk7XHJcbiAgICBzZWxmLm5ld21zZyA9IFwiXCI7XHJcbn0qL1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDEwLzA3LzIwMTUuXHJcbiAqL1xyXG5cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdjb250cm9sbGVyQ29sbGFib3JhdG9ycycsIGNvbnRyb2xsZXJDb2xsYWJvcmF0b3JzKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250cm9sbGVyQ29sbGFib3JhdG9ycygkd2luZG93LFNvY2tldCxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCl7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmlkUHJvYmxlbSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5jb2xsYWJvcmF0b3JzID0gW107XHJcbiAgICAgICAgc2VsZi51c2VyZW1haWwgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYuaW5pdENvbGxhYm9yYXRvcnMgPSBpbml0Q29sbGFib3JhdG9ycztcclxuICAgICAgICBzZWxmLmFkZENvbGxhYm9yYXRvciA9IGFkZENvbGxhYm9yYXRvcjtcclxuICAgICAgICBzZWxmLnJlbW92ZUNvbGxhYm9yYXRvciA9IHJlbW92ZUNvbGxhYm9yYXRvcjtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdENvbGxhYm9yYXRvcnMoKXtcclxuICAgICAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICAgICAgc2VsZi51c2VyZW1haWwgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyZW1haWwnKTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0Y29sbGFib3JhdG9ycyhzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb2xsYWJvcmF0b3JzID0gZGF0YS5jb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1NvY2tldC5lbWl0KCdjaGVja1VzZXJzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VhcmNoQ2FsbGFib3JhdGlvbihlbWFpbCl7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzZWxmLmNvbGxhYm9yYXRvcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgaWYoZW1haWwgPT0gc2VsZi5jb2xsYWJvcmF0b3JzW2ldLmVtYWlsKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRDb2xsYWJvcmF0b3IoZW1haWwpe1xyXG4gICAgICAgICAgICBpZihzZWxmLnVzZXJlbWFpbCA9PSBlbWFpbCl7XHJcbiAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2Uoc2VsZi51c2VyZW1haWwgKyBcIiBpcyBlbWFpbCBvZiBvd25lci5cIik7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hDYWxsYWJvcmF0aW9uKGVtYWlsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlVzdWFyaW8gQ2FkYXN0cmFkby5cIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnZpdGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkcHJvYmxlbTogc2VsZi5pZFByb2JsZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuaW52aXRlKGludml0ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnMgPSBkYXRhLmNvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQ29sbGFib3JhdG9yKHBlb3BsZSl7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBpZHByb2JsZW06IHNlbGYuaWRQcm9ibGVtLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IHBlb3BsZS5lbWFpbFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLnJlbW92ZWNvbGxhYm9yYXRvcnMob2JqKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJDb2xhYm9yYWRvciBmb2kgcmVtb3ZpZG8gZG8gcHJvamV0by5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29sbGFib3JhdG9ycyA9IGRhdGEuY29sbGFib3JhdG9ycztcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKlNvY2tldC5vbignb25DaGVja1VzZXJzJywgZnVuY3Rpb24gKHVzZXJMaXN0KSB7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgdXNlckxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlckxpc3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IHNlbGYuY29sbGFib3JhdG9ycy5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlckxpc3RbaV0gKyAnICAgJyArIHNlbGYuY29sbGFib3JhdG9yc1tqXS5uaWNrbmFtZSlcclxuICAgICAgICAgICAgICAgICAgICBpZih1c2VyTGlzdFtpXSA9PT0gc2VsZi5jb2xsYWJvcmF0b3JzW2pdLm5pY2tuYW1lKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb2xsYWJvcmF0b3JzW2pdLm5pY2tuYW1lID0gc2VsZi5jb2xsYWJvcmF0b3JzW2pdLm5pY2tuYW1lICsgJyAob25saW5lKSAnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTsqL1xyXG5cclxuICAgIH1cclxuXHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjIvMDcvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2RzY1JlcG9ydENvbnRyb2xsZXInLGRzY1JlcG9ydENvbnRyb2xsZXIpO1xyXG5cclxuZnVuY3Rpb24gZHNjUmVwb3J0Q29udHJvbGxlcigpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmlkcHJvYmxlbSA9ICdhamZsYWpmbGphbGZqYWxqZic7XHJcbiAgICBzZWxmLmJ1aWRSZXBvcnQgPSBidWlkUmVwb3J0O1xyXG5cclxuICAgIGZ1bmN0aW9uIGJ1aWRSZXBvcnQoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBodG1sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RSZXNwb3J0Jyk7XHJcbiAgICAgICAgdmFyIHBkZiA9IG5ldyBqc1BERignbCcsJ3B4Jyk7XHJcbiAgICAgICAgcGRmLmFkZEhUTUwoXHJcbiAgICAgICAgICAgIGh0bWwsIDAsIDAsIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VzcGxpdDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbihkaXNwb3NlKXtcclxuICAgICAgICAgICAgICAgIHBkZi5zYXZlKCd0ZXN0LnBkZicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjkvMDYvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlcicsZXZhbHVhdGlvbmZyYW1ld29ya0NvbnRyb2xsZXIpO1xyXG5cclxuICBmdW5jdGlvbiBldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlciAoJHdpbmRvdyxwcm9ibGVtU2VydmljZSxTb2NrZXQsdG9hc3RBcHApe1xyXG5cclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICBzZWxmLmV2YWx1YXRpb25mcmFtZXdvcmtMaXN0ID1bXTtcclxuICAgICAgc2VsZi5pbml0RXZhbHVhdGlvbiA9IGluaXRFdmFsdWF0aW9uO1xyXG4gICAgICBzZWxmLnNldE9wZW5FZGl0RGlzY3V0aW9uID0gc2V0T3BlbkVkaXREaXNjdXRpb247XHJcbiAgICAgIHNlbGYuc2F2ZUZyYW1lID0gc2F2ZUZyYW1lO1xyXG5cclxuICAgICAgZnVuY3Rpb24gaW5pdEV2YWx1YXRpb24oKXtcclxuICAgICAgICAgIHNlbGYuaWRwcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGV2YWx1YXRpb24oc2VsZi5pZHByb2JsZW0pXHJcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QgPSBkYXRhLmV2YWx1YXRpb25mcmFtZXdvcms7XHJcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdEZyYW1lRWRpdCcsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5ldmFsdWF0aW9uZnJhbWV3b3JrTGlzdCxmdW5jdGlvbihldmFsdWF0aW9uZnJhbWV3b3JrKXtcclxuICAgICAgICAgICAgIGlmKCBldmFsdWF0aW9uZnJhbWV3b3JrLm9uaW9ubGF5ZXIgPT0gZGF0YS5vbmlvbmxheWVyKXtcclxuICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZXZhbHVhdGlvbmZyYW1ld29yay5zdGFrZWhvbGRlcnMsZnVuY3Rpb24oc3Rha2Vob2xkZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICBpZiAoc3Rha2Vob2xkZXIuX2lkID09IGRhdGEuX2lkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vbmlvbmxheWVyID0gZGF0YS5vbmlvbmxheWVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBkYXRhLm9wZW5FZGl0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIucHJvYmxlbXMgPSBkYXRhLnByb2JsZW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuc29sdXRpb25zID0gZGF0YS5zb2x1dGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNhdmVGcmFtZShzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdEZyYW1lU2F2ZScsIHN0YWtlaG9sZGVyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgU29ja2V0Lm9uKCdvblVwZGF0ZVN0YWtlaG9sZGVyJywgZnVuY3Rpb24gKHN0YWtlaG9sZGVyT25pb24pIHtcclxuXHJcblxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNldE9wZW5FZGl0RGlzY3V0aW9uKGN1cnJlbnRTdGFrZWhvbGRlcil7XHJcbiAgICAgICAgICBjdXJyZW50U3Rha2Vob2xkZXIub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ21lbnVQcm9ibGVtQ29udHJvbGxlcicsIG1lbnVQcm9ibGVtYUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIG1lbnVQcm9ibGVtYUNvbnRyb2xsZXIoQXV0aCwgJGZpbHRlciwgJHN0YXRlLCAkd2luZG93LCBwcm9ibGVtU2VydmljZSx0b2FzdEFwcCwgU29ja2V0KXtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIC8vc2VsZi5vcGVuQ2hhdCA9IGJ1aWxkVG9nZ2xlcignY2hhdCcpO1xyXG4gICAgICAgIHNlbGYuZm9ybUFkZENvbGxhYm9yYXRvcnMgPSBmb3JtQWRkQ29sbGFib3JhdG9ycztcclxuICAgICAgICBzZWxmLmVkaXREZXNjcmlwdGlvblByb2JsZW0gPSBlZGl0RGVzY3JpcHRpb25Qcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZG9Mb2dvdXQgPSBkb0xvZ291dDtcclxuICAgICAgICBzZWxmLnN5c3RlbVJldHVybiA9IHN5c3RlbVJldHVybjtcclxuICAgICAgICBzZWxmLmZvcm1Qcm9ibGVtUmVwb3J0ID0gZm9ybVByb2JsZW1SZXBvcnQ7XHJcbiAgICAgICAgc2VsZi5nZXRDdXJyZW50UHJvYmxlbSA9IGdldEN1cnJlbnRQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYubmlja25hbWU7XHJcbiAgICAgICAgc2VsZi5kc2NfYXJ0aWZhY3RzID0gW107XHJcblxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q3VycmVudFByb2JsZW0oKXtcclxuICAgICAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHByb2JsZW0oc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbSA9IGRhdGEucHJvYmxlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEucHJvYmxlbS5hcnRpZmFjdHMsIGZ1bmN0aW9uIChhcnRpZmFjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBhcnRpZmFjdC5zcGxpdChcIl9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRzY19hcnRpZmFjdHMucHVzaCh7bmFtZTogXCJwcm9ibGVtLlwiICsgbmFtZVsyXS50b0xvd2VyQ2FzZSgpLCBsYWJlbDogJGZpbHRlcigndHJhbnNsYXRlJykoYXJ0aWZhY3QpfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NlbGYuZHNjX2FydGlmYWN0cyA9IGRzY19hcnRpZmFjdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzeXN0ZW1SZXR1cm4oKXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdzdGFydHByb2JsZW0nKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmb3JtQWRkQ29sbGFib3JhdG9ycygpe1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2JsZW0uY29sbGFib3JhdG9ycycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZm9ybVByb2JsZW1SZXBvcnQoKXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdkc2NyZXBvcnQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVkaXREZXNjcmlwdGlvblByb2JsZW0oKSB7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5kZXNjcmlwdGlvbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZG9Mb2dvdXQoKSB7XHJcbiAgICAgICAgICAgIEF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgamVzdXMgb24gMjEvMDMvMjAxNi5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdvbmlvbkNvbnRyb2xsZXInLG9uaW9uQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gb25pb25Db250cm9sbGVyKFNvY2tldCwkd2luZG93LHByb2JsZW1TZXJ2aWNlLCRtZERpYWxvZyx0b2FzdEFwcCl7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuaWRwcm9ibGVtID0gXCJcIjtcclxuICAgICAgICBzZWxmLmludGlNeXRPbmlvbiA9IGludGlNeXRPbmlvbjtcclxuICAgICAgICBzZWxmLnNhdmVQb3N0SXRPbmlvbiA9IHNhdmVQb3N0SXRPbmlvbjtcclxuICAgICAgICBzZWxmLmVkaXRQb3N0SXRPbmlvbiA9IGVkaXRQb3N0SXRPbmlvbjtcclxuICAgICAgICBzZWxmLmRlbFBvc3RJdE9uaW9uID0gZGVsUG9zdEl0T25pb247XHJcbiAgICAgICAgc2VsZi5hZGRQb3N0SXRPbmlvbiA9IGFkZFBvc3RJdE9uaW9uO1xyXG4gICAgICAgIHNlbGYub25PbmlvbiA9IG9uT25pb247XHJcbiAgICAgICAgc2VsZi5vZmZPbmlvbiA9IG9mZk9uaW9uO1xyXG5cclxuXHJcbiAgICAgICAgXHJcblxyXG5cclxuXHJcbiAgICB9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XHJcblxyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdlZGl0UHJvYmxlbUNvbnRyb2xsZXInLGVkaXRQcm9ibGVtYUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGVkaXRQcm9ibGVtYUNvbnRyb2xsZXIuJGluamVjdHJlID0gWyckc2NvcGUnLCdTb2NrZXQnXTtcclxuXHJcbmZ1bmN0aW9uIGVkaXRQcm9ibGVtYUNvbnRyb2xsZXIoU29ja2V0LCAkdGltZW91dCx0b2FzdEFwcCwkd2luZG93LHByb2JsZW1TZXJ2aWNlKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHVwZGF0ZVRydWUgPSB0cnVlO1xyXG4gICAgc2VsZi5wcm9ibGVtID0gJyc7XHJcbiAgICBzZWxmLnByb2JsZW1VcGRhdGUgPSBwcm9ibGVtVXBkYXRlO1xyXG4gICAgc2VsZi5nZXRDdXJyZW50UHJvYmxlbSA9IGdldEN1cnJlbnRQcm9ibGVtO1xyXG4gICAgc2VsZi5zYXZlRGVzY3JpcHRpb24gPSBzYXZlRGVzY3JpcHRpb247XHJcbiAgICBzZWxmLm5pY2tuYW1lID0gJyc7XHJcbiAgICBzZWxmLmxvY2FsY29kZSA9ICcnO1xyXG5cclxuXHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRQcm9ibGVtKCl7XHJcbiAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBzZWxmLmxvY2FsY29kZSA9ICAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbGNvZGUnKTtcclxuXHJcbiAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbShzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtID0gZGF0YS5wcm9ibGVtO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gc2V0VXBkYXRlKCl7XHJcbiAgICAgICAgdXBkYXRlVHJ1ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkF0dWFsaXphclByb2JsZW1hJywgZnVuY3Rpb24gKHJldG9ybm8pIHtcclxuICAgICAgICBpZihzZWxmLmxvY2FsY29kZSAhPT0gcmV0b3Juby5sb2NhbGNvZGUpIHtcclxuICAgICAgICAgICAgc2VsZi5wcm9ibGVtLmRlc2NyaXB0aW9uID0gcmV0b3Juby5kZXNjcmlwdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5wcm9ibGVtLnVwZGF0ZSA9IHVwZGF0ZVRydWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9ibGVtVXBkYXRlKHByb2JsZW0pIHtcclxuICAgICAgICBwcm9ibGVtLnVwZGF0ZSA9IHVwZGF0ZVRydWU7XHJcbiAgICAgICAgcHJvYmxlbS5sb2NhbGNvZGUgPSBzZWxmLmxvY2FsY29kZTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYXR1YWxpemFyUHJvYmxlbWEnLCBwcm9ibGVtKTtcclxuICAgICAgICBpZiAodXBkYXRlVHJ1ZSkge1xyXG4gICAgICAgICAgICB1cGRhdGVUcnVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KHNldFVwZGF0ZSwgMjAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVEZXNjcmlwdGlvbihwcm9ibGVtKSB7XHJcbiAgICAgICAgcHJvYmxlbS5sb2NhbGNvZGUgPSBzZWxmLmxvY2FsY29kZTtcclxuICAgICAgICBwcm9ibGVtLnVwZGF0ZSA9IHVwZGF0ZVRydWU7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2F0dWFsaXphclByb2JsZW1hJywgcHJvYmxlbSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG59XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTIvMDgvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Byb2JsZW1SZXBvcnRDb250cm9sbGVyJyxwcm9ibGVtUmVwb3J0Q29udHJvbGxlcik7XHJcblxyXG5cclxuICAgICBmdW5jdGlvbiBwcm9ibGVtUmVwb3J0Q29udHJvbGxlcigkd2luZG93LHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwLCRzdGF0ZSl7XHJcblxyXG4gICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgIHNlbGYuaWRQcm9ibGVtO1xyXG4gICAgICAgICBzZWxmLnByb2JsZW07XHJcbiAgICAgICAgIHNlbGYuaW5pdFByb2JsZW1QZXBvcnQgPSBpbml0UHJvYmxlbVBlcG9ydDtcclxuICAgICAgICAgc2VsZi5zeXN0ZW1SZXR1cm4gPSBzeXN0ZW1SZXR1cm47XHJcblxyXG4gICAgICAgICBmdW5jdGlvbiBpbml0UHJvYmxlbVBlcG9ydCgpe1xyXG5cclxuICAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcblxyXG4gICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbXJlcG9ydChzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEucHJvYmxlbS5zdGFrZWhvbGRlcnMsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueCA9IChwYXJzZUludChzdGFrZWhvbGRlci54LnN1YnN0cmluZygwLHN0YWtlaG9sZGVyLngubGVuZ3RoIC0yKSkgLSAxMDApKydweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnkgPSAgKHBhcnNlSW50KHN0YWtlaG9sZGVyLnkuc3Vic3RyaW5nKDAsc3Rha2Vob2xkZXIueS5sZW5ndGggLTIpKSArIDQwMCkrJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbSA9IGRhdGEucHJvYmxlbTtcclxuICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgZnVuY3Rpb24gc3lzdGVtUmV0dXJuKCl7XHJcbiAgICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2JsZW0uc3Rha2Vob2xkZXJzJyk7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgfVxyXG5cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdwcm9ibGVtU2VydmljZScsIHByb2JsZW1TZXJ2aWNlKTtcclxuXHJcbiAgcHJvYmxlbVNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCckbG9jYXRpb24nXTtcclxuXHJcbiAgZnVuY3Rpb24gcHJvYmxlbVNlcnZpY2UoJGh0dHAsJGxvY2F0aW9uKSB7XHJcblxyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVMgPSAnL2FwaS9wcm9ibGVtL2dldHByb2JsZW1zJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TQ09MTEFCT1JBVE9SID0gJy9hcGkvcHJvYmxlbS9nZXRwcm9ibGVtc2NvbGxhYm9yYXRvcic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX05FV1BST0JMRU0gPSAnL2FwaS9wcm9ibGVtL25ld3Byb2JsZW0nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRQUk9CTEVNID0gJy9hcGkvcHJvYmxlbS9nZXRwcm9ibGVtJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUUFJPQkxFTVJFUE9SVCA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbXJlcG9ydCc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVENPTExBQk9SQVRPUlMgPSAnL2FwaS9wcm9ibGVtL2dldGNvbGxhYm9yYXRvcnMnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9JTlZJVEUgPSAnL2FwaS9wcm9ibGVtL2ludml0ZSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVE9OSU9OID0gJy9hcGkvcHJvYmxlbS9nZXRvbmlvbic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVEVWQUxVQVRJT04gPSAnL2FwaS9wcm9ibGVtL2dldGV2YWx1YXRpb24nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRTRU1JT1RJQ0ZSQU1FV09SSyA9ICcvYXBpL3Byb2JsZW0vZ2V0c2VtaW90aWMnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRDQVJGID0gJy9hcGkvcHJvYmxlbS9nZXRjYXJmJztcclxuICAgIHZhciBBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSA9ICcvYXBpL3Byb2JsZW0vcmVtb3ZlcHJvYmxlbSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1JFTU9WRUNPTExBQk9SQVRPUiA9ICcvYXBpL3Byb2JsZW0vcmVtb3ZlY29sbGFib3JhdG9yJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQgPSAnL2FwaS9wcm9ibGVtL2hpc3RvcnljaGF0JztcclxuXHJcbiAgICB2YXIgc2VydmljZSA9IHtcclxuICAgICAgbmV3cHJvYmxlbSAgICAgICA6IG5ld3Byb2JsZW0sXHJcbiAgICAgIGdldHVzZXJwcm9ibGVtcyAgOiBnZXR1c2VycHJvYmxlbXMsXHJcbiAgICAgIGdldHByb2JsZW0gICAgICAgOiBnZXRwcm9ibGVtLFxyXG4gICAgICBnZXRjb2xsYWJvcmF0b3JzIDogZ2V0Y29sbGFib3JhdG9ycyxcclxuICAgICAgaW52aXRlICAgICAgICAgICA6IGludml0ZSxcclxuICAgICAgZ2V0b25pb24gICAgICAgICA6IGdldG9uaW9uLFxyXG4gICAgICBnZXRldmFsdWF0aW9uICAgIDogZ2V0ZXZhbHVhdGlvbixcclxuICAgICAgZ2V0c2VtaW90aWMgICAgICA6IGdldHNlbWlvdGljLFxyXG4gICAgICBnZXRjYXJmICAgICAgICAgIDogZ2V0Y2FyZixcclxuICAgICAgcmVtb3ZlcHJvYmxlbSAgICA6IHJlbW92ZXByb2JsZW0sXHJcbiAgICAgIGdldHByb2JsZW1zY29sbGFib3JhdG9yOiBnZXRwcm9ibGVtc2NvbGxhYm9yYXRvcixcclxuICAgICAgcmVtb3ZlY29sbGFib3JhdG9ycyA6IHJlbW92ZWNvbGxhYm9yYXRvcnMsXHJcbiAgICAgIGdldGhpc3RvcnljaGF0OiBnZXRoaXN0b3J5Y2hhdCxcclxuICAgICAgZ2V0cHJvYmxlbXJlcG9ydCA6IGdldHByb2JsZW1yZXBvcnRcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHNlcnZpY2U7XHJcblxyXG4gICAgZnVuY3Rpb24gbmV3cHJvYmxlbShkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX05FV1BST0JMRU0sIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldHByb2JsZW1yZXBvcnQoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFBST0JMRU1SRVBPUlQgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldHByb2JsZW0oZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFBST0JMRU0gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldHVzZXJwcm9ibGVtcyhkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TICsgJz9lbWFpbD0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldGNvbGxhYm9yYXRvcnMoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVENPTExBQk9SQVRPUlMgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGludml0ZShkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX0lOVklURSwgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldG9uaW9uKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRPTklPTiArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0ZXZhbHVhdGlvbiAoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVEVWQUxVQVRJT04gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldHNlbWlvdGljIChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Y2FyZihkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUQ0FSRiArICc/aWRwcm9ibGVtPScgKyBkYXRhIClcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVwcm9ibGVtKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9SRU1PVkVQUk9CTEVNICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRwcm9ibGVtc2NvbGxhYm9yYXRvcihkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TQ09MTEFCT1JBVE9SICsgJz9lbWFpbD0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZWNvbGxhYm9yYXRvcnMoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX1JFTU9WRUNPTExBQk9SQVRPUiArICc/aWRwcm9ibGVtPScgKyBkYXRhLmlkcHJvYmxlbSArICcmZW1haWw9JyArIGRhdGEuZW1haWwgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRoaXN0b3J5Y2hhdChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjkvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyJyxzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIpO1xyXG5cclxuZnVuY3Rpb24gc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyKFNvY2tldCwkd2luZG93LCBwcm9ibGVtU2VydmljZSx0b2FzdEFwcCl7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pZHByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi5zYXZlU29jaWFsV29ybGQgPSBzYXZlU29jaWFsV29ybGQ7XHJcbiAgICBzZWxmLnNhdmVQcmFnbWF0aWMgPSBzYXZlUHJhZ21hdGljO1xyXG4gICAgc2VsZi5zYXZlU2VtYW50aWMgPSBzYXZlU2VtYW50aWM7XHJcbiAgICBzZWxmLnNhdmVTeW50YXRpYyA9IHNhdmVTeW50YXRpYztcclxuICAgIHNlbGYuc2F2ZUVtcGlyaWNhbCA9IHNhdmVFbXBpcmljYWw7XHJcbiAgICBzZWxmLnNhdmVQaHlzaWNhbCA9IHNhdmVQaHlzaWNhbDtcclxuICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsgPSBcIlwiO1xyXG4gICAgc2VsZi5pbml0U2VtaW90aWNGcmFtZXdvcmsgPSBpbml0U2VtaW90aWNGcmFtZXdvcms7XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdFNlbWlvdGljRnJhbWV3b3JrKCl7XHJcbiAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRzZW1pb3RpYyhzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yayA9IGRhdGEuc2VtaW90aWNmcmFtZXdvcms7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVNvY2lhbFdvcmxkJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnNvY2lhbHdvcmxkID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTb2NpYWxXb3JsZCh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlU29jaWFsV29ybGQnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVQcmFnbWF0aWMnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsucHJhZ21hdGljID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVQcmFnbWF0aWModGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVByYWdtYXRpYycsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVNlbWFudGljJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnNlbWlvdGljcmFtZXdvcmsgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVNlbWFudGljKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVTZW1hbnRpYycsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVN5bnRhdGljJywgZnVuY3Rpb24gKHRleHQsZmxhZ1NhdmUpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnN5bnRhdGljID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTeW50YXRpYyh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlU3ludGF0aWMnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVFbXBpcmljYWwnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuZW1waXJpY2FsID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVFbXBpcmljYWwodGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZUVtcGlyaWNhbCcsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVBoeXNpY2FsJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnBoeXNpY2FsID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVQaHlzaWNhbCh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlUGh5c2ljYWwnLCBvYmopO1xyXG4gICAgfVxyXG59XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjkvMDYvMjAxNS5cclxuICovXHJcblxyXG47KGZ1bmN0aW9uKHVuZGVmaW5lZCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3N0YWtlaG9sZGVyQ29udHJvbGxlcicsc3Rha2Vob2xkZXJDb250cm9sbGVyKTtcclxuXHJcblxyXG5mdW5jdGlvbiBzdGFrZWhvbGRlckNvbnRyb2xsZXIoU29ja2V0LCR3aW5kb3cscHJvYmxlbVNlcnZpY2UsJG1kRGlhbG9nLHRvYXN0QXBwKXtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmlkcHJvYmxlbSA9IFwiXCI7XHJcbiAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IFtdO1xyXG4gICAgc2VsZi5zdGFrZWhvbGRlciA9IFwiXCI7XHJcbiAgICBzZWxmLmludGl0T25pb24gPSBpbnRpdE9uaW9uO1xyXG4gICAgc2VsZi5tb3ZlID0gZmFsc2U7XHJcbiAgICBzZWxmLmluUHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICBzZWxmLnNhdmVTdGFrZWhvbGRlciA9IHNhdmVTdGFrZWhvbGRlcjtcclxuICAgIHNlbGYuc2V0T3BlbkVkaXQgPSBzZXRPcGVuRWRpdDtcclxuICAgIHNlbGYuZGVsUG9zdEl0ID0gZGVsUG9zdEl0O1xyXG4gICAgc2VsZi5hZGRQb3N0SXQgPSBhZGRQb3N0SXQ7XHJcbiAgICBzZWxmLmFjZW5kZSA9IGFjZW5kZTtcclxuICAgIHNlbGYuYXBhZ2EgPSBhcGFnYTtcclxuICAgIHNlbGYubG9jYWxjb2RlID0gJyc7XHJcblxyXG4gICAgZnVuY3Rpb24gaW50aXRPbmlvbigpe1xyXG4gICAgICAgIHNlbGYuaWRwcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgc2VsZi5sb2NhbGNvZGUgPSAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxjb2RlJyk7XHJcbiAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0b25pb24oc2VsZi5pZHByb2JsZW0pXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gZGF0YS5zdGFrZWhvbGRlcnM7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25TYXZlJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuc3Rha2Vob2xkZXJMaXN0LCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgaWYgKHN0YWtlaG9sZGVyLl9pZCA9PSBkYXRhLl9pZCl7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5zdGFrZWhvbGRlciA9IGRhdGEuc3Rha2Vob2xkZXI7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBkYXRhLm9wZW5FZGl0O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueCA9IGRhdGEueDtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci56aW5kZXggPSA5OTk5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVN0YWtlaG9sZGVyKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uU2F2ZScsIHN0YWtlaG9sZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25FZGl0JywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuc3Rha2Vob2xkZXJMaXN0LCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgaWYoc3Rha2Vob2xkZXIuX2lkID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuemluZGV4ID0gOTk5OTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldE9wZW5FZGl0KGlkKXtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25FZGl0JywgaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblJlbW92ZScsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHZhciBzdGFrZWhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Rha2Vob2xkZXJcIiArc2VsZi5zdGFrZWhvbGRlckxpc3RbaWRdLl9pZCk7XHJcbiAgICAgICAgc3Rha2Vob2xkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdC5zcGxpY2UoaWQsMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVQb3N0SXQoaW5kZXgsc3Rha2Vob2xkZXIpIHtcclxuXHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcjogc3Rha2Vob2xkZXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblJlbW92ZScsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVsUG9zdEl0KGV2LGluZGV4LHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpKVxyXG4gICAgICAgICAgICAudGl0bGUoJ0RldGV0ZSBTdGFrZWhvbGRlcj8nKVxyXG4gICAgICAgICAgICAuY29udGVudCgnVGl0bGU6ICcgKyBzdGFrZWhvbGRlci5uYW1lKVxyXG4gICAgICAgICAgICAuYXJpYUxhYmVsKCdSZW1vdmUgU3Rha2Vob2xkZXInKVxyXG4gICAgICAgICAgICAub2soJ1llcyEnKVxyXG4gICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWwnKVxyXG4gICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVBvc3RJdChpbmRleCxzdGFrZWhvbGRlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE1vdmUnLCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgaWYoc2VsZi5sb2NhbGNvZGUgIT09IHN0YWtlaG9sZGVyLmxvY2FsY29kZSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YWtlaG9sZGVyJytzdGFrZWhvbGRlci5faWQpLnN0eWxlLmxlZnQgPSBzdGFrZWhvbGRlci54O1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YWtlaG9sZGVyJytzdGFrZWhvbGRlci5faWQpLnN0eWxlLnRvcCA9IHN0YWtlaG9sZGVyLnk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25BZGQnLCBmdW5jdGlvbiAocmV0b3Jubykge1xyXG4gICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0LnB1c2gocmV0b3Jubyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRQb3N0SXQoZSxjYW1hZGEpIHtcclxuXHJcbiAgICAgICAgdmFyIG5ld1N0YWtlaG9sZGVyID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwib25pb25sYXllclwiOiBjYW1hZGEsXHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXHJcbiAgICAgICAgICAgIFwib3BlbkVkaXRcIjogdHJ1ZSxcclxuICAgICAgICAgICAgXCJ4XCI6IGUucGFnZVggKyAncHgnLFxyXG4gICAgICAgICAgICBcInlcIjogKGUucGFnZVkpICsgJ3B4JyxcclxuICAgICAgICAgICAgXCJ6aW5kZXhcIjogOTk5OVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uQWRkJywgbmV3U3Rha2Vob2xkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFjZW5kZShpZCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOycpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVnZW5kXCIraWQpLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgXCIwLjdcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgXCIwLjdcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXBhZ2EoaWQpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIitpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICd0ZXh0LWRlY29yYXRpb246IG5vbmU7Jyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWdlbmRcIitpZCkuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLCBcIjEuMFwiKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLCBcIjEuMFwiKTtcclxuICAgIH1cclxufVxyXG5cclxufSkodGhpcyk7IiwiXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignc3RhcnRQcm9ibGVtQ29udHJvbGxlcicsc3RhcnRQcm9ibGVtQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gc3RhcnRQcm9ibGVtQ29udHJvbGxlcigkbWREaWFsb2csJHN0YXRlLEF1dGgsU29ja2V0LCAkd2luZG93LCBwcm9ibGVtU2VydmljZSx0b2FzdEFwcCApIHtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYubmlja25hbWUgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYudXNlcmlkID0gXCJcIjtcclxuICAgICAgICBzZWxmLnVzZXJlbWFpbCA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5wcm9ibGVtTGlzdCA9IFtdO1xyXG4gICAgICAgIHNlbGYucHJvYmxlbUNvbGxhYm9yYXRvckxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLmxvZ2luSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgc2VsZi5nZXRQcm9ibGVtcyA9IGdldFByb2JsZW1zO1xyXG4gICAgICAgIHNlbGYucmV2b212ZVByb2JsZW0gPSByZXZvbXZlUHJvYmxlbTtcclxuICAgICAgICBzZWxmLnN0YXJ0TmV3UHJvYmxlbSA9IHN0YXJ0TmV3UHJvYmxlbTtcclxuICAgICAgICBzZWxmLmVkaXRQcm9ibGVtID0gZWRpdFByb2JsZW07XHJcbiAgICAgICAgc2VsZi5kb0xvZ291dCA9IGRvTG9nb3V0O1xyXG4gICAgICAgIHNlbGYubmV3UHJvYmxlbSA9IG5ld1Byb2JsZW07XHJcbiAgICAgICAgc2VsZi5lZGl0UHJvZmlsZSA9IGVkaXRQcm9maWxlO1xyXG4gICAgICAgIHNlbGYucGhvdG87XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRQcm9ibGVtcygpe1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJpZCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpO1xyXG4gICAgICAgICAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgICAgICAgICAgc2VsZi51c2VyZW1haWwgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyZW1haWwnKTtcclxuICAgICAgICAgICAgc2VsZi5waG90byA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bob3RvJyk7XHJcblxyXG5cclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0dXNlcnByb2JsZW1zKHNlbGYudXNlcmVtYWlsKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGRhdGEucHJvYmxlbXMubGVuZ3RoOyBpKysgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24ubGVuZ3RoID4gMzAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uID0gZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZyxcIlwiKS5zdWJzdHJpbmcoMCwyODApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbiA9IGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24ucmVwbGFjZSgvKDwoW14+XSspPikvaWcsXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtTGlzdCA9IGRhdGEucHJvYmxlbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHByb2JsZW1zY29sbGFib3JhdG9yKHNlbGYudXNlcmVtYWlsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBkYXRhLnByb2JsZW1zLmxlbmd0aDsgaSsrICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24ubGVuZ3RoID4gMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLCBcIlwiKS5zdWJzdHJpbmcoMCwgMjgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtQ29sbGFib3JhdG9yTGlzdCA9IGRhdGEucHJvYmxlbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNlbGYubG9naW5JblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZWxldGVQcm9ibGVtKHByb2JsZW1pZCl7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLnJlbW92ZXByb2JsZW0ocHJvYmxlbWlkKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHNlbGYucHJvYmxlbUxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5wcm9ibGVtTGlzdFtpXS5faWQgPT0gcHJvYmxlbWlkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW1MaXN0LnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmV2b212ZVByb2JsZW0oZXYscHJvYmxlbSkge1xyXG4gICAgICAgICAgICAvLyBBcHBlbmRpbmcgZGlhbG9nIHRvIGRvY3VtZW50LmJvZHkgdG8gY292ZXIgc2lkZW5hdiBpbiBkb2NzIGFwcFxyXG4gICAgICAgICAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpKVxyXG4gICAgICAgICAgICAgICAgLnRpdGxlKCdEZXRldGUgUHJvYmxlbT8nKVxyXG4gICAgICAgICAgICAgICAgLmNvbnRlbnQoJ1RpdGxlOiAnICsgcHJvYmxlbS50aXRsZSlcclxuICAgICAgICAgICAgICAgIC5hcmlhTGFiZWwoJ1JlbW92ZSBQcm9ibGVtJylcclxuICAgICAgICAgICAgICAgIC5vaygnRGVzZWpvIHJlbW92ZXIhJylcclxuICAgICAgICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbCcpXHJcbiAgICAgICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlUHJvYmxlbShwcm9ibGVtLl9pZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3RhcnROZXdQcm9ibGVtKG5ld3Byb2JsZW0pe1xyXG4gICAgICAgICAgICBuZXdwcm9ibGVtLnVzZXJpZCA9IHNlbGYudXNlcmlkO1xyXG5cclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UubmV3cHJvYmxlbShuZXdwcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVkaXRQcm9ibGVtKGRhdGEucHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZWRpdFByb2JsZW0ocHJvYmxlbSkge1xyXG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvYmxlbWlkXCIscHJvYmxlbS5faWQpO1xyXG4gICAgICAgICAgICB2YXIgaW5pdHNvY2tldHByb2JsZW0gPSB7XHJcbiAgICAgICAgICAgICAgICBcImlkcHJvYmxlbVwiOnByb2JsZW0uX2lkLFxyXG4gICAgICAgICAgICAgICAgXCJuaWNrbmFtZVwiOiBzZWxmLm5pY2tuYW1lXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdpbml0UHJvYmxlbScsIGluaXRzb2NrZXRwcm9ibGVtKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLnN0YWtlaG9sZGVycycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZG9Mb2dvdXQoKSB7XHJcbiAgICAgICAgICAgIEF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBlZGl0UHJvZmlsZSgpIHtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9maWxlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBuZXdQcm9ibGVtKGV2KSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogRGlhbG9nQ29udHJvbGxlcixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL25ld3Byb2JsZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBEaWFsb2dDb250cm9sbGVyKCRzY29wZSwgJGZpbHRlciwgJG1kRGlhbG9nKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hcnRpZmFjdExpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5oaWRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTmV3UHJvYmxlbSA9IGZ1bmN0aW9uKHByb2JsZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUuYXJ0aWZhY3RMaXN0Lmxlbmd0aCA8IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJGZpbHRlcigndHJhbnNsYXRlJykoJ0xBQkVMX0NIT0lDRV9BUlRJRkFDVFMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvYmxlbS5hcnRpZmFjdHMgPSAgJHNjb3BlLmFydGlmYWN0TGlzdDtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0TmV3UHJvYmxlbShwcm9ibGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuY2FuY2VsKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgJHNjb3BlLmFkZEFydGlmYWN0ID0gZnVuY3Rpb24gYWRkQXJ0aWZhY3QodmFsb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8ICRzY29wZS5hcnRpZmFjdExpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLmFydGlmYWN0TGlzdFtpXSA9PT0gdmFsb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcnRpZmFjdExpc3Quc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcnRpZmFjdExpc3QucHVzaCh2YWxvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyMi8wNy8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcigndmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlcicsIHZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIpO1xyXG5cclxuZnVuY3Rpb24gdmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlcigkd2luZG93LHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwLFNvY2tldCl7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgc2VsZi5pZFByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi51c2VyZW1haWwgPSBcIlwiO1xyXG4gICAgc2VsZi5uZXd2YWx1ZXMgPSBcIlwiO1xyXG4gICAgc2VsZi5pbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lID0gaW5pdFZhbHVlSWRlbnRpZmljYXRpb25GcmFtZTtcclxuICAgIHNlbGYuc2V0U3VnZ2VzdGlvblNob3cgPSBzZXRTdWdnZXN0aW9uU2hvdztcclxuICAgIHNlbGYubGVhdmVTdWdnZXN0aW9uU2hvdyA9IGxlYXZlU3VnZ2VzdGlvblNob3c7XHJcbiAgICBzZWxmLnJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uID0gcmVtb3ZlVmFsdWVJZGVudGljYXRpb247XHJcbiAgICBzZWxmLnNldFZhbHVlSWRlbnRpY2F0aW9uID0gc2V0VmFsdWVJZGVudGljYXRpb247XHJcbiAgICBzZWxmLnN1Z2VzdGlvblZhbHVlcyA9IFwiXCI7XHJcbiAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiQ29tbXVuaXR5XCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJNYXJrZXRcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIlNvdXJjZVwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiQ29udHJpYnV0aW9uXCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJUZWNobmljb1wiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuICAgIHNlbGYuc3VnZXN0aW9uVmFsdWVzQXJyYXkgPSBbXHJcbiAgICAgICAgJ0FjZXNzaWJpbGlkYWRlJywnQWRhcHRhYmlsaWRhZGUnLCdFc3TDqXRpY2EnLCdBdXRvbm9taWEnLCAnRGlzcG9uaWJpbGlkYWRlJywgJ0NvbnNjacOqbmNpYScsICdDb2xhYm9yYcOnw6NvJyxcclxuICAgICAgICAnQ29udmVyc2HDp8OjbycsICdFbW/Dp8OjbyBlIEFmZXRvJywgJ0dydXBvcycsICdJZGVudGlkYWRlJywgJ0NvbnNlbnRpbWVudG8gaW5mb3JtYWRvJywgJ01ldGEtY29tdW5pY2HDp8OjbycsICdOb3JtYXMnLFxyXG4gICAgICAgICdPYmpldG8nLCAnUG9ydGFiaWxpZGFkZScsICdQcmVzZW7Dp2EnLCAnUHJpdmFjaWRhZGUnLCAnUHJvcHJpZWRhZGUnLCAnUmVjaXByb2NpZGFkZSwgUmVsYWNpb25hbWVudG8sIFJlcHV0YcOnw6NvJyxcclxuICAgICAgICAnRXNjYWxhYmlsaWRhZGUnLCAnU2VndXJhbsOnYScsICdDb21wYXJ0aWxoYW1lbnRvJywgJ0NvbmZpYW7Dp2EnLCAnVXNhYmlsaWRhZGUnLCAnVmlzaWJpbGlkYWRlJ107XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdFZhbHVlSWRlbnRpZmljYXRpb25GcmFtZSgpe1xyXG4gICAgICAgIHNlbGYuaWRwcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0b25pb24oc2VsZi5pZHByb2JsZW0pXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3Rha2Vob2xkZXJzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrID0gMTsgayA8IHNlbGYuc3VnZXN0aW9uVmFsdWVzQXJyYXkubGVuZ3RoOyBrKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3VnZXN0aW9uVmFsdWVzICs9IHNlbGYuc3VnZXN0aW9uVmFsdWVzQXJyYXlba10gKyAgXCIsIFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN1Z2VzdGlvblZhbHVlc1tzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5W3NlbGYuc3VnZXN0aW9uVmFsdWVzQXJyYXkubGVuZ3RoLTFdXSArICcuJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkYXRhLnN0YWtlaG9sZGVycy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IHNlbGYuc3Rha2Vob2xkZXJMaXN0Lmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YWtlaG9sZGVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0uX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25pb25sYXllciA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLm9uaW9ubGF5ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS52YWx1ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuRWRpdCA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLm9wZW5FZGl0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5IDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlcyA6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN0YWtlaG9sZGVyc1tpXS5vbmlvbmxheWVyID09IHNlbGYuc3Rha2Vob2xkZXJMaXN0W2pdLm9uaW9ubGF5ZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3Rbal0uc3Rha2Vob2xkZXJzLnB1c2goc3Rha2Vob2xkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25TYXZlJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5zdGFrZWhvbGRlckxpc3QsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICBpZiAoc3Rha2Vob2xkZXIuX2lkID09IGRhdGEuX2lkKXtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnN0YWtlaG9sZGVyID0gZGF0YS5zdGFrZWhvbGRlcjtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGRhdGEub3BlbkVkaXQ7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci54ID0gZGF0YS54O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5ld1ZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXRTdWdnZXN0aW9uU2hvdyhzdGFrZWhvbGRlcil7XHJcbiAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxlYXZlU3VnZ2VzdGlvblNob3coc3Rha2Vob2xkZXIpe1xyXG4gICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlVmFsdWVJZGVudGljYXRpb24odmFsdWUsc3Rha2Vob2xkZXIpe1xyXG4gICAgICAgIHZhciBuZXdMaXN0ID0gW107XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHN0YWtlaG9sZGVyLnZhbHVlcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKHN0YWtlaG9sZGVyLnZhbHVlc1tpXSAhPSB2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICBuZXdMaXN0LnB1c2goc3Rha2Vob2xkZXIudmFsdWVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdGFrZWhvbGRlci52YWx1ZXMgPSBuZXdMaXN0O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblNhdmUnLCBzdGFrZWhvbGRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0VmFsdWVJZGVudGljYXRpb24oc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICBpZigoc3Rha2Vob2xkZXIubmV3VmFsdWVzID09PSBcIlwiKSB8fCAoc3Rha2Vob2xkZXIubmV3VmFsdWVzID09PSB1bmRlZmluZWQpKXtcclxuICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCdWYWxvciBuw6NvIGVzcGVjaWZpY2Fkby4nKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdmFyIHZhbHVlc0xpc3QgPSBzdGFrZWhvbGRlci5uZXdWYWx1ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCB2YWx1ZXNMaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKGZpbmRWYWx1ZShzdGFrZWhvbGRlci52YWx1ZXMsIHZhbHVlc0xpc3RbaV0pKXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJEdXBsaWNhdGUgdmFsdWU6IFwiICsgdmFsdWVzTGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci52YWx1ZXMucHVzaCh2YWx1ZXNMaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPSBcIlwiO1xyXG4gICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25TYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZFZhbHVlKGxpc3QsIHZhbHVlKXtcclxuICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZih2YWx1ZSA9PT0gbGlzdFtpXSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjgvMDcvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Byb2ZpbGVDb250cm9sbGVyJyxwcm9maWxlQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvZmlsZUNvbnRyb2xsZXIoJHdpbmRvdywkc3RhdGUsICRzY29wZSxzaWdudXBTZXJ2aWNlKXtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5zdGFydFByb2ZpbGUgPSBzdGFydFByb2ZpbGU7XHJcbiAgICAgICAgc2VsZi51cGxvYWRJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLnVwbG9hZFByb2dyZXNzID0gMDtcclxuICAgICAgICBzZWxmLnVzZXJpZDtcclxuICAgICAgICBzZWxmLnNhdmVQaG90byA9IHNhdmVQaG90bztcclxuICAgICAgICBzZWxmLnN5c3RlbVJldHVybiA9IHN5c3RlbVJldHVybjtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3lzdGVtUmV0dXJuKCl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnRwcm9ibGVtJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLm15SW1hZ2U9Jyc7XHJcbiAgICAgICAgc2VsZi5teUNyb3BwZWRJbWFnZT0nJztcclxuXHJcbiAgICAgICAgdmFyIGhhbmRsZUZpbGVTZWxlY3QgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICAgdmFyIGZpbGUgPSBldnQuY3VycmVudFRhcmdldC5maWxlc1swXTtcclxuICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm15SW1hZ2UgPSBldnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLGhhbmRsZUZpbGVTZWxlY3QpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzdGFydFByb2ZpbGUoKXtcclxuICAgICAgICAgICAgc2VsZi51c2VyaWQgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmlkXCIpO1xyXG4gICAgICAgICAgICBpZihzZWxmLnVzZXJpZCAhPT0gdW5kZWZpbmVkKXtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZVBob3RvKG15aW1hZ2Upe1xyXG4gICAgICAgICAgICB2YXIgdXNlclBob3RvID17XHJcbiAgICAgICAgICAgICAgICB1c2VyaWQgOiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmlkXCIpLFxyXG4gICAgICAgICAgICAgICAgcGhvdG8gOiBteWltYWdlXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNpZ251cFNlcnZpY2UudXBsb2FkUGhvdG8odXNlclBob3RvKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGhvdG9cIixteWltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiLS0tLS1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3NpZ251cENvbnRyb2xsZXInLCBzaWdudXBDb250cm9sbGVyKTtcclxuICAgIHNpZ251cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHRyYW5zbGF0ZScsJyR3aW5kb3cnLCdzaWdudXBTZXJ2aWNlJywnJHN0YXRlJywndG9hc3RBcHAnLCdBdXRoVG9rZW4nLCdBdXRoJywnJGZpbHRlcicsJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICBmdW5jdGlvbiBzaWdudXBDb250cm9sbGVyKCR0cmFuc2xhdGUsICR3aW5kb3csIHNpZ251cFNlcnZpY2UsJHN0YXRlLHRvYXN0QXBwLEF1dGhUb2tlbixBdXRoLCRmaWx0ZXIsJHN0YXRlUGFyYW1zKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubWVzc2FnZSAgPSAnJztcclxuICAgIHNlbGYuc2F2ZVVzZXIgICA9IHNhdmVVc2VyO1xyXG4gICAgc2VsZi5yZXNjdWVQYXNzd29yZCA9IHJlc2N1ZVBhc3N3b3JkO1xyXG4gICAgc2VsZi5jaGFuZ2VQYXNzd29yZCA9IGNoYW5nZVBhc3N3b3JkO1xyXG4gICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgIHNlbGYubG9naW5JblByb2dyZXNzID0gZmFsc2U7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVVzZXIodXNlcikge1xyXG4gICAgICBzaWdudXBTZXJ2aWNlLmNyZWF0ZSh1c2VyKVxyXG4gICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdXRUxDT01FX1NZU1RFTScpICsgdXNlci5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVtYWlsIErDoSBjYWRhc3RyYWRvXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNldExhbmcobGFuZ0tleSkge1xyXG4gICAgICAgICAgJHRyYW5zbGF0ZS51c2UobGFuZ0tleSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJlc2N1ZVBhc3N3b3JkKHVzZXJFbWFpbCl7XHJcbiAgICAgICAgICBzaWdudXBTZXJ2aWNlLnJlc2N1ZVBhc3N3b3JkKHVzZXJFbWFpbClcclxuICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRW1haWwgY29tIGluc3RydcOnw7VlcyBlbnZpYWRvIHBhcmEgXCIgKyB1c2VyRW1haWwuZW1haWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0LmxvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQodXNlcil7XHJcbiAgICAgICAgICBzaWdudXBTZXJ2aWNlLmNoYW5nZVBhc3N3b3JkKHVzZXIpXHJcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbmhhIGFsdGVyYWRhIGNvbSBzdWNlc3NvLiBGYcOnYSBsb2dpbiBjb20gYSBub3ZhIHNlbmhhLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVycm9yXCIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ3NpZ251cFNlcnZpY2UnLCBzaWdudXBTZXJ2aWNlKTtcclxuXHJcbiAgc2lnbnVwU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsJyRsb2NhdGlvbiddO1xyXG5cclxuICBmdW5jdGlvbiBzaWdudXBTZXJ2aWNlKCRodHRwLCRsb2NhdGlvbikge1xyXG5cclxuICAgIHZhciBBUElfUk9VVEVfVVNFUiA9ICcvYXBpL3NpZ251cC8nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9SRVNDVUVQQVNTV09SRCA9ICcvYXBpL3Jlc2N1ZXBhc3N3ZC8nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9TRVRORVdQQVNTV09SRCA9ICcvYXBpL3Jlc2N1ZXBhc3N3ZC9uZXdwYXNzd2QvJztcclxuICAgIHZhciBBUElfUk9VVEVfVVBEQVRFUEhPVE8gPSAnL2FwaS9wcm9maWxlL3Bob3RvLyc7XHJcblxyXG5cclxuICAgIHZhciBzZXJ2aWNlID0ge1xyXG4gICAgICBjcmVhdGUgICAgICAgICA6IGNyZWF0ZSxcclxuICAgICAgcmVzY3VlUGFzc3dvcmQgOiByZXNjdWVQYXNzd29yZCxcclxuICAgICAgY2hhbmdlUGFzc3dvcmQgOiBjaGFuZ2VQYXNzd29yZCxcclxuICAgICAgdXBsb2FkUGhvdG86IHVwbG9hZFBob3RvXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBzZXJ2aWNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX1VTRVIsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2N1ZVBhc3N3b3JkKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfUkVTQ1VFUEFTU1dPUkQsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKGRhdGEpe1xyXG4gICAgICB2YXIgbXl0b2tlblVSTCA9ICRsb2NhdGlvbi5zZWFyY2goKTtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfU0VUTkVXUEFTU1dPUkQgKyAnP215dG9rZW49JyArIG15dG9rZW5VUkwubXl0b2tlbisnJnBhc3N3b3JkPScrZGF0YS5wYXNzd29yZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBsb2FkUGhvdG8oZGF0YSkge1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfVVBEQVRFUEhPVE8sIGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjUvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbmZpZyhhcHBDb25maWcpO1xyXG5cclxuICAgIGFwcENvbmZpZy4kaW5qZWN0ID0gWyckbWRUaGVtaW5nUHJvdmlkZXInLCckbG9jYXRpb25Qcm92aWRlciddO1xyXG5cclxuICAgLyogZnVuY3Rpb24gYXBwQ29uZmlnICgkbWRUaGVtaW5nUHJvdmlkZXIsJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuXHJcbiAgICAgICAgIC8vJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG4gICAgICAgIHZhciBjdXN0b21HcmVlbk1hcCA9ICRtZFRoZW1pbmdQcm92aWRlci5leHRlbmRQYWxldHRlKCd0ZWFsJywge1xyXG4gICAgICAgICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxyXG4gICAgICAgICAgICAnY29udHJhc3REYXJrQ29sb3JzJzogWyc1MCddLFxyXG4gICAgICAgICAgICAnNTAnOiAnRTBGMkYxJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnY3VzdG9tR3JlZW4nLCBjdXN0b21HcmVlbk1hcCk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcclxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCdjdXN0b21HcmVlbicsIHtcclxuICAgICAgICAgICAgICAgICdkZWZhdWx0JzogJzUwMCcsXHJcbiAgICAgICAgICAgICAgICAnaHVlLTEnOiAnNTAnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hY2NlbnRQYWxldHRlKCd0ZWFsJyk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdpbnB1dCcsICdkZWZhdWx0JylcclxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCdncmVlbicpO1xyXG5cclxuICAgIH07Ki9cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBDb25maWcoJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XHJcbiAgICAgICAgLy8gRXh0ZW5kIHRoZSByZWQgdGhlbWUgd2l0aCBhIGZldyBkaWZmZXJlbnQgY29sb3JzXHJcbiAgICAgICAgdmFyIG5lb25SZWRNYXAgPSAkbWRUaGVtaW5nUHJvdmlkZXIuZXh0ZW5kUGFsZXR0ZSgndGVhbCcsIHtcclxuICAgICAgICAgICAgJzUwJzogJ0UwRjJGMScsXHJcbiAgICAgICAgICAgICcxMDAnOiAnQjJERkRCJyxcclxuICAgICAgICAgICAgJzIwMCc6ICc4MENCQzQnLFxyXG4gICAgICAgICAgICAnMzAwJzogJzREQjZBQycsXHJcbiAgICAgICAgICAgICc0MDAnOiAnMjZBNjlBJyxcclxuICAgICAgICAgICAgJzUwMCc6ICcwMDk2ODgnLFxyXG4gICAgICAgICAgICAnNjAwJzogJzAwODk3QicsXHJcbiAgICAgICAgICAgICc3MDAnOiAnMDA3OTZCJyxcclxuICAgICAgICAgICAgJzgwMCc6ICcwMDY5NUMnLFxyXG4gICAgICAgICAgICAnOTAwJzogJzAwNEQ0MCcsXHJcbiAgICAgICAgICAgICdBMTAwJzogJ0E3RkZFQicsXHJcbiAgICAgICAgICAgICdBMjAwJzogJzY0RkZEQScsXHJcbiAgICAgICAgICAgICdBNDAwJzogJzFERTlCNicsXHJcbiAgICAgICAgICAgICdBNzAwJzogJzAwQkZBNScsXHJcbiAgICAgICAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsICAgIC8vIHdoZXRoZXIsIGJ5IGRlZmF1bHQsIHRleHQgKGNvbnRyYXN0KVxyXG4gICAgICAgICAgICAvLyBvbiB0aGlzIHBhbGV0dGUgc2hvdWxkIGJlIGRhcmsgb3IgbGlnaHRcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnLCAnMTAwJywgLy9odWVzIHdoaWNoIGNvbnRyYXN0IHNob3VsZCBiZSAnZGFyaycgYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgJzIwMCcsICczMDAnLCAnNDAwJywgJ0ExMDAnXSxcclxuICAgICAgICAgICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiB1bmRlZmluZWRcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBSZWdpc3RlciB0aGUgbmV3IGNvbG9yIHBhbGV0dGUgbWFwIHdpdGggdGhlIG5hbWUgPGNvZGU+bmVvblJlZDwvY29kZT5cclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgndGVhbCcsIG5lb25SZWRNYXApO1xyXG4gICAgICAgIC8vIFVzZSB0aGF0IHRoZW1lIGZvciB0aGUgcHJpbWFyeSBpbnRlbnRpb25zXHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcclxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCd0ZWFsJylcclxuICAgICAgICAgICAgLmFjY2VudFBhbGV0dGUoJ2dyZWVuJyk7XHJcbiAgICB9XHJcblxyXG5cclxufSkoKTsiLCJcclxuKGZ1bmN0aW9uKCl7XHJcblxyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhdXRoU2VydmljZScsIFtdKVxyXG5cdFx0LmZhY3RvcnkoJ0F1dGgnLCBmdW5jdGlvbigkaHR0cCwgJHEsIEF1dGhUb2tlbikge1xyXG5cdFx0XHR2YXIgYXV0aEZhY3RvcnkgPSB7fTtcclxuXHRcdFx0YXV0aEZhY3RvcnkubG9naW4gPSBmdW5jdGlvbihlbWFpbCwgcGFzc3dvcmQpIHtcclxuXHRcdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2dpbicsIHtcclxuXHRcdFx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZFxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0XHRcdEF1dGhUb2tlbi5zZXRUb2tlbihkYXRhLnRva2VuKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhGYWN0b3J5LmxvZ291dCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdEF1dGhUb2tlbi5zZXRUb2tlbigpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXV0aEZhY3RvcnkuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXV0aEZhY3RvcnkuZ2V0VXNlciA9IGZ1bmN0aW9uKGlkKSB7XHJcblx0XHRcdFx0aWYoQXV0aFRva2VuLmdldFRva2VuKCkpIHtcclxuXHRcdFx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWUvP3VzZXJpZD0nICsgaWQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiAkcS5yZWplY3Qoe21lc3NhZ2U6IFwiVXNlciBoYXMgbm8gdG9rZW5cIn0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH07XHJcblx0XHRcdHJldHVybiBhdXRoRmFjdG9yeTtcclxuXHRcdH0pXHJcblx0XHQuZmFjdG9yeSgnQXV0aFRva2VuJywgZnVuY3Rpb24oJHdpbmRvdykge1xyXG5cclxuXHRcdFx0dmFyIGF1dGhUb2tlbkZhY3RvcnkgPSB7fTtcclxuXHJcblx0XHRcdGF1dGhUb2tlbkZhY3RvcnkuZ2V0VG9rZW4gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhUb2tlbkZhY3Rvcnkuc2V0VG9rZW4gPSBmdW5jdGlvbih0b2tlbikge1xyXG5cclxuXHRcdFx0XHRpZiAodG9rZW4pIHtcclxuXHRcdFx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0JHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gYXV0aFRva2VuRmFjdG9yeTtcclxuXHRcdH0pXHJcblx0XHQuZmFjdG9yeSgnQXV0aEludGVyY2VwdG9yJywgZnVuY3Rpb24oJHEsICRsb2NhdGlvbiwgQXV0aFRva2VuKSB7XHJcblx0XHRcdHZhciBpbnRlcmNlcHRvckZhY3RvcnkgPSB7fTtcclxuXHRcdFx0aW50ZXJjZXB0b3JGYWN0b3J5LnJlcXVlc3QgPSBmdW5jdGlvbihjb25maWcpIHtcclxuXHRcdFx0XHR2YXIgdG9rZW4gPSBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuXHRcdFx0XHRpZih0b2tlbikge1xyXG5cdFx0XHRcdFx0Y29uZmlnLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuJ10gPSB0b2tlbjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGNvbmZpZztcclxuXHRcdFx0fTtcclxuXHRcdFx0cmV0dXJuIGludGVyY2VwdG9yRmFjdG9yeTtcclxuXHRcdH0pO1xyXG59KSgpOyIsIlxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ0Ryb3BEU0MnLFtdKVxyXG4gICAgLmRpcmVjdGl2ZSgnZHJhZ2dhYmxlJywgZnVuY3Rpb24oJGRvY3VtZW50LFNvY2tldCwkd2luZG93KSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnQudGFyZ2V0LmlkLnN1YnN0cmluZygwLDExKSA9PSBcInN0YWtlaG9sZGVyXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBkcmFnZ2luZyBvZiBzZWxlY3RlZCBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Rha2Vob2xkZXIubG9jYWxjb2RlID0gICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsY29kZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ21vdXNlbW92ZScsIG1vdXNlbW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ21vdXNldXAnLCBtb3VzZXVwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbW91c2Vtb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgaWRfZGl2ID0gZXZlbnQudGFyZ2V0LmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlkX2RpdiA9PSAnc3ZnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkX2RpdiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdGFrZWhvbGRlci5vbmlvbmxheWVyID0gaWRfZGl2O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIHkgPSBldmVudC5wYWdlWTtcclxuICAgICAgICAgICAgICAgICAgICAgIHggPSBldmVudC5wYWdlWDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB5ICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAgeCArICdweCdcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgLypTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25Qb3NpdGlvbicsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBzdGFrZWhvbGRlci55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAgc3Rha2Vob2xkZXIueFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnN0YWtlaG9sZGVyLnggPSB4ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnN0YWtlaG9sZGVyLnkgPSB5ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgIC8vU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uUG9zaXRpb24nLCBzY29wZS5zdGFrZWhvbGRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbW91c2V1cCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ21vdXNlbW92ZScsIG1vdXNlbW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdtb3VzZXVwJywgbW91c2V1cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0TW92ZScsIHNjb3BlLnN0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgamVzdXMgb24gMjEvMDMvMjAxNi5cclxuICovXHJcbjsoZnVuY3Rpb24gKHVuZGVmaW5lZCkge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcFJ4RHJhZycsIFsncngnXSlcclxuICAgICAgICAuZGlyZWN0aXZlKCdyeGRyYWdnYWJsZScsIGZ1bmN0aW9uKCRkb2N1bWVudCwgJHdpbmRvdywgcngsIFNvY2tldCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHRocmVlIG1ham9yIGV2ZW50c1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvY2FsY29kZSA9ICAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbGNvZGUnKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb3VzZXVwICAgPSByeC5PYnNlcnZhYmxlLmZyb21FdmVudChlbGVtZW50LCAgICdtb3VzZXVwJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2Vtb3ZlID0gcnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoJGRvY3VtZW50LCAnbW91c2Vtb3ZlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2Vkb3duID0gcnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoZWxlbWVudCwgICAnbW91c2Vkb3duJykubWFwKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBvZmZzZXRzIHdoZW4gbW91c2UgZG93blxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogZXZlbnQuY2xpZW50WCAtIGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAgZXZlbnQuY2xpZW50WSAtIGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb21iaW5lIG1vdXNlIGRvd24gd2l0aCBtb3VzZSBtb3ZlIHVudGlsIG1vdXNlIHVwXHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2VkcmFnID0gbW91c2Vkb3duLnNlbGVjdE1hbnkoZnVuY3Rpb24oaW1hZ2VPZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW91c2Vtb3ZlLm1hcChmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBvZmZzZXRzIGZyb20gbW91c2UgZG93biB0byBtb3VzZSBtb3Zlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogcG9zLmNsaWVudFggLSBpbWFnZU9mZnNldC5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAgcG9zLmNsaWVudFkgLSBpbWFnZU9mZnNldC50b3BcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9KS50YWtlVW50aWwobW91c2V1cCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBtb3VzZWRyYWcuc3Vic2NyaWJlIChmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe3RvcDogcG9zLnRvcCArICdweCcsIGxlZnQ6IHBvcy5sZWZ0ICsgJ3B4J30pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcy5sb2NhbGNvZGUgPSBsb2NhbGNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE1vdmUnLHBvcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxufS5jYWxsKHRoaXMpKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignbG9naW5Db250cm9sbGVyJyxsb2dpbkNvbnRyb2xsZXIpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsb2dpbkNvbnRyb2xsZXIoJHRyYW5zbGF0ZSwgJHJvb3RTY29wZSwgJHN0YXRlLCBBdXRoLCAkd2luZG93LCAkZmlsdGVyLCB0b2FzdEFwcCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNlbGYuc2V0TGFuZyA9IHNldExhbmc7XHJcbiAgICAgICAgICAgIHNlbGYuZG9Mb2dvdXQgPSBkb0xvZ291dDtcclxuICAgICAgICAgICAgc2VsZi5kb0xvZ2luID0gZG9Mb2dpbjtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldExhbmcobGFuZ0tleSkge1xyXG4gICAgICAgICAgICAgICAgICR0cmFuc2xhdGUudXNlKGxhbmdLZXkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRMb2NhbENvZGUoKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHNlbGYubG9nZ2VkSW4gPSBBdXRoLmlzTG9nZ2VkSW4oKTtcclxuXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZWRJbiA9IEF1dGguaXNMb2dnZWRJbigpO1xyXG4gICAgICAgICAgICAgICAgQXV0aC5nZXRVc2VyKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXNlciA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkb0xvZ2luKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYuZXJyb3IgPSAnJztcclxuICAgICAgICAgICAgICAgIEF1dGgubG9naW4odXNlci5lbWFpbCwgdXNlci5wYXNzd29yZClcclxuICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyZW1haWxcIixkYXRhLmVtYWlsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJpZFwiLGRhdGEuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibG9jYWxjb2RlXCIsZGF0YS5pZCArICctJyArIGdldExvY2FsQ29kZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm5pY2tuYW1lXCIsZGF0YS5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0TGFuZyhkYXRhLmxhbmd1YWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXV0aC5nZXRVc2VyKGRhdGEuaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih1c2VyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZSgkZmlsdGVyKCd0cmFuc2xhdGUnKSgnV0VMQ09NRV9TWVNURU0nKSArIFwiOiBcIiArIGRhdGEubmlja25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwaG90b1wiLHVzZXJEYXRhLmRhdGEucGhvdG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzdGFydHByb2JsZW0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlVzdcOhcmlvIGUgc2VuaGEgbsOjbyBjb25mZXJlbS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkb0xvZ291dCgpIHtcclxuICAgICAgICAgICAgICAgIEF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUoJ2luaXQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyMS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuc2VydmljZSgnU29ja2V0JyxcclxuICAgICAgICBbJyRsb2NhdGlvbicsICckdGltZW91dCcsXHJcbiAgICBmdW5jdGlvbigkbG9jYXRpb24sICR0aW1lb3V0KSB7XHJcbiAgICAgICAgaWYgKHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQgPSBpbygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQuZW1pdChldmVudE5hbWUsIGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5dKVxyXG5cclxufSkoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
