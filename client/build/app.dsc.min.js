!function(){"use strict";angular.module("app",["ngImgCrop","toastService","textAngular","luegg.directives","DropDSC","authService","ui.router","ngMaterial","ngMdIcons","ngCookies","pascalprecht.translate"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor")}])}(),function(){"use strict";function e(e){function t(t){this.message=t,e.show({controller:"toastController",controllerAs:"vm",templateUrl:"views/pages/dsctoast.html",action:"OK",highlightAction:!0,position:"top left",hideDelay:5e3})}var o={message:"",errorMessage:t};return o}angular.module("toastService",[]).controller("toastController",["$mdToast","toastApp",function(e,t){var o=this;o.message=t.message,o.closeToast=function(){e.hide()}}]).factory("toastApp",e),e.$inject=["$mdToast"]}(),function(){"use strict";function e(e,t){e.state("init",{url:"/",templateUrl:"views/pages/initpage.html",controller:"loginController as vm"}).state("init.login",{url:"login",views:{"content-tab":{templateUrl:"views/pages/userlogin.html",controller:"loginController as vm"}}}).state("init.signup",{url:"signup",views:{"content-tab":{templateUrl:"views/pages/signup.html",controller:"signupController as vm"}}}).state("init.rescuepassword",{url:"rescuepassword",views:{"content-tab":{templateUrl:"views/pages/rescuepassword.html",controller:"signupController as vm"}}}).state("startproblem",{url:"/startproblem",templateUrl:"views/pages/startproblem.html",controller:"startProblemController as vm"}).state("profile",{url:"/profile",templateUrl:"views/pages/profile.html",controller:"profileController as vm"}).state("newpassword",{url:"/newpassword/:mytoken",templateUrl:"views/pages/newpassword.html",controller:"signupController as vm"}).state("problem",{url:"/problem",templateUrl:"views/pages/problem.html",controller:"menuProblemController as vm"}).state("problem.dscreport",{url:"/dscreport",views:{"problem-description":{templateUrl:"views/pages/dscreport.html",controller:"dscReportController as vm"}}}).state("problem.description",{url:"/description",views:{"problem-description":{templateUrl:"views/pages/problemdescription.html",controller:"editProblemController as vm"}}}).state("problem.collaborators",{url:"/collaborators",views:{"problem-description":{templateUrl:"views/pages/collaborators.html",controller:"controllerCollaborators as vm"}}}).state("problem.stakeholders",{url:"stakeholders",views:{"dsc-artifact":{templateUrl:"views/pages/stakeholders.html",controller:"stakeholderController as vm"}}}).state("problem.evaluationframework",{url:"evaluationframework",views:{"dsc-artifact":{templateUrl:"views/pages/evaluationframework.html",controller:"evaluationframeworkController as vm"}}}).state("problem.semioticframework",{url:"semioticframework",views:{"dsc-artifact":{templateUrl:"views/pages/semioticframework.html",controller:"semioticframeworkController as vm"}}}).state("problem.carf",{url:"carf",views:{"dsc-artifact":{templateUrl:"views/pages/carf.html",controller:"carfController as vm"}}}).state("problem.vif",{url:"vif",views:{"dsc-artifact":{templateUrl:"views/pages/vif.html",controller:"valueIdentificationFrameController as vm"}}}),t.otherwise("/login")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.useStaticFilesLoader({prefix:"app/language/lang-",suffix:".json"}),e.preferredLanguage("en"),e.useSanitizeValueStrategy("escaped"),e.useLocalStorage()}function t(e){function t(t){e.use(t)}var o=this;o.setLang=t}function o(){return{templateUrl:"app/language/changeLanguage.html",restrict:"E"}}angular.module("app").config(e).controller("languageController",t).directive("changeLanguage",o),e.$inject=["$translateProvider"],t.$inject=["$translate"]}(),function(){"use strict";function e(e,t,o,r){function a(){t.go("startproblem")}function n(){s.userid=e.localStorage.getItem("userid"),void 0!==s.userid}function i(t){var o={userid:e.localStorage.getItem("userid"),photo:t};r.uploadPhoto(o).success(function(o){o.success?e.localStorage.setItem("photo",t):toastApp.errorMessage("-----")})}var s=this;s.startProfile=n,s.uploadInProgress=!0,s.uploadProgress=0,s.userid,s.savePhoto=i,s.systemReturn=a,s.myImage="",s.myCroppedImage="";var l=function(e){var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){o.$apply(function(t){t.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",l)}angular.module("app").controller("profileController",e),e.$inject=["$window","$state","$scope","signupService"]}(),function(){"use strict";function e(e,t,o,r,a,n,i,s,l){function c(e){o.create(e).success(function(t){t.success?(a.errorMessage(s("translate")("WELCOME_SYSTEM")+e.nickname),r.go("init.login")):a.errorMessage("Email Já cadastrado")})}function u(t){e.use(t)}function m(e){o.rescuePassword(e).success(function(e){a.errorMessage(e.success?"Email com instruções enviado":"Error")})}function p(e){o.changePassword(e).success(function(e){e.success?(a.errorMessage("Senha alterada com sucesso. Faça login com a nova senha."),r.go("init.login")):a.errorMessage("Error")})}var d=this;d.message="",d.save=c,d.rescuePassword=m,d.changePassword=p,d.setLang=u,d.loginInProgress=!1}angular.module("app").controller("signupController",e),e.$inject=["$translate","$window","signupService","$state","toastApp","AuthToken","Auth","$filter","$stateParams"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(i,t)}function r(t){return e.post(s,t)}function a(o){var r=t.search();return e.get(l+"?mytoken="+r.mytoken+"&password="+o.password)}function n(t){return e.post(c,t)}var i="/api/signup/",s="/api/rescuepasswd/",l="/api/rescuepasswd/newpasswd/",c="/api/profile/photo/",u={create:o,rescuePassword:r,changePassword:a,uploadPhoto:n};return u}angular.module("app").factory("signupService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e,t,o,r){function a(){p.idProblem=e.localStorage.getItem("problemid"),o.getcarf(p.idProblem).success(function(e){e.success&&(p.localStakeholders=e.stakeholders,p.stakeholderList=p.localStakeholders,p.carfList=e.carf,p.carfPriorityList=p.localPriorityList)}),p.inProcessing=!1}function n(){p.carf={_id:"",pms:"",values:[],priority:"",requirement:"",stakeholders:[]},p.valueList=[]}function i(e){""===e.pms?r.errorMessage("Select PMS"):e.values.length<1?r.errorMessage("Select one or more Value"):e.stakeholders.length<1?r.errorMessage("Select one or more Stakeholder(s)"):""===e.priority?r.errorMessage("Select priority [Low, Medium or High]"):(t.emit("broadcastCARFadd",e),p.stakeholderList=[],p.carfPriorityList=[])}function s(e,o){var r={index:e,carf:o};t.emit("broadcastCARFremove",r)}function l(e){void 0!==e&&angular.forEach(p.carfPMSValue,function(t){return t.pms==e?(p.carf.values=[],void(p.valueList=t.values)):void 0})}function c(e){p.carf.priority=e}function u(e){if(0===p.carf.values.length)p.carf.values.push(e);else{for(var t=0;t<p.carf.values.length;t++)if(e==p.carf.values[t])return void p.carf.values.splice(t,1);p.carf.values.push(e)}}function m(e){if(0===p.carf.stakeholders.length)p.carf.stakeholders.push(e);else{for(var t=0;t<p.carf.stakeholders.length;t++)if(e==p.carf.stakeholders[t])return void p.carf.stakeholders.splice(t,1);p.carf.stakeholders.push(e)}}var p=this;p.idProblem="",p.inProcessing=!0,p.valueList=[],p.stakeholderList=[],p.localStakeholders=[],p.addpmsvalue=i,p.removeCARF=s,p.selectPMSValue=l,p.setPriotity=c,p.addListValue=u,p.addStakeholder=m,p.carf={pms:"",values:[],priority:"",requirement:"",stakeholders:[]},p.initCarf=a,p.carfList=[],p.carfPriorityList=[],t.on("onBroadcastCARFadd",function(e){p.carfList.push(e),n(),p.stakeholderList=p.localStakeholders,p.carfPriorityList=p.localPriorityList}),t.on("onBroadcastCARFremove",function(e){p.carfList.splice(e,1)}),p.localPriorityList=["Low","Medium","High"],p.carfPMSValue=[{pms:"Interaction",values:["Identity","Norms"]},{pms:"Association",values:["Conversation","Groups","Relationship","Trust"]},{pms:"Learning",values:["Meta-communication"]},{pms:"Play",values:["Aesthetics","Emotion and Affection"]},{pms:"Protection",values:["Informed consert","Reputation","Security"]},{pms:"Exploitation",values:["Accessibility","Object","Property (ownership)","Usability"]},{pms:"Teporality",values:["Availability","Awareness","Presence"]},{pms:"Territoriality",values:["Portability","Privacy","Scalability","Visibility"]},{pms:"Classification",values:["Autonomy","Collaboration","Sharing","Adaptability"]},{pms:"Subsistence",values:["Reciprocity"]}]}angular.module("app").controller("carfController",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r){function a(){l.idProblem=e.localStorage.getItem("problemid"),l.useremail=e.localStorage.getItem("useremail"),o.getcollaborators(l.idProblem).success(function(e){e.success?l.collaborators=e.collaborators:r.errorMessage(e.message)})}function n(e){for(var t=0;t<l.collaborators.length;t++)if(e==l.collaborators[t].email)return!0;return!1}function i(e){if(l.useremail==e)r.errorMessage(l.useremail+" is email of owner.");else if(n(e))r.errorMessage("Usuario Cadastrado.");else{var t={idproblem:l.idProblem,email:e};o.invite(t).success(function(e){e.success?l.collaborators=e.collaborators:r.errorMessage(e.message)})}}function s(e){var t={idproblem:l.idProblem,email:e.email};o.removecollaborators(t).success(function(e){e.success?(r.errorMessage("Colaborador foi removido do projeto."),l.collaborators=e.collaborators):r.errorMessage(e.message)})}var l=this;l.idProblem="",l.collaborators=[],l.useremail="",l.initCollaborators=a,l.addCollaborator=i,l.removeCollaborator=s}angular.module("app").controller("controllerCollaborators",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){function e(){function e(e){var t=document.getElementById("projectResport"),o=new jsPDF("l","px");o.addHTML(t,0,0,{pagesplit:!0},function(e){o.save("test.pdf")})}var t=this;t.idproblem="ajflajfljalfjaljf",t.buidReport=e}angular.module("app").controller("dscReportController",e)}(),function(){"use strict";function e(e,t,o,r){function a(){s.idproblem=e.localStorage.getItem("problemid"),t.getevaluation(s.idproblem).success(function(e){e.success?s.evaluationframeworkList=e.evaluationframework:r.errorMessage(e.message)})}function n(e){o.emit("broadcastFrameSave",e)}function i(e){e.openEdit=!0}var s=this;s.evaluationframeworkList=[],s.initEvaluation=a,s.setOpenEditDiscution=i,s.saveDiscution=n,o.on("onBroadcastFrameSave",function(e){angular.forEach(s.evaluationframeworkList,function(t){t.onionlayer==e.onionlayer&&angular.forEach(t.stakeholders,function(t){t._id==e._id&&(t.name=e.name,t.onionlayer=e.onionlayer,t.description=e.description,t.openEdit=e.openEdit,t.problems=e.problems,t.solutions=e.solutions)})})}),o.on("onUpdateStakeholder",function(e){console.log(e)})}angular.module("app").controller("evaluationframeworkController",e),e.$inject=["$window","problemService","Socket","toastApp"]}(),function(){"use strict";function e(e,t,o,r,a,n,i,s,l){function c(){v.isOpenChat=!v.isOpenChat,document.getElementById("message").focus()}function u(){v.idProblem=o.localStorage.getItem("problemid"),v.nickname=o.localStorage.getItem("nickname"),v.photo=o.localStorage.getItem("photo"),r.gethistorychat(v.idProblem).success(function(e){if(e.success)for(var t=0;t<e.historychat.length;t++){var o=new Date(e.historychat[t].time),r={nickname:e.historychat[t].nickname,msg:e.historychat[t].msg,time:o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear()+" ["+o.getHours()+":"+o.getMinutes()+"] "};v.messages.push(r)}}),a.emit("checkUsers")}function m(){v.replay=v.replay?!1:!0}function p(e){void 0!==e&&""!==e&&(a.emit("broadcastChat",e),v.newmsg="")}function d(){n.go("startproblem")}function g(){n.go("problem.collaborators")}function f(){n.go("problem.description")}function h(){e.logout(),n.go("init.login")}var v=this;v.openChat=c,v.isOpenChat=!1,v.formAddCollaborators=g,v.editDescriptionProblem=f,v.doLogout=h,v.systemReturn=d,v.newmsg="",v.messages=[],v.replay=!1,v.nickname="",v.userList=[],v.initHistoryChat=u,v.showReplay=m,v.sendMessage=p,v.photo="",a.on("onBroadcastChat",function(e){var t=new Date(e[e.length-1].time);v.messages.push({nickname:e[e.length-1].nickname,msg:e[e.length-1].msg,time:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" ["+t.getHours()+":"+t.getMinutes()+"] "})}),a.on("onCheckUsers",function(e){v.userList=e})}angular.module("app").controller("menuProblemController",e),e.$inject=["Auth","$timeout","$window","problemService","Socket","$state","$mdSidenav","$mdUtil","$log"]}(),function(){"use strict";function e(e,t,o,r,a){function n(){c.idProblem=r.localStorage.getItem("problemid"),a.getproblem(c.idProblem).success(function(e){e.success?c.problem=e.problem:o.errorMessage(e.message)})}function i(){u=!0}function s(o){o.update=u,e.emit("atualizarProblema",o),u&&(u=!1,t(i,2e3))}function l(t){t.update=u,e.emit("atualizarProblema",t)}var c=this,u=!0;c.problem="",c.problemUpdate=s,c.getCurrentProblem=n,c.saveDescription=l,e.on("onAtualizarProblema",function(e){c.problem.description=e.description,c.problem.update=u})}angular.module("app").controller("editProblemController",e),e.$injectre=["$scope","Socket"],e.$inject=["Socket","$timeout","toastApp","$window","problemService"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(v,t)}function r(t){return e.get(b+"?idproblem="+t)}function a(t){return e.get(f+"?email="+t)}function n(t){return e.get(k+"?idproblem="+t)}function i(t){return e.post(w,t)}function s(t){return e.get(y+"?idproblem="+t)}function l(t){return e.get(S+"?idproblem="+t)}function c(t){return e.get(P+"?idproblem="+t)}function u(t){return e.get($+"?idproblem="+t)}function m(t){return e.get(C+"?idproblem="+t)}function p(t){return e.get(h+"?email="+t)}function d(t){return e.get(L+"?idproblem="+t.idproblem+"&email="+t.email)}function g(t){return e.get(I+"?idproblem="+t)}var f="/api/problem/getproblems",h="/api/problem/getproblemscollaborator",v="/api/problem/newproblem",b="/api/problem/getproblem",k="/api/problem/getcollaborators",w="/api/problem/invite",y="/api/problem/getonion",S="/api/problem/getevaluation",P="/api/problem/getsemiotic",$="/api/problem/getcarf",C="/api/problem/removeproblem",L="/api/problem/removecollaborator",I="/api/problem/historychat",A={newproblem:o,getuserproblems:a,getproblem:r,getcollaborators:n,invite:i,getonion:s,getevaluation:l,getsemiotic:c,getcarf:u,removeproblem:m,getproblemscollaborator:p,removecollaborators:d,gethistorychat:g};return A}angular.module("app").factory("problemService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e,t,o,r){function a(){m.idproblem=t.localStorage.getItem("problemid"),o.getsemiotic(m.idproblem).success(function(e){e.success?m.semioticframework=e.semioticframework:r.errorMessage(e.message)})}function n(t,o){var r={text:t,update:o};e.emit("updateSocialWorld",r)}function i(t,o){var r={text:t,update:o};e.emit("updatePragmatic",r)}function s(t,o){var r={text:t,update:o};e.emit("updateSemantic",r)}function l(t,o){var r={text:t,update:o};e.emit("updateSyntatic",r)}function c(t,o){var r={text:t,update:o};e.emit("updateEmpirical",r)}function u(t,o){var r={text:t,update:o};e.emit("updatePhysical",r)}var m=this;m.idproblem="",m.saveSocialWorld=n,m.savePragmatic=i,m.saveSemantic=s,m.saveSyntatic=l,m.saveEmpirical=c,m.savePhysical=u,m.semioticframework="",m.initSemioticFramework=a,e.on("onUpdateSocialWorld",function(e){m.semioticframework.socialworld=e}),e.on("onUpdatePragmatic",function(e){m.semioticframework.pragmatic=e}),e.on("onUpdateSemantic",function(e){m.semioticframework.semioticramework=e}),e.on("onUpdateSyntatic",function(e,t){m.semioticframework.syntatic=e}),e.on("onUpdateEmpirical",function(e){m.semioticframework.empirical=e}),e.on("onUpdatePhysical",function(e){m.semioticframework.physical=e})}angular.module("app").controller("semioticframeworkController",e),e.$inject=["Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r,a){function n(){d.idproblem=t.localStorage.getItem("problemid"),o.getonion(d.idproblem).success(function(e){e.success?d.stakeholderList=e.stakeholders:a.errorMessage(e.message)}),d.inProcessing=!1}function i(t){console.log("Salvar...."+t.name),console.log("Salvar...."+t.description),e.emit("broadcastOnionSave",t)}function s(t){e.emit("broadcastOnionEdit",t)}function l(t,o){var r={index:t,stakeholder:o};e.emit("broadcastOnionRemove",r)}function c(e,t,o){var a=r.confirm().parent(angular.element(document.body)).title("Detete Stakeholder?").content("Title: "+o.name).ariaLabel("Remove Stakeholder").ok("Yes!").cancel("Cancel").targetEvent(e);r.show(a).then(function(){l(t,o)})}function u(t,o){var r={onionlayer:o,name:"",description:"",openEdit:!0,x:t.pageX+"px",y:t.pageY+"px"};e.emit("broadcastOnionAdd",r)}function m(e){document.getElementById("name"+e).setAttribute("style","text-decoration: underline;"),document.getElementById("legend"+e).setAttribute("opacity","0.7"),document.getElementById(e).setAttribute("opacity","0.7")}function p(e){document.getElementById("name"+e).setAttribute("style","text-decoration: none;"),document.getElementById("legend"+e).setAttribute("opacity","1.0"),document.getElementById(e).setAttribute("opacity","1.0")}var d=this;d.idproblem="",d.stakeholderList=[],d.stakeholder="",d.intitOnion=n,d.move=!1,d.inProcessing=!0,d.saveStakeholder=i,d.setOpenEdit=s,d.delPostIt=c,d.addPostIt=u,d.acende=m,d.apaga=p,e.on("onBroadcastOnionSave",function(e){angular.forEach(d.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y)})}),e.on("onBroadcastOnionEdit",function(e){angular.forEach(d.stakeholderList,function(t){t._id===e&&(t.openEdit=!0)})}),e.on("onBroadcastOnionRemove",function(e){var t=document.getElementById("stakeholder"+d.stakeholderList[e]._id);t.style.display="none",d.stakeholderList.splice(e,1)}),e.on("onBroadcastOnionAdd",function(e){d.stakeholderList.push(e)})}angular.module("app").controller("stakeholderController",e),e.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(),function(){"use strict";function e(e,t,o,r,a,n,i){function s(){h.userid=a.localStorage.getItem("userid"),h.nickname=a.localStorage.getItem("nickname"),h.useremail=a.localStorage.getItem("useremail"),h.photo=a.localStorage.getItem("photo"),n.getuserproblems(h.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,460);h.problemList=e.problems}else i.errorMessage(e.message)}),n.getproblemscollaborator(h.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,460);h.problemCollaboratorList=e.problems}else i.errorMessage(e.message)}),h.loginInProgress=!1}function l(e){n.removeproblem(e).success(function(t){if(t.success){for(var o=0;o<h.problemList.length;o++)if(h.problemList[o]._id==e){h.problemList.splice(o,1);break}}else i.errorMessage(t.message)})}function c(t,o){var r=e.confirm().parent(angular.element(document.body)).title("Detete Problem?").content("Title: "+o.title).ariaLabel("Remove Problem").ok("Desejo remover!").cancel("Cancel").targetEvent(t);e.show(r).then(function(){l(o._id)})}function u(e){e.userid=h.userid,n.newproblem(e).success(function(e){e.success?h.editProblem(e.problem):i.errorMessage(e.message)})}function m(e){a.localStorage.setItem("problemid",e._id);var o={idproblem:e._id,nickname:h.nickname};r.emit("initProblem",o),t.go("problem.stakeholders")}function p(){o.logout(),t.go("init.login")}function d(){t.go("profile")}function g(t){e.show({controller:f,templateUrl:"views/pages/newproblem.html",parent:angular.element(document.body),targetEvent:t})}function f(e,t){e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.addNewProblem=function(e){h.startNewProblem(e),t.cancel()}}var h=this;h.nickname="",h.userid="",h.useremail="",h.problemList=[],h.problemCollaboratorList=[],h.loginInProgress=!0,h.getProblems=s,h.revomveProblem=c,h.startNewProblem=u,h.editProblem=m,h.doLogout=p,h.newProblem=g,h.editProfile=d,h.photo,f.$inject=["$scope","$mdDialog"]}angular.module("app").controller("startProblemController",e),e.$inject=["$mdDialog","$state","Auth","Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r){function a(){u.idproblem=e.localStorage.getItem("problemid"),t.getonion(u.idproblem).success(function(e){if(e.success){if(e.stakeholders.length>0){for(var t=1;t<u.sugestionValuesArray.length;t++)u.sugestionValues+=u.sugestionValuesArray[t]+", ";u.sugestionValues[u.sugestionValuesArray[u.sugestionValuesArray.length-1]]+".";for(var r=0;r<e.stakeholders.length;r++)for(var a=0;a<u.stakeholderList.length;a++){var n={_id:e.stakeholders[r]._id,onionlayer:e.stakeholders[r].onionlayer,values:e.stakeholders[r].values,name:e.stakeholders[r].name,description:e.stakeholders[r].description,openEdit:e.stakeholders[r].openEdit,x:e.stakeholders[r].x,y:e.stakeholders[r].y,newValues:[]};e.stakeholders[r].onionlayer!=u.stakeholderList[a].onionlayer||u.stakeholderList[a].stakeholders.push(n)}}u.inProcessing=!1}else o.errorMessage(e.message)})}function n(e){e.openEdit=!0}function i(e){e.openEdit=!1}function s(e,t){for(var o=[],a=0;a<t.values.length;a++)t.values[a]!=e&&o.push(t.values[a]);t.values=o,r.emit("broadcastOnionSave",t)}function l(e){if(""===e.newValues||void 0===e.newValues)o.errorMessage("Valor n�o especificado.");else{for(var t=e.newValues.split(","),a=0;a<t.length;a++)c(e.values,t[a])?o.errorMessage("Duplicate value: "+t[a]):e.values.push(t[a]);e.newValues="",e.openEdit=!1,r.emit("broadcastOnionSave",e)}}function c(e,t){for(var o=0;o<e.length;o++)if(t===e[o])return!0;return!1}var u=this;u.inProcessing=!0,u.idProblem="",u.useremail="",u.newvalues="",u.initValueIdentificationFrame=a,u.setSuggestionShow=n,u.leaveSuggestionShow=i,u.removeValueIdentication=s,u.setValueIdentication=l,u.sugestionValues="",u.stakeholderList=[{onionlayer:"Community",stakeholders:[]},{onionlayer:"Market",stakeholders:[]},{onionlayer:"Source",stakeholders:[]},{onionlayer:"Contruibuition",stakeholders:[]},{onionlayer:"Technico",stakeholders:[]}],u.sugestionValuesArray=["Acessibilidade","Adaptabilidade","Estética","Autonomia","Disponibilidade","Consciência","Colaboração","Conversação","Emoção e Afeto","Grupos","Identidade","Consentimento informado","Meta-comunicação","Normas","Objeto","Portabilidade","Presença","Privacidade","Propriedade","Reciprocidade, Relacionamento, Reputação","Escalabilidade","Segurança","Compartilhamento","Confiança","Usabilidade","Visibilidade"],r.on("onBroadcastOnionSave",function(e){console.log(e),angular.forEach(u.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.newValues=[])})})}angular.module("app").controller("valueIdentificationFrameController",e),e.$inject=["$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t){var o=e.extendPalette("teal",{contrastDefaultColor:"light",contrastDarkColors:["50"],50:"E0F2F1"});e.definePalette("customGreen",o),e.theme("default").primaryPalette("customGreen",{"default":"500","hue-1":"50"}).accentPalette("teal"),e.theme("input","default").primaryPalette("green")}angular.module("app").config(e),e.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";angular.module("authService",[]).factory("Auth",["$http","$q","AuthToken",function(e,t,o){var r={};return r.login=function(t,r){return e.post("/api/login",{email:t,password:r}).success(function(e){return o.setToken(e.token),e})},r.logout=function(){o.setToken()},r.isLoggedIn=function(){return o.getToken()?!0:!1},r.getUser=function(r){return o.getToken()?e.get("/api/me/?userid="+r):t.reject({message:"User has no token"})},r}]).factory("AuthToken",["$window",function(e){var t={};return t.getToken=function(){return e.localStorage.getItem("token")},t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token")},t}]).factory("AuthInterceptor",["$q","$location","AuthToken",function(e,t,o){var r={};return r.request=function(e){var t=o.getToken();return t&&(e.headers["x-access-token"]=t),e},r}])}(),angular.module("DropDSC",[]).directive("draggable",["$document","Socket",function(e,t){return{restrict:"A",replace:!0,link:function(t,o,r){function a(e){var r=e.target.id;"svg"==r&&(r=""),t.stakeholder.onionlayer=r,y=e.pageY,x=e.pageX,o.css({top:y+"px",left:x+"px"}),t.stakeholder.x=x+"px",t.stakeholder.y=y+"px"}function n(){e.unbind("mousemove",a),e.unbind("mouseup",n)}o.on("mousedown",function(t){"stakeholder"==t.target.id.substring(0,11)&&(t.preventDefault(),e.bind("mousemove",a),e.bind("mouseup",n))})}}}]),function(){"use strict";function e(e,t,o,r,a,n,i){function s(t){e.use(t)}function l(e){u.inProcessing=!0,u.error="",r.login(e.email,e.password).success(function(e){a.localStorage.setItem("useremail",e.email),a.localStorage.setItem("userid",e.id),a.localStorage.setItem("nickname",e.nickname),u.setLang(e.language),r.getUser(e.id).then(function(t){i.errorMessage(n("translate")("WELCOME_SYSTEM")+": "+u.user.nickname),e.success?(console.log(t),a.localStorage.setItem("photo",t.data.photo),u.inProcessing=!1,o.go("startproblem")):u.error=e.message})})}function c(){r.logout(),o("init")}var u=this;u.inProcessing=!1,u.setLang=s,u.doLogout=c,u.doLogin=l,u.loggedIn=r.isLoggedIn(),t.$on("$routeChangeStart",function(){u.loggedIn=r.isLoggedIn(),r.getUser().then(function(e){u.user=e.data})})}angular.module("app").controller("loginController",e),e.$inject=["$translate","$rootScope","$state","Auth","$window","$filter","toastApp"]}(),function(){"use strict";angular.module("app").service("Socket",["$location","$timeout",function(e,t){this.socket=io(),this.on=function(e,o){this.socket&&this.socket.on(e,function(e){t(function(){o(e)})})},this.emit=function(e,t){this.socket&&this.socket.emit(e,t)},this.removeListener=function(e){this.socket&&this.socket.removeListener(e)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRzYy5hcHAuanMiLCJ0b2FzdC5zZXJ2aWNlLmpzIiwicm91dGVyLmFwcC5qcyIsImFwcC5kc2MubWluLmpzIiwibGFuZ3VhZ2UvdHJhbnNsYXRlLmNvbnRyb2xsZXIuanMiLCJ1c2VyL3Byb2ZpbGUuY29udHJvbGxlci5qcyIsInVzZXIvc2lnbnVwLmNvbnRyb2xsZXIuanMiLCJ1c2VyL3NpZ251cC5zZXJ2aWNlLmpzIiwicHJvYmxlbS9jYXJmLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2NvbGxhYm9yYXRvcnMuY29udHJvbGxlci5qcyIsInByb2JsZW0vZHNjcmVzcG9ydC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9ldmFsdWF0aW9uZnJhbWV3b3JrLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL21lbnUucHJvYmxlbS5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9wcm9ibGVtLmVkaXQuY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5zZXJ2aWNlLmpzIiwicHJvYmxlbS9zZW1pb3RpY2ZyYW1ld29yay5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3N0YWtlaG9sZGVyLmVkaXQuY29udHJvbGxlci5qcyIsInByb2JsZW0vc3RhcnQucHJvYmxlbS5jb250cm9sbGVyLmpzIiwicHJvYmxlbS92YWx1ZWRlbnRpZmljYXRpb25mcmFtZS5jb250cm9sbGVyLmpzIiwiYXBwLmNvbmZpZy5qcyIsImF1dGguc2VydmljZS5qcyIsImRyYWcuZHNjLmpzIiwibG9naW4uY29udHJvbGxlci5qcyIsInNvY2tldC5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkaHR0cFByb3ZpZGVyIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsInRvYXN0QXBwIiwiJG1kVG9hc3QiLCJlcnJvck1lc3NhZ2UiLCJ0aGlzIiwibWVzc2FnZSIsInNob3ciLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwidGVtcGxhdGVVcmwiLCJhY3Rpb24iLCJoaWdobGlnaHRBY3Rpb24iLCJwb3NpdGlvbiIsImhpZGVEZWxheSIsInNlcnZpY2UiLCJzZWxmIiwiY2xvc2VUb2FzdCIsImhpZGUiLCJmYWN0b3J5IiwiJGluamVjdCIsInJvdXRlcyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsImNvbnRlbnQtdGFiIiwicHJvYmxlbS1kZXNjcmlwdGlvbiIsImRzYy1hcnRpZmFjdCIsIm90aGVyd2lzZSIsImluaXRMYW5ndWFnZSIsIiR0cmFuc2xhdGVQcm92aWRlciIsInVzZVN0YXRpY0ZpbGVzTG9hZGVyIiwicHJlZml4Iiwic3VmZml4IiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJsYW5ndWFnZUNvbnRyb2xsZXIiLCIkdHJhbnNsYXRlIiwic2V0TGFuZyIsImxhbmdLZXkiLCJ1c2UiLCJjaGFuZ2VMYW5ndWFnZSIsInJlc3RyaWN0IiwiZGlyZWN0aXZlIiwicHJvZmlsZUNvbnRyb2xsZXIiLCIkd2luZG93IiwiJHN0YXRlIiwiJHNjb3BlIiwic2lnbnVwU2VydmljZSIsInN5c3RlbVJldHVybiIsImdvIiwic3RhcnRQcm9maWxlIiwidXNlcmlkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInVuZGVmaW5lZCIsInNhdmVQaG90byIsIm15aW1hZ2UiLCJ1c2VyUGhvdG8iLCJwaG90byIsInVwbG9hZFBob3RvIiwic3VjY2VzcyIsImRhdGEiLCJzZXRJdGVtIiwidXBsb2FkSW5Qcm9ncmVzcyIsInVwbG9hZFByb2dyZXNzIiwibXlJbWFnZSIsIm15Q3JvcHBlZEltYWdlIiwiaGFuZGxlRmlsZVNlbGVjdCIsImV2dCIsImZpbGUiLCJjdXJyZW50VGFyZ2V0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiJGFwcGx5IiwidGFyZ2V0IiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvbiIsInNpZ251cENvbnRyb2xsZXIiLCJBdXRoVG9rZW4iLCJBdXRoIiwiJGZpbHRlciIsIiRzdGF0ZVBhcmFtcyIsInNhdmVVc2VyIiwidXNlciIsImNyZWF0ZSIsIm5pY2tuYW1lIiwicmVzY3VlUGFzc3dvcmQiLCJ1c2VyRW1haWwiLCJjaGFuZ2VQYXNzd29yZCIsInNhdmUiLCJsb2dpbkluUHJvZ3Jlc3MiLCIkaHR0cCIsIiRsb2NhdGlvbiIsInBvc3QiLCJBUElfUk9VVEVfVVNFUiIsIkFQSV9ST1VURV9SRVNDVUVQQVNTV09SRCIsIm15dG9rZW5VUkwiLCJzZWFyY2giLCJnZXQiLCJBUElfUk9VVEVfU0VUTkVXUEFTU1dPUkQiLCJteXRva2VuIiwicGFzc3dvcmQiLCJBUElfUk9VVEVfVVBEQVRFUEhPVE8iLCJjYXJmQ29udHJvbGxlciIsIlNvY2tldCIsInByb2JsZW1TZXJ2aWNlIiwiaW5pdENhcmYiLCJpZFByb2JsZW0iLCJnZXRjYXJmIiwibG9jYWxTdGFrZWhvbGRlcnMiLCJzdGFrZWhvbGRlcnMiLCJzdGFrZWhvbGRlckxpc3QiLCJjYXJmTGlzdCIsImNhcmYiLCJjYXJmUHJpb3JpdHlMaXN0IiwibG9jYWxQcmlvcml0eUxpc3QiLCJpblByb2Nlc3NpbmciLCJyZXNldENhcmYiLCJfaWQiLCJwbXMiLCJ2YWx1ZXMiLCJwcmlvcml0eSIsInJlcXVpcmVtZW50IiwidmFsdWVMaXN0IiwiYWRkcG1zdmFsdWUiLCJsZW5ndGgiLCJlbWl0IiwicmVtb3ZlQ0FSRiIsImluZGV4Iiwib2JqIiwic2VsZWN0UE1TVmFsdWUiLCJmb3JFYWNoIiwiY2FyZlBNU1ZhbHVlIiwicG1zX3ZhbHVlIiwic2V0UHJpb3RpdHkiLCJhZGRMaXN0VmFsdWUiLCJuZXd2YWx1ZSIsImkiLCJzcGxpY2UiLCJhZGRTdGFrZWhvbGRlciIsIm5ld1N0YWtlaG9sZGVyIiwiaWQiLCJjb250cm9sbGVyQ29sbGFib3JhdG9ycyIsImluaXRDb2xsYWJvcmF0b3JzIiwidXNlcmVtYWlsIiwiZ2V0Y29sbGFib3JhdG9ycyIsImNvbGxhYm9yYXRvcnMiLCJzZWFyY2hDYWxsYWJvcmF0aW9uIiwiZW1haWwiLCJhZGRDb2xsYWJvcmF0b3IiLCJpbnZpdGUiLCJpZHByb2JsZW0iLCJyZW1vdmVDb2xsYWJvcmF0b3IiLCJwZW9wbGUiLCJyZW1vdmVjb2xsYWJvcmF0b3JzIiwiZHNjUmVwb3J0Q29udHJvbGxlciIsImJ1aWRSZXBvcnQiLCJodG1sIiwiZ2V0RWxlbWVudEJ5SWQiLCJwZGYiLCJqc1BERiIsImFkZEhUTUwiLCJwYWdlc3BsaXQiLCJkaXNwb3NlIiwiZXZhbHVhdGlvbmZyYW1ld29ya0NvbnRyb2xsZXIiLCJpbml0RXZhbHVhdGlvbiIsImdldGV2YWx1YXRpb24iLCJldmFsdWF0aW9uZnJhbWV3b3JrTGlzdCIsImV2YWx1YXRpb25mcmFtZXdvcmsiLCJzYXZlRGlzY3V0aW9uIiwic3Rha2Vob2xkZXIiLCJzZXRPcGVuRWRpdERpc2N1dGlvbiIsImN1cnJlbnRTdGFrZWhvbGRlciIsIm9wZW5FZGl0Iiwib25pb25sYXllciIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInByb2JsZW1zIiwic29sdXRpb25zIiwic3Rha2Vob2xkZXJPbmlvbiIsImNvbnNvbGUiLCJsb2ciLCJtZW51UHJvYmxlbWFDb250cm9sbGVyIiwiJHRpbWVvdXQiLCIkbWRTaWRlbmF2IiwiJG1kVXRpbCIsIiRsb2ciLCJvcGVuQ2hhdCIsImlzT3BlbkNoYXQiLCJmb2N1cyIsImluaXRIaXN0b3J5Q2hhdCIsImdldGhpc3RvcnljaGF0IiwiaGlzdG9yeWNoYXQiLCJ0bXAiLCJEYXRlIiwidGltZSIsIm1zbiIsIm1zZyIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwibWVzc2FnZXMiLCJzaG93UmVwbGF5IiwicmVwbGF5Iiwic2VuZE1lc3NhZ2UiLCJjaGF0bXNnIiwibmV3bXNnIiwiZm9ybUFkZENvbGxhYm9yYXRvcnMiLCJlZGl0RGVzY3JpcHRpb25Qcm9ibGVtIiwiZG9Mb2dvdXQiLCJsb2dvdXQiLCJ1c2VyTGlzdCIsImVkaXRQcm9ibGVtYUNvbnRyb2xsZXIiLCJnZXRDdXJyZW50UHJvYmxlbSIsImdldHByb2JsZW0iLCJwcm9ibGVtIiwic2V0VXBkYXRlIiwidXBkYXRlVHJ1ZSIsInByb2JsZW1VcGRhdGUiLCJ1cGRhdGUiLCJzYXZlRGVzY3JpcHRpb24iLCJyZXRvcm5vIiwiJGluamVjdHJlIiwibmV3cHJvYmxlbSIsIkFQSV9ST1VURV9ORVdQUk9CTEVNIiwiQVBJX1JPVVRFX0dFVFBST0JMRU0iLCJnZXR1c2VycHJvYmxlbXMiLCJBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TIiwiQVBJX1JPVVRFX0dFVENPTExBQk9SQVRPUlMiLCJBUElfUk9VVEVfSU5WSVRFIiwiZ2V0b25pb24iLCJBUElfUk9VVEVfR0VUT05JT04iLCJBUElfUk9VVEVfR0VURVZBTFVBVElPTiIsImdldHNlbWlvdGljIiwiQVBJX1JPVVRFX0dFVFNFTUlPVElDRlJBTUVXT1JLIiwiQVBJX1JPVVRFX0dFVENBUkYiLCJyZW1vdmVwcm9ibGVtIiwiQVBJX1JPVVRFX1JFTU9WRVBST0JMRU0iLCJnZXRwcm9ibGVtc2NvbGxhYm9yYXRvciIsIkFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVNDT0xMQUJPUkFUT1IiLCJBUElfUk9VVEVfUkVNT1ZFQ09MTEFCT1JBVE9SIiwiQVBJX1JPVVRFX0dFVEhJU1RPUllDSEFUIiwic2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyIiwiaW5pdFNlbWlvdGljRnJhbWV3b3JrIiwic2VtaW90aWNmcmFtZXdvcmsiLCJzYXZlU29jaWFsV29ybGQiLCJ0ZXh0IiwiZmxhZ1NhdmUiLCJzYXZlUHJhZ21hdGljIiwic2F2ZVNlbWFudGljIiwic2F2ZVN5bnRhdGljIiwic2F2ZUVtcGlyaWNhbCIsInNhdmVQaHlzaWNhbCIsInNvY2lhbHdvcmxkIiwicHJhZ21hdGljIiwic2VtaW90aWNyYW1ld29yayIsInN5bnRhdGljIiwiZW1waXJpY2FsIiwicGh5c2ljYWwiLCJzdGFrZWhvbGRlckNvbnRyb2xsZXIiLCIkbWREaWFsb2ciLCJpbnRpdE9uaW9uIiwic2F2ZVN0YWtlaG9sZGVyIiwic2V0T3BlbkVkaXQiLCJyZW1vdmVQb3N0SXQiLCJkZWxQb3N0SXQiLCJldiIsImNvbmZpcm0iLCJwYXJlbnQiLCJib2R5IiwidGl0bGUiLCJjb250ZW50IiwiYXJpYUxhYmVsIiwib2siLCJjYW5jZWwiLCJ0YXJnZXRFdmVudCIsInRoZW4iLCJhZGRQb3N0SXQiLCJlIiwiY2FtYWRhIiwieCIsInBhZ2VYIiwieSIsInBhZ2VZIiwiYWNlbmRlIiwic2V0QXR0cmlidXRlIiwiYXBhZ2EiLCJtb3ZlIiwic3R5bGUiLCJkaXNwbGF5Iiwic3RhcnRQcm9ibGVtQ29udHJvbGxlciIsImdldFByb2JsZW1zIiwicmVwbGFjZSIsInN1YnN0cmluZyIsInByb2JsZW1MaXN0IiwicHJvYmxlbUNvbGxhYm9yYXRvckxpc3QiLCJkZWxldGVQcm9ibGVtIiwicHJvYmxlbWlkIiwicmV2b212ZVByb2JsZW0iLCJzdGFydE5ld1Byb2JsZW0iLCJlZGl0UHJvYmxlbSIsImluaXRzb2NrZXRwcm9ibGVtIiwiZWRpdFByb2ZpbGUiLCJuZXdQcm9ibGVtIiwiRGlhbG9nQ29udHJvbGxlciIsImFkZE5ld1Byb2JsZW0iLCJ2YWx1ZUlkZW50aWZpY2F0aW9uRnJhbWVDb250cm9sbGVyIiwiaW5pdFZhbHVlSWRlbnRpZmljYXRpb25GcmFtZSIsImsiLCJzdWdlc3Rpb25WYWx1ZXNBcnJheSIsInN1Z2VzdGlvblZhbHVlcyIsImoiLCJuZXdWYWx1ZXMiLCJzZXRTdWdnZXN0aW9uU2hvdyIsImxlYXZlU3VnZ2VzdGlvblNob3ciLCJyZW1vdmVWYWx1ZUlkZW50aWNhdGlvbiIsInZhbHVlIiwibmV3TGlzdCIsInNldFZhbHVlSWRlbnRpY2F0aW9uIiwidmFsdWVzTGlzdCIsInNwbGl0IiwiZmluZFZhbHVlIiwibGlzdCIsIm5ld3ZhbHVlcyIsImFwcENvbmZpZyIsIiRtZFRoZW1pbmdQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiY3VzdG9tR3JlZW5NYXAiLCJleHRlbmRQYWxldHRlIiwiY29udHJhc3REZWZhdWx0Q29sb3IiLCJjb250cmFzdERhcmtDb2xvcnMiLCI1MCIsImRlZmluZVBhbGV0dGUiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiZGVmYXVsdCIsImh1ZS0xIiwiYWNjZW50UGFsZXR0ZSIsIiRxIiwiYXV0aEZhY3RvcnkiLCJsb2dpbiIsInNldFRva2VuIiwidG9rZW4iLCJpc0xvZ2dlZEluIiwiZ2V0VG9rZW4iLCJnZXRVc2VyIiwicmVqZWN0IiwiYXV0aFRva2VuRmFjdG9yeSIsInJlbW92ZUl0ZW0iLCJpbnRlcmNlcHRvckZhY3RvcnkiLCJyZXF1ZXN0IiwiaGVhZGVycyIsIiRkb2N1bWVudCIsImxpbmsiLCJzY29wZSIsImF0dHIiLCJtb3VzZW1vdmUiLCJldmVudCIsImlkX2RpdiIsImNzcyIsInRvcCIsImxlZnQiLCJtb3VzZXVwIiwidW5iaW5kIiwicHJldmVudERlZmF1bHQiLCJiaW5kIiwibG9naW5Db250cm9sbGVyIiwiJHJvb3RTY29wZSIsImRvTG9naW4iLCJlcnJvciIsImxhbmd1YWdlIiwidXNlckRhdGEiLCJsb2dnZWRJbiIsIiRvbiIsInNvY2tldCIsImlvIiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJyZW1vdmVMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkNBR0EsV0FDQSxZQUVBQSxTQUNBQyxPQUFBLE9BQUEsWUFBQSxlQUFBLGNBQUEsbUJBQUEsVUFBQSxjQUFBLFlBQUEsYUFBQSxZQUFBLFlBQUEsMkJBQ0FDLFFBQUEsZ0JBQUEsU0FBQUMsR0FDQUEsRUFBQUMsYUFBQUMsS0FBQSx5QkNOQSxXQUVBLFlBY0EsU0FBQUMsR0FBQUMsR0FPQSxRQUFBQyxHQUFBQSxHQUNBQyxLQUFBQyxRQUFBRixFQUNBRCxFQUFBSSxNQUVBQyxXQUFBLGtCQUNBQyxhQUFBLEtBQ0FDLFlBQUEsNEJBQ0FDLE9BQUEsS0FDQUMsaUJBQUEsRUFDQUMs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QVcsVUFBVyxlb0J4OER2RyxXQUVBLFlBRUF4QixTQUNBQyxPQUFBLE9BQ0FrQixRQUFBLFVBQ0EsWUFBQSxXQUNBLFNBQUF1RixFQUFBMkYsR0FFQTVMLEtBQUE2WCxPQUFBQyxLQUtBOVgsS0FBQWlGLEdBQUEsU0FBQThTLEVBQUFDLEdBQ0FoWSxLQUFBNlgsUUFDQTdYLEtBQUE2WCxPQUFBNVMsR0FBQThTLEVBQUEsU0FBQW5VLEdBQ0FnSSxFQUFBLFdBQ0FvTSxFQUFBcFUsUUFNQTVELEtBQUFtSSxLQUFBLFNBQUE0UCxFQUFBblUsR0FDQTVELEtBQUE2WCxRQUNBN1gsS0FBQTZYLE9BQUExUCxLQUFBNFAsRUFBQW5VLElBSUE1RCxLQUFBaVksZUFBQSxTQUFBRixHQUNBL1gsS0FBQTZYLFFBQ0E3WCxLQUFBNlgsT0FBQUksZUFBQUYiLCJmaWxlIjoiYXBwLmRzYy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnLFsnbmdJbWdDcm9wJywndG9hc3RTZXJ2aWNlJywndGV4dEFuZ3VsYXInLCdsdWVnZy5kaXJlY3RpdmVzJywgJ0Ryb3BEU0MnLCdhdXRoU2VydmljZScsJ3VpLnJvdXRlcicsJ25nTWF0ZXJpYWwnLCduZ01kSWNvbnMnLCduZ0Nvb2tpZXMnLCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXHJcbiAgICAgICAgLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhJbnRlcmNlcHRvcicpO1xyXG4gICAgICAgIH0pXHJcblxyXG59KSgpO1xyXG5cclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjcvMDYvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgndG9hc3RTZXJ2aWNlJyxbXSlcclxuICAgICAgICAuY29udHJvbGxlcigndG9hc3RDb250cm9sbGVyJywgZnVuY3Rpb24oJG1kVG9hc3QsdG9hc3RBcHApIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2UgPSAgdG9hc3RBcHAubWVzc2FnZTtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVRvYXN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5oaWRlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmFjdG9yeSggJ3RvYXN0QXBwJywgdG9hc3RBcHAgKTtcclxuXHJcbiAgICB0b2FzdEFwcC4kaW5qZWN0ID0gWyAnJG1kVG9hc3QnIF07XHJcblxyXG4gICAgZnVuY3Rpb24gdG9hc3RBcHAgKCRtZFRvYXN0KSB7XHJcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVycm9yTWVzc2FnZShlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd0b2FzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2RzY3RvYXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJPS1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodEFjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJ0b3AgbGVmdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVEZWxheTogNTAwMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbmZpZyhyb3V0ZXMpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJvdXRlcygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcblxyXG5cclxuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnaW5pdCcsIHtcclxuICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvaW5pdHBhZ2UuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LmxvZ2luJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnbG9naW4nLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10YWInOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvdXNlcmxvZ2luLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbG9naW5Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LnNpZ251cCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3NpZ251cCcsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9zaWdudXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LnJlc2N1ZXBhc3N3b3JkJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAncmVzY3VlcGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10YWInOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcmVzY3VlcGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdzdGFydHByb2JsZW0nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvc3RhcnRwcm9ibGVtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc3RhcnRwcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YXJ0UHJvYmxlbUNvbnRyb2xsZXIgYXMgdm0nXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2ZpbGUnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvcHJvZmlsZScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Byb2ZpbGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvZmlsZUNvbnRyb2xsZXIgYXMgdm0nXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ25ld3Bhc3N3b3JkJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL25ld3Bhc3N3b3JkLzpteXRva2VuJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvbmV3cGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbnVwQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3Byb2JsZW0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21lbnVQcm9ibGVtQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmRzY3JlcG9ydCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9kc2NyZXBvcnQnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAncHJvYmxlbS1kZXNjcmlwdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9kc2NyZXBvcnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdkc2NSZXBvcnRDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmRlc2NyaXB0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2Rlc2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3Byb2JsZW0tZGVzY3JpcHRpb24nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvYmxlbWRlc2NyaXB0aW9uLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZWRpdFByb2JsZW1Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmNvbGxhYm9yYXRvcnMnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvY29sbGFib3JhdG9ycycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdwcm9ibGVtLWRlc2NyaXB0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2NvbGxhYm9yYXRvcnMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb250cm9sbGVyQ29sbGFib3JhdG9ycyBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5zdGFrZWhvbGRlcnMnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdzdGFrZWhvbGRlcnMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3N0YWtlaG9sZGVycy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YWtlaG9sZGVyQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5ldmFsdWF0aW9uZnJhbWV3b3JrJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnZXZhbHVhdGlvbmZyYW1ld29yaycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvZXZhbHVhdGlvbmZyYW1ld29yay5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5zZW1pb3RpY2ZyYW1ld29yaycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3NlbWlvdGljZnJhbWV3b3JrJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2RzYy1hcnRpZmFjdCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9zZW1pb3RpY2ZyYW1ld29yay5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5jYXJmJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnY2FyZicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvY2FyZi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NhcmZDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLnZpZicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3ZpZicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvdmlmLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9sb2dpbicpO1xyXG5cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiIsbnVsbCwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxOS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoaW5pdExhbmd1YWdlKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2xhbmd1YWdlQ29udHJvbGxlcicsbGFuZ3VhZ2VDb250cm9sbGVyKVxyXG4gICAgLmRpcmVjdGl2ZSgnY2hhbmdlTGFuZ3VhZ2UnLGNoYW5nZUxhbmd1YWdlKTtcclxuXHJcbmluaXRMYW5ndWFnZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlUHJvdmlkZXInXTtcclxubGFuZ3VhZ2VDb250cm9sbGVyLiRpbmplY3QgPSBbJyR0cmFuc2xhdGUnXTtcclxuXHJcbmZ1bmN0aW9uIGluaXRMYW5ndWFnZSAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVN0YXRpY0ZpbGVzTG9hZGVyKHtcclxuICAgICAgICAgICAgcHJlZml4OiAnYXBwL2xhbmd1YWdlL2xhbmctJyxcclxuICAgICAgICAgICAgc3VmZml4OiAnLmpzb24nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3koJ2VzY2FwZWQnKTtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlTG9jYWxTdG9yYWdlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxhbmd1YWdlQ29udHJvbGxlciAoJHRyYW5zbGF0ZSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgIGZ1bmN0aW9uIHNldExhbmcobGFuZ0tleSkge1xyXG4gICAgICAgICAgICAkdHJhbnNsYXRlLnVzZShsYW5nS2V5KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gY2hhbmdlTGFuZ3VhZ2UoKXtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdGVtcGxhdGVVcmwgOiBcImFwcC9sYW5ndWFnZS9jaGFuZ2VMYW5ndWFnZS5odG1sXCIsXHJcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOC8wNy8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcigncHJvZmlsZUNvbnRyb2xsZXInLHByb2ZpbGVDb250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9maWxlQ29udHJvbGxlcigkd2luZG93LCRzdGF0ZSwgJHNjb3BlLHNpZ251cFNlcnZpY2Upe1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLnN0YXJ0UHJvZmlsZSA9IHN0YXJ0UHJvZmlsZTtcclxuICAgICAgICBzZWxmLnVwbG9hZEluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYudXBsb2FkUHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgIHNlbGYudXNlcmlkO1xyXG4gICAgICAgIHNlbGYuc2F2ZVBob3RvID0gc2F2ZVBob3RvO1xyXG4gICAgICAgIHNlbGYuc3lzdGVtUmV0dXJuID0gc3lzdGVtUmV0dXJuO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzeXN0ZW1SZXR1cm4oKXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdzdGFydHByb2JsZW0nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYubXlJbWFnZT0nJztcclxuICAgICAgICBzZWxmLm15Q3JvcHBlZEltYWdlPScnO1xyXG5cclxuICAgICAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdD1mdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICAgdmFyIGZpbGU9ZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5teUltYWdlPWV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlSW5wdXQnKSkub24oJ2NoYW5nZScsaGFuZGxlRmlsZVNlbGVjdCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0UHJvZmlsZSgpe1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJpZCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyaWRcIik7XHJcbiAgICAgICAgICAgIGlmKHNlbGYudXNlcmlkICE9PSB1bmRlZmluZWQpe1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzYXZlUGhvdG8obXlpbWFnZSl7XHJcbiAgICAgICAgICAgIHZhciB1c2VyUGhvdG8gPXtcclxuICAgICAgICAgICAgICAgIHVzZXJpZCA6ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyaWRcIiksXHJcbiAgICAgICAgICAgICAgICBwaG90byA6IG15aW1hZ2VcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2lnbnVwU2VydmljZS51cGxvYWRQaG90byh1c2VyUGhvdG8pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwaG90b1wiLG15aW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCItLS0tLVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcblxyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3NpZ251cENvbnRyb2xsZXInLCBzaWdudXBDb250cm9sbGVyKTtcclxuICAgIHNpZ251cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHRyYW5zbGF0ZScsJyR3aW5kb3cnLCdzaWdudXBTZXJ2aWNlJywnJHN0YXRlJywndG9hc3RBcHAnLCdBdXRoVG9rZW4nLCdBdXRoJywnJGZpbHRlcicsJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICBmdW5jdGlvbiBzaWdudXBDb250cm9sbGVyKCR0cmFuc2xhdGUsICR3aW5kb3csIHNpZ251cFNlcnZpY2UsJHN0YXRlLHRvYXN0QXBwLEF1dGhUb2tlbixBdXRoLCRmaWx0ZXIsJHN0YXRlUGFyYW1zKXtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLm1lc3NhZ2UgID0gJyc7XHJcbiAgICBzZWxmLnNhdmUgICA9IHNhdmVVc2VyO1xyXG4gICAgc2VsZi5yZXNjdWVQYXNzd29yZCA9IHJlc2N1ZVBhc3N3b3JkO1xyXG4gICAgc2VsZi5jaGFuZ2VQYXNzd29yZCA9IGNoYW5nZVBhc3N3b3JkO1xyXG4gICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgIHNlbGYubG9naW5JblByb2dyZXNzID0gZmFsc2U7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVVzZXIodXNlcikge1xyXG4gICAgICBzaWdudXBTZXJ2aWNlLmNyZWF0ZSh1c2VyKVxyXG4gICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdXRUxDT01FX1NZU1RFTScpICsgdXNlci5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVtYWlsIErDoSBjYWRhc3RyYWRvXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNldExhbmcobGFuZ0tleSkge1xyXG4gICAgICAgICAgJHRyYW5zbGF0ZS51c2UobGFuZ0tleSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJlc2N1ZVBhc3N3b3JkKHVzZXJFbWFpbCl7XHJcbiAgICAgICAgICBzaWdudXBTZXJ2aWNlLnJlc2N1ZVBhc3N3b3JkKHVzZXJFbWFpbClcclxuICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRW1haWwgY29tIGluc3RydcOnw7VlcyBlbnZpYWRvXCIpO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVycm9yXCIpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKHVzZXIpe1xyXG4gICAgICAgICAgc2lnbnVwU2VydmljZS5jaGFuZ2VQYXNzd29yZCh1c2VyKVxyXG4gICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZW5oYSBhbHRlcmFkYSBjb20gc3VjZXNzby4gRmHDp2EgbG9naW4gY29tIGEgbm92YSBzZW5oYS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJFcnJvclwiKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuXHJcbiAgfVxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnc2lnbnVwU2VydmljZScsIHNpZ251cFNlcnZpY2UpO1xyXG5cclxuICBzaWdudXBTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywnJGxvY2F0aW9uJ107XHJcblxyXG4gIGZ1bmN0aW9uIHNpZ251cFNlcnZpY2UoJGh0dHAsJGxvY2F0aW9uKSB7XHJcblxyXG4gICAgdmFyIEFQSV9ST1VURV9VU0VSID0gJy9hcGkvc2lnbnVwLyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1JFU0NVRVBBU1NXT1JEID0gJy9hcGkvcmVzY3VlcGFzc3dkLyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1NFVE5FV1BBU1NXT1JEID0gJy9hcGkvcmVzY3VlcGFzc3dkL25ld3Bhc3N3ZC8nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9VUERBVEVQSE9UTyA9ICcvYXBpL3Byb2ZpbGUvcGhvdG8vJztcclxuXHJcblxyXG4gICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgIGNyZWF0ZSAgICAgICAgIDogY3JlYXRlLFxyXG4gICAgICByZXNjdWVQYXNzd29yZCA6IHJlc2N1ZVBhc3N3b3JkLFxyXG4gICAgICBjaGFuZ2VQYXNzd29yZCA6IGNoYW5nZVBhc3N3b3JkLFxyXG4gICAgICB1cGxvYWRQaG90bzogdXBsb2FkUGhvdG9cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHNlcnZpY2U7XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfVVNFUiwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzY3VlUGFzc3dvcmQoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9SRVNDVUVQQVNTV09SRCwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQoZGF0YSl7XHJcbiAgICAgIHZhciBteXRva2VuVVJMID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9TRVRORVdQQVNTV09SRCArICc/bXl0b2tlbj0nICsgbXl0b2tlblVSTC5teXRva2VuKycmcGFzc3dvcmQ9JytkYXRhLnBhc3N3b3JkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGxvYWRQaG90byhkYXRhKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9VUERBVEVQSE9UTywgZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxNC8wNy8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoXCJjYXJmQ29udHJvbGxlclwiLGNhcmZDb250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjYXJmQ29udHJvbGxlcigkd2luZG93LFNvY2tldCxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCl7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmlkUHJvYmxlbSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYudmFsdWVMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzID0gW107XHJcbiAgICAgICAgc2VsZi5hZGRwbXN2YWx1ZSA9IGFkZHBtc3ZhbHVlO1xyXG4gICAgICAgIHNlbGYucmVtb3ZlQ0FSRiA9IHJlbW92ZUNBUkY7XHJcbiAgICAgICAgc2VsZi5zZWxlY3RQTVNWYWx1ZSA9IHNlbGVjdFBNU1ZhbHVlO1xyXG4gICAgICAgIHNlbGYuc2V0UHJpb3RpdHkgPSBzZXRQcmlvdGl0eTtcclxuICAgICAgICBzZWxmLmFkZExpc3RWYWx1ZSA9IGFkZExpc3RWYWx1ZTtcclxuICAgICAgICBzZWxmLmFkZFN0YWtlaG9sZGVyID0gYWRkU3Rha2Vob2xkZXI7XHJcbiAgICAgICAgc2VsZi5jYXJmID0ge1xyXG4gICAgICAgICAgICBwbXM6IFwiXCIsXHJcbiAgICAgICAgICAgIHZhbHVlczogW10sXHJcbiAgICAgICAgICAgIHByaW9yaXR5OiBcIlwiLFxyXG4gICAgICAgICAgICByZXF1aXJlbWVudDogXCJcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuaW5pdENhcmYgPSBpbml0Q2FyZjtcclxuICAgICAgICBzZWxmLmNhcmZMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5jYXJmUHJpb3JpdHlMaXN0ID0gW107XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRDYXJmKCl7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGNhcmYoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9jYWxTdGFrZWhvbGRlcnMgPSBkYXRhLnN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmZMaXN0ID0gZGF0YS5jYXJmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBzZWxmLmxvY2FsUHJpb3JpdHlMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzZXRDYXJmKCl7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZiA9IHtcclxuICAgICAgICAgICAgICAgIF9pZDogXCJcIixcclxuICAgICAgICAgICAgICAgIHBtczogXCJcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlczogW10sXHJcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogXCJcIixcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzZWxmLnZhbHVlTGlzdCA9IFtdO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RDQVJGYWRkJywgZnVuY3Rpb24gKGNhcmYpIHtcclxuICAgICAgICAgICAgc2VsZi5jYXJmTGlzdC5wdXNoKGNhcmYpO1xyXG4gICAgICAgICAgICByZXNldENhcmYoKTtcclxuICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBzZWxmLmxvY2FsUHJpb3JpdHlMaXN0O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRwbXN2YWx1ZShjYXJmKXtcclxuXHJcbiAgICAgICAgICAgIGlmKGNhcmYucG1zID09PSBcIlwiKXtcclxuICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBQTVNcIik7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgaWYoY2FyZi52YWx1ZXMubGVuZ3RoIDwgMSApe1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBvbmUgb3IgbW9yZSBWYWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhcmYuc3Rha2Vob2xkZXJzLmxlbmd0aCA8IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZWxlY3Qgb25lIG9yIG1vcmUgU3Rha2Vob2xkZXIocylcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhcmYucHJpb3JpdHkgPT09IFwiXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IHByaW9yaXR5IFtMb3csIE1lZGl1bSBvciBIaWdoXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0Q0FSRmFkZCcsIGNhcmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZlByaW9yaXR5TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENBUkZyZW1vdmUnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgc2VsZi5jYXJmTGlzdC5zcGxpY2UoaWQsMSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNBUkYoaW5kZXgsY2FyZil7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICBjYXJmOiBjYXJmXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDQVJGcmVtb3ZlJywgb2JqKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZWxlY3RQTVNWYWx1ZShwbXMpe1xyXG4gICAgICAgICAgICBpZihwbXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuY2FyZlBNU1ZhbHVlLCBmdW5jdGlvbiAocG1zX3ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBtc192YWx1ZS5wbXMgPT0gcG1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi52YWx1ZUxpc3QgPSBwbXNfdmFsdWUudmFsdWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldFByaW90aXR5KHByaW9yaXR5KXtcclxuICAgICAgICAgICAgc2VsZi5jYXJmLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRMaXN0VmFsdWUobmV3dmFsdWUpe1xyXG4gICAgICAgICAgIGlmKHNlbGYuY2FyZi52YWx1ZXMubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMucHVzaChuZXd2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmNhcmYudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICBpZiAobmV3dmFsdWUgPT0gc2VsZi5jYXJmLnZhbHVlc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBzZWxmLmNhcmYudmFsdWVzLnB1c2gobmV3dmFsdWUpO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFN0YWtlaG9sZGVyKG5ld1N0YWtlaG9sZGVyKXtcclxuICAgICAgICAgICAgaWYoc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5wdXNoKG5ld1N0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld1N0YWtlaG9sZGVyID09IHNlbGYuY2FyZi5zdGFrZWhvbGRlcnNbaV0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5wdXNoKG5ld1N0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5sb2NhbFByaW9yaXR5TGlzdCA9IFsnTG93JywgJ01lZGl1bScsJ0hpZ2gnXTtcclxuXHJcbiAgICAgICAgc2VsZi5jYXJmUE1TVmFsdWUgPSBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJJbnRlcmFjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJZGVudGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk5vcm1zXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiQXNzb2NpYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udmVyc2F0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiR3JvdXBzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVsYXRpb25zaGlwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVHJ1c3RcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJMZWFybmluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJNZXRhLWNvbW11bmljYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJQbGF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkFlc3RoZXRpY3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJFbW90aW9uIGFuZCBBZmZlY3Rpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJQcm90ZWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkluZm9ybWVkIGNvbnNlcnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJSZXB1dGF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU2VjdXJpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJFeHBsb2l0YXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQWNjZXNzaWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk9iamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlByb3BlcnR5IChvd25lcnNoaXApXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVXNhYmlsaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiVGVwb3JhbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBdmFpbGFiaWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBd2FyZW5lc3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQcmVzZW5jZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlRlcnJpdG9yaWFsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlBvcnRhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJpdmFjeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNjYWxhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVmlzaWJpbGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkNsYXNzaWZpY2F0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkF1dG9ub215XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29sbGFib3JhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNoYXJpbmdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBZGFwdGFiaWxpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJTdWJzaXN0ZW5jZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJSZWNpcHJvY2l0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDEwLzA3LzIwMTUuXHJcbiAqL1xyXG5cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdjb250cm9sbGVyQ29sbGFib3JhdG9ycycsIGNvbnRyb2xsZXJDb2xsYWJvcmF0b3JzKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250cm9sbGVyQ29sbGFib3JhdG9ycygkd2luZG93LFNvY2tldCxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCl7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmlkUHJvYmxlbSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5jb2xsYWJvcmF0b3JzID0gW107XHJcbiAgICAgICAgc2VsZi51c2VyZW1haWwgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYuaW5pdENvbGxhYm9yYXRvcnMgPSBpbml0Q29sbGFib3JhdG9ycztcclxuICAgICAgICBzZWxmLmFkZENvbGxhYm9yYXRvciA9IGFkZENvbGxhYm9yYXRvcjtcclxuICAgICAgICBzZWxmLnJlbW92ZUNvbGxhYm9yYXRvciA9IHJlbW92ZUNvbGxhYm9yYXRvcjtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdENvbGxhYm9yYXRvcnMoKXtcclxuICAgICAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICAgICAgc2VsZi51c2VyZW1haWwgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyZW1haWwnKTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0Y29sbGFib3JhdG9ycyhzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb2xsYWJvcmF0b3JzID0gZGF0YS5jb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1NvY2tldC5lbWl0KCdjaGVja1VzZXJzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VhcmNoQ2FsbGFib3JhdGlvbihlbWFpbCl7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzZWxmLmNvbGxhYm9yYXRvcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgaWYoZW1haWwgPT0gc2VsZi5jb2xsYWJvcmF0b3JzW2ldLmVtYWlsKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRDb2xsYWJvcmF0b3IoZW1haWwpe1xyXG4gICAgICAgICAgICBpZihzZWxmLnVzZXJlbWFpbCA9PSBlbWFpbCl7XHJcbiAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2Uoc2VsZi51c2VyZW1haWwgKyBcIiBpcyBlbWFpbCBvZiBvd25lci5cIik7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hDYWxsYWJvcmF0aW9uKGVtYWlsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlVzdWFyaW8gQ2FkYXN0cmFkby5cIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnZpdGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkcHJvYmxlbTogc2VsZi5pZFByb2JsZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuaW52aXRlKGludml0ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnMgPSBkYXRhLmNvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQ29sbGFib3JhdG9yKHBlb3BsZSl7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBpZHByb2JsZW06IHNlbGYuaWRQcm9ibGVtLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IHBlb3BsZS5lbWFpbFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLnJlbW92ZWNvbGxhYm9yYXRvcnMob2JqKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJDb2xhYm9yYWRvciBmb2kgcmVtb3ZpZG8gZG8gcHJvamV0by5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29sbGFib3JhdG9ycyA9IGRhdGEuY29sbGFib3JhdG9ycztcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKlNvY2tldC5vbignb25DaGVja1VzZXJzJywgZnVuY3Rpb24gKHVzZXJMaXN0KSB7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgdXNlckxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlckxpc3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IHNlbGYuY29sbGFib3JhdG9ycy5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlckxpc3RbaV0gKyAnICAgJyArIHNlbGYuY29sbGFib3JhdG9yc1tqXS5uaWNrbmFtZSlcclxuICAgICAgICAgICAgICAgICAgICBpZih1c2VyTGlzdFtpXSA9PT0gc2VsZi5jb2xsYWJvcmF0b3JzW2pdLm5pY2tuYW1lKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb2xsYWJvcmF0b3JzW2pdLm5pY2tuYW1lID0gc2VsZi5jb2xsYWJvcmF0b3JzW2pdLm5pY2tuYW1lICsgJyAob25saW5lKSAnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTsqL1xyXG5cclxuICAgIH1cclxuXHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjIvMDcvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignZHNjUmVwb3J0Q29udHJvbGxlcicsZHNjUmVwb3J0Q29udHJvbGxlcik7XHJcblxyXG5mdW5jdGlvbiBkc2NSZXBvcnRDb250cm9sbGVyKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaWRwcm9ibGVtID0gJ2FqZmxhamZsamFsZmphbGpmJztcclxuICAgIHNlbGYuYnVpZFJlcG9ydCA9IGJ1aWRSZXBvcnQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYnVpZFJlcG9ydChlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGh0bWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFJlc3BvcnQnKTtcclxuICAgICAgICB2YXIgcGRmID0gbmV3IGpzUERGKCdsJywncHgnKTtcclxuICAgICAgICBwZGYuYWRkSFRNTChcclxuICAgICAgICAgICAgaHRtbCwgMCwgMCwge1xyXG4gICAgICAgICAgICAgICAgcGFnZXNwbGl0OiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGRpc3Bvc2Upe1xyXG4gICAgICAgICAgICAgICAgcGRmLnNhdmUoJ3Rlc3QucGRmJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2V2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyJyxldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlcik7XHJcblxyXG4gIGZ1bmN0aW9uIGV2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyICgkd2luZG93LHByb2JsZW1TZXJ2aWNlLFNvY2tldCx0b2FzdEFwcCl7XHJcblxyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHNlbGYuZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QgPVtdO1xyXG4gICAgICBzZWxmLmluaXRFdmFsdWF0aW9uID0gaW5pdEV2YWx1YXRpb247XHJcbiAgICAgIHNlbGYuc2V0T3BlbkVkaXREaXNjdXRpb24gPSBzZXRPcGVuRWRpdERpc2N1dGlvbjtcclxuICAgICAgc2VsZi5zYXZlRGlzY3V0aW9uID0gc2F2ZURpc2N1dGlvbjtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGluaXRFdmFsdWF0aW9uKCl7XHJcbiAgICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRldmFsdWF0aW9uKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLmV2YWx1YXRpb25mcmFtZXdvcmtMaXN0ID0gZGF0YS5ldmFsdWF0aW9uZnJhbWV3b3JrO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RGcmFtZVNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QsZnVuY3Rpb24oZXZhbHVhdGlvbmZyYW1ld29yayl7XHJcbiAgICAgICAgICAgICBpZiggZXZhbHVhdGlvbmZyYW1ld29yay5vbmlvbmxheWVyID09IGRhdGEub25pb25sYXllcil7XHJcbiAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGV2YWx1YXRpb25mcmFtZXdvcmsuc3Rha2Vob2xkZXJzLGZ1bmN0aW9uKHN0YWtlaG9sZGVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWtlaG9sZGVyLl9pZCA9PSBkYXRhLl9pZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub25pb25sYXllciA9IGRhdGEub25pb25sYXllcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZGF0YS5vcGVuRWRpdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnByb2JsZW1zID0gZGF0YS5wcm9ibGVtcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnNvbHV0aW9ucyA9IGRhdGEuc29sdXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmdW5jdGlvbiBzYXZlRGlzY3V0aW9uKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0RnJhbWVTYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBTb2NrZXQub24oJ29uVXBkYXRlU3Rha2Vob2xkZXInLCBmdW5jdGlvbiAoc3Rha2Vob2xkZXJPbmlvbikge1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhzdGFrZWhvbGRlck9uaW9uKTtcclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gc2V0T3BlbkVkaXREaXNjdXRpb24oY3VycmVudFN0YWtlaG9sZGVyKXtcclxuICAgICAgICAgIGN1cnJlbnRTdGFrZWhvbGRlci5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ21lbnVQcm9ibGVtQ29udHJvbGxlcicsIG1lbnVQcm9ibGVtYUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIG1lbnVQcm9ibGVtYUNvbnRyb2xsZXIoQXV0aCwgJHRpbWVvdXQsICR3aW5kb3csIHByb2JsZW1TZXJ2aWNlLCBTb2NrZXQsICRzdGF0ZSwgJG1kU2lkZW5hdiAsJG1kVXRpbCwkbG9nKXtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIC8vc2VsZi5vcGVuQ2hhdCA9IGJ1aWxkVG9nZ2xlcignY2hhdCcpO1xyXG4gICAgICAgIHNlbGYub3BlbkNoYXQgPSBvcGVuQ2hhdDtcclxuICAgICAgICBzZWxmLmlzT3BlbkNoYXQgPSBmYWxzZTtcclxuICAgICAgICBzZWxmLmZvcm1BZGRDb2xsYWJvcmF0b3JzID0gZm9ybUFkZENvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgc2VsZi5lZGl0RGVzY3JpcHRpb25Qcm9ibGVtID0gZWRpdERlc2NyaXB0aW9uUHJvYmxlbTtcclxuICAgICAgICBzZWxmLmRvTG9nb3V0ID0gZG9Mb2dvdXQ7XHJcbiAgICAgICAgc2VsZi5zeXN0ZW1SZXR1cm4gPSBzeXN0ZW1SZXR1cm47XHJcbiAgICAgICAgc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgICAgIHNlbGYubmlja25hbWUgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYudXNlckxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLmluaXRIaXN0b3J5Q2hhdCA9IGluaXRIaXN0b3J5Q2hhdDtcclxuICAgICAgICBzZWxmLnNob3dSZXBsYXkgPSBzaG93UmVwbGF5O1xyXG4gICAgICAgIHNlbGYuc2VuZE1lc3NhZ2UgPSBzZW5kTWVzc2FnZTtcclxuICAgICAgICBzZWxmLnBob3RvID0gXCJcIjtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb3BlbkNoYXQoKXtcclxuICAgICAgICAgICBzZWxmLmlzT3BlbkNoYXQgPSAhc2VsZi5pc09wZW5DaGF0O1xyXG4gICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlJykuZm9jdXMoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdEhpc3RvcnlDaGF0KCl7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHNlbGYubmlja25hbWUgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpO1xyXG4gICAgICAgICAgICBzZWxmLnBob3RvID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGhvdG8nKTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0aGlzdG9yeWNoYXQoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5oaXN0b3J5Y2hhdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBEYXRlKGRhdGEuaGlzdG9yeWNoYXRbaV0udGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNuID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBkYXRhLmhpc3RvcnljaGF0W2ldLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogZGF0YS5oaXN0b3J5Y2hhdFtpXS5tc2csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogdG1wLmdldERhdGUoKSArIFwiL1wiICsgKHRtcC5nZXRNb250aCgpICsgMSApKyBcIi9cIiArIHRtcC5nZXRGdWxsWWVhcigpICsgXCIgW1wiICsgdG1wLmdldEhvdXJzKCkgKyBcIjpcIiArIHRtcC5nZXRNaW51dGVzKCkgKyBcIl0gXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2gobXNuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnY2hlY2tVc2VycycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd1JlcGxheSgpe1xyXG4gICAgICAgICAgICBpZihzZWxmLnJlcGxheSl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVwbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENoYXQnLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShvYmpbb2JqLmxlbmd0aCAtMV0udGltZSk7XHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuaWNrbmFtZTogb2JqW29iai5sZW5ndGggLTFdLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgbXNnOiBvYmpbb2JqLmxlbmd0aCAtMV0ubXNnLFxyXG4gICAgICAgICAgICAgICAgdGltZTogdG1wLmdldERhdGUoKSArIFwiL1wiICsgKHRtcC5nZXRNb250aCgpICsgMSkgKyBcIi9cIiArIHRtcC5nZXRGdWxsWWVhcigpICsgXCIgW1wiICsgdG1wLmdldEhvdXJzKCkgKyBcIjpcIiArIHRtcC5nZXRNaW51dGVzKCkgKyBcIl0gXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25DaGVja1VzZXJzJywgZnVuY3Rpb24gKHVzZXJMaXN0KSB7XHJcbiAgICAgICAgICAgIHNlbGYudXNlckxpc3QgPSB1c2VyTGlzdDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoY2hhdG1zZyl7XHJcbiAgICAgICAgICAgIGlmKGNoYXRtc2cgPT09IHVuZGVmaW5lZCB8fCBjaGF0bXNnID09PSBcIlwiKXtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDaGF0JywgY2hhdG1zZyk7XHJcbiAgICAgICAgICAgIHNlbGYubmV3bXNnID0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN5c3RlbVJldHVybigpe1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3N0YXJ0cHJvYmxlbScpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZvcm1BZGRDb2xsYWJvcmF0b3JzKCl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5jb2xsYWJvcmF0b3JzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBlZGl0RGVzY3JpcHRpb25Qcm9ibGVtKCkge1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2JsZW0uZGVzY3JpcHRpb24nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRvTG9nb3V0KCkge1xyXG4gICAgICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbigpe1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignZWRpdFByb2JsZW1Db250cm9sbGVyJyxlZGl0UHJvYmxlbWFDb250cm9sbGVyKTtcclxuZWRpdFByb2JsZW1hQ29udHJvbGxlci4kaW5qZWN0cmUgPSBbJyRzY29wZScsJ1NvY2tldCddO1xyXG5cclxuZnVuY3Rpb24gZWRpdFByb2JsZW1hQ29udHJvbGxlcihTb2NrZXQsICR0aW1lb3V0LHRvYXN0QXBwLCR3aW5kb3cscHJvYmxlbVNlcnZpY2UpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgdXBkYXRlVHJ1ZSA9IHRydWU7XHJcbiAgICBzZWxmLnByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi5wcm9ibGVtVXBkYXRlID0gcHJvYmxlbVVwZGF0ZTtcclxuICAgIHNlbGYuZ2V0Q3VycmVudFByb2JsZW0gPSBnZXRDdXJyZW50UHJvYmxlbTtcclxuICAgIHNlbGYuc2F2ZURlc2NyaXB0aW9uID0gc2F2ZURlc2NyaXB0aW9uO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRQcm9ibGVtKCl7XHJcbiAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRwcm9ibGVtKHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW0gPSBkYXRhLnByb2JsZW07XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0VXBkYXRlKCl7XHJcbiAgICAgICAgdXBkYXRlVHJ1ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkF0dWFsaXphclByb2JsZW1hJywgZnVuY3Rpb24gKHJldG9ybm8pIHtcclxuICAgICAgICBzZWxmLnByb2JsZW0uZGVzY3JpcHRpb24gPSByZXRvcm5vLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgIHNlbGYucHJvYmxlbS51cGRhdGUgPSB1cGRhdGVUcnVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvYmxlbVVwZGF0ZShwcm9ibGVtKSB7XHJcbiAgICAgICAgcHJvYmxlbS51cGRhdGUgPSB1cGRhdGVUcnVlO1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdhdHVhbGl6YXJQcm9ibGVtYScsIHByb2JsZW0pO1xyXG4gICAgICAgIGlmICh1cGRhdGVUcnVlKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRydWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHRpbWVvdXQoc2V0VXBkYXRlLCAyMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZURlc2NyaXB0aW9uKHByb2JsZW0pIHtcclxuICAgICAgICBwcm9ibGVtLnVwZGF0ZSA9IHVwZGF0ZVRydWU7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2F0dWFsaXphclByb2JsZW1hJywgcHJvYmxlbSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG59XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgncHJvYmxlbVNlcnZpY2UnLCBwcm9ibGVtU2VydmljZSk7XHJcblxyXG4gIHByb2JsZW1TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywnJGxvY2F0aW9uJ107XHJcblxyXG4gIGZ1bmN0aW9uIHByb2JsZW1TZXJ2aWNlKCRodHRwLCRsb2NhdGlvbikge1xyXG5cclxuICAgIHZhciBBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TID0gJy9hcGkvcHJvYmxlbS9nZXRwcm9ibGVtcyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3InO1xyXG4gICAgdmFyIEFQSV9ST1VURV9ORVdQUk9CTEVNID0gJy9hcGkvcHJvYmxlbS9uZXdwcm9ibGVtJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUUFJPQkxFTSA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVENPTExBQk9SQVRPUlMgPSAnL2FwaS9wcm9ibGVtL2dldGNvbGxhYm9yYXRvcnMnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9JTlZJVEUgPSAnL2FwaS9wcm9ibGVtL2ludml0ZSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVE9OSU9OID0gJy9hcGkvcHJvYmxlbS9nZXRvbmlvbic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVEVWQUxVQVRJT04gPSAnL2FwaS9wcm9ibGVtL2dldGV2YWx1YXRpb24nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRTRU1JT1RJQ0ZSQU1FV09SSyA9ICcvYXBpL3Byb2JsZW0vZ2V0c2VtaW90aWMnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRDQVJGID0gJy9hcGkvcHJvYmxlbS9nZXRjYXJmJztcclxuICAgIHZhciBBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSA9ICcvYXBpL3Byb2JsZW0vcmVtb3ZlcHJvYmxlbSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1JFTU9WRUNPTExBQk9SQVRPUiA9ICcvYXBpL3Byb2JsZW0vcmVtb3ZlY29sbGFib3JhdG9yJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQgPSAnL2FwaS9wcm9ibGVtL2hpc3RvcnljaGF0JztcclxuXHJcbiAgICB2YXIgc2VydmljZSA9IHtcclxuICAgICAgbmV3cHJvYmxlbSAgICAgICA6IG5ld3Byb2JsZW0sXHJcbiAgICAgIGdldHVzZXJwcm9ibGVtcyAgOiBnZXR1c2VycHJvYmxlbXMsXHJcbiAgICAgIGdldHByb2JsZW0gICAgICAgOiBnZXRwcm9ibGVtLFxyXG4gICAgICBnZXRjb2xsYWJvcmF0b3JzIDogZ2V0Y29sbGFib3JhdG9ycyxcclxuICAgICAgaW52aXRlICAgICAgICAgICA6IGludml0ZSxcclxuICAgICAgZ2V0b25pb24gICAgICAgICA6IGdldG9uaW9uLFxyXG4gICAgICBnZXRldmFsdWF0aW9uICAgIDogZ2V0ZXZhbHVhdGlvbixcclxuICAgICAgZ2V0c2VtaW90aWMgICAgICA6IGdldHNlbWlvdGljLFxyXG4gICAgICBnZXRjYXJmICAgICAgICAgIDogZ2V0Y2FyZixcclxuICAgICAgcmVtb3ZlcHJvYmxlbSAgICA6IHJlbW92ZXByb2JsZW0sXHJcbiAgICAgIGdldHByb2JsZW1zY29sbGFib3JhdG9yOiBnZXRwcm9ibGVtc2NvbGxhYm9yYXRvcixcclxuICAgICAgcmVtb3ZlY29sbGFib3JhdG9ycyA6IHJlbW92ZWNvbGxhYm9yYXRvcnMsXHJcbiAgICAgIGdldGhpc3RvcnljaGF0OiBnZXRoaXN0b3J5Y2hhdFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gc2VydmljZTtcclxuXHJcbiAgICBmdW5jdGlvbiBuZXdwcm9ibGVtKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfTkVXUFJPQkxFTSwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0cHJvYmxlbShkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUUFJPQkxFTSArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGdldHVzZXJwcm9ibGVtcyhkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TICsgJz9lbWFpbD0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldGNvbGxhYm9yYXRvcnMoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVENPTExBQk9SQVRPUlMgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGludml0ZShkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX0lOVklURSwgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldG9uaW9uKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRPTklPTiArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0ZXZhbHVhdGlvbiAoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVEVWQUxVQVRJT04gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldHNlbWlvdGljIChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Y2FyZihkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUQ0FSRiArICc/aWRwcm9ibGVtPScgKyBkYXRhIClcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVwcm9ibGVtKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9SRU1PVkVQUk9CTEVNICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRwcm9ibGVtc2NvbGxhYm9yYXRvcihkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TQ09MTEFCT1JBVE9SICsgJz9lbWFpbD0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZWNvbGxhYm9yYXRvcnMoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX1JFTU9WRUNPTExBQk9SQVRPUiArICc/aWRwcm9ibGVtPScgKyBkYXRhLmlkcHJvYmxlbSArICcmZW1haWw9JyArIGRhdGEuZW1haWwgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRoaXN0b3J5Y2hhdChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjkvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyJyxzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIpO1xyXG5cclxuZnVuY3Rpb24gc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyKFNvY2tldCwkd2luZG93LCBwcm9ibGVtU2VydmljZSx0b2FzdEFwcCl7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pZHByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi5zYXZlU29jaWFsV29ybGQgPSBzYXZlU29jaWFsV29ybGQ7XHJcbiAgICBzZWxmLnNhdmVQcmFnbWF0aWMgPSBzYXZlUHJhZ21hdGljO1xyXG4gICAgc2VsZi5zYXZlU2VtYW50aWMgPSBzYXZlU2VtYW50aWM7XHJcbiAgICBzZWxmLnNhdmVTeW50YXRpYyA9IHNhdmVTeW50YXRpYztcclxuICAgIHNlbGYuc2F2ZUVtcGlyaWNhbCA9IHNhdmVFbXBpcmljYWw7XHJcbiAgICBzZWxmLnNhdmVQaHlzaWNhbCA9IHNhdmVQaHlzaWNhbDtcclxuICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsgPSBcIlwiO1xyXG4gICAgc2VsZi5pbml0U2VtaW90aWNGcmFtZXdvcmsgPSBpbml0U2VtaW90aWNGcmFtZXdvcms7XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdFNlbWlvdGljRnJhbWV3b3JrKCl7XHJcbiAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRzZW1pb3RpYyhzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yayA9IGRhdGEuc2VtaW90aWNmcmFtZXdvcms7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVNvY2lhbFdvcmxkJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnNvY2lhbHdvcmxkID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTb2NpYWxXb3JsZCh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlU29jaWFsV29ybGQnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVQcmFnbWF0aWMnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsucHJhZ21hdGljID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVQcmFnbWF0aWModGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVByYWdtYXRpYycsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVNlbWFudGljJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnNlbWlvdGljcmFtZXdvcmsgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVNlbWFudGljKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVTZW1hbnRpYycsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVN5bnRhdGljJywgZnVuY3Rpb24gKHRleHQsZmxhZ1NhdmUpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnN5bnRhdGljID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTeW50YXRpYyh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlU3ludGF0aWMnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVFbXBpcmljYWwnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuZW1waXJpY2FsID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVFbXBpcmljYWwodGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZUVtcGlyaWNhbCcsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVBoeXNpY2FsJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnBoeXNpY2FsID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVQaHlzaWNhbCh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlUGh5c2ljYWwnLCBvYmopO1xyXG4gICAgfVxyXG59XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjkvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignc3Rha2Vob2xkZXJDb250cm9sbGVyJyxzdGFrZWhvbGRlckNvbnRyb2xsZXIpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHN0YWtlaG9sZGVyQ29udHJvbGxlcihTb2NrZXQsJHdpbmRvdyxwcm9ibGVtU2VydmljZSwkbWREaWFsb2csdG9hc3RBcHApe1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaWRwcm9ibGVtID0gXCJcIjtcclxuICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gW107XHJcbiAgICBzZWxmLnN0YWtlaG9sZGVyID0gXCJcIjtcclxuICAgIHNlbGYuaW50aXRPbmlvbiA9IGludGl0T25pb247XHJcbiAgICBzZWxmLm1vdmUgPSBmYWxzZTtcclxuICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgIHNlbGYuc2F2ZVN0YWtlaG9sZGVyID0gc2F2ZVN0YWtlaG9sZGVyO1xyXG4gICAgc2VsZi5zZXRPcGVuRWRpdCA9IHNldE9wZW5FZGl0O1xyXG4gICAgc2VsZi5kZWxQb3N0SXQgPSBkZWxQb3N0SXQ7XHJcbiAgICBzZWxmLmFkZFBvc3RJdCA9IGFkZFBvc3RJdDtcclxuICAgIHNlbGYuYWNlbmRlID0gYWNlbmRlO1xyXG4gICAgc2VsZi5hcGFnYSA9IGFwYWdhO1xyXG5cclxuICAgIGZ1bmN0aW9uIGludGl0T25pb24oKXtcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldG9uaW9uKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IGRhdGEuc3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uU2F2ZScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5zdGFrZWhvbGRlckxpc3QsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICBpZiAoc3Rha2Vob2xkZXIuX2lkID09IGRhdGEuX2lkKXtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnN0YWtlaG9sZGVyID0gZGF0YS5zdGFrZWhvbGRlcjtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGRhdGEub3BlbkVkaXQ7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci54ID0gZGF0YS54O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueSA9IGRhdGEueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTdGFrZWhvbGRlcihzdGFrZWhvbGRlcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTYWx2YXIuLi4uJyArIHN0YWtlaG9sZGVyLm5hbWUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTYWx2YXIuLi4uJyArIHN0YWtlaG9sZGVyLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25TYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbkVkaXQnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5zdGFrZWhvbGRlckxpc3QsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICBpZihzdGFrZWhvbGRlci5faWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXRPcGVuRWRpdChpZCl7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uRWRpdCcsIGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25SZW1vdmUnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICB2YXIgc3Rha2Vob2xkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YWtlaG9sZGVyXCIgK3NlbGYuc3Rha2Vob2xkZXJMaXN0W2lkXS5faWQpO1xyXG4gICAgICAgIHN0YWtlaG9sZGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3Quc3BsaWNlKGlkLDEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlUG9zdEl0KGluZGV4LHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcjogc3Rha2Vob2xkZXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblJlbW92ZScsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVsUG9zdEl0KGV2LGluZGV4LHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpKVxyXG4gICAgICAgICAgICAudGl0bGUoJ0RldGV0ZSBTdGFrZWhvbGRlcj8nKVxyXG4gICAgICAgICAgICAuY29udGVudCgnVGl0bGU6ICcgKyBzdGFrZWhvbGRlci5uYW1lKVxyXG4gICAgICAgICAgICAuYXJpYUxhYmVsKCdSZW1vdmUgU3Rha2Vob2xkZXInKVxyXG4gICAgICAgICAgICAub2soJ1llcyEnKVxyXG4gICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWwnKVxyXG4gICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVBvc3RJdChpbmRleCxzdGFrZWhvbGRlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uQWRkJywgZnVuY3Rpb24gKHJldG9ybm8pIHtcclxuICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdC5wdXNoKHJldG9ybm8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUG9zdEl0KGUsY2FtYWRhKSB7XHJcbiAgICAgICAgdmFyIG5ld1N0YWtlaG9sZGVyID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwib25pb25sYXllclwiOiBjYW1hZGEsXHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXHJcbiAgICAgICAgICAgIFwib3BlbkVkaXRcIjogdHJ1ZSxcclxuICAgICAgICAgICAgXCJ4XCI6IGUucGFnZVggKyAncHgnLFxyXG4gICAgICAgICAgICBcInlcIjogZS5wYWdlWSArICdweCdcclxuICAgICAgICB9O1xyXG4gICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uQWRkJywgbmV3U3Rha2Vob2xkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFjZW5kZShpZCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOycpXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWdlbmRcIitpZCkuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLCBcIjAuN1wiKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLCBcIjAuN1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcGFnYShpZCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjogbm9uZTsnKVxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVnZW5kXCIraWQpLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgXCIxLjBcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgXCIxLjBcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7IiwiXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignc3RhcnRQcm9ibGVtQ29udHJvbGxlcicsc3RhcnRQcm9ibGVtQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gc3RhcnRQcm9ibGVtQ29udHJvbGxlcigkbWREaWFsb2csICRzdGF0ZSxBdXRoLFNvY2tldCwgJHdpbmRvdywgcHJvYmxlbVNlcnZpY2UsdG9hc3RBcHAgKSB7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLm5pY2tuYW1lID0gXCJcIjtcclxuICAgICAgICBzZWxmLnVzZXJpZCA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi51c2VyZW1haWwgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYucHJvYmxlbUxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLnByb2JsZW1Db2xsYWJvcmF0b3JMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5sb2dpbkluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYuZ2V0UHJvYmxlbXMgPSBnZXRQcm9ibGVtcztcclxuICAgICAgICBzZWxmLnJldm9tdmVQcm9ibGVtID0gcmV2b212ZVByb2JsZW07XHJcbiAgICAgICAgc2VsZi5zdGFydE5ld1Byb2JsZW0gPSBzdGFydE5ld1Byb2JsZW07XHJcbiAgICAgICAgc2VsZi5lZGl0UHJvYmxlbSA9IGVkaXRQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZG9Mb2dvdXQgPSBkb0xvZ291dDtcclxuICAgICAgICBzZWxmLm5ld1Byb2JsZW0gPSBuZXdQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZWRpdFByb2ZpbGUgPSBlZGl0UHJvZmlsZTtcclxuICAgICAgICBzZWxmLnBob3RvO1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UHJvYmxlbXMoKXtcclxuICAgICAgICAgICAgc2VsZi51c2VyaWQgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKTtcclxuICAgICAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIHNlbGYudXNlcmVtYWlsID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmVtYWlsJyk7XHJcbiAgICAgICAgICAgIHNlbGYucGhvdG8gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG90bycpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXR1c2VycHJvYmxlbXMoc2VsZi51c2VyZW1haWwpXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgZGF0YS5wcm9ibGVtcy5sZW5ndGg7IGkrKyApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbiA9IGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24ucmVwbGFjZSgvKDwoW14+XSspPikvaWcsXCJcIikuc3Vic3RyaW5nKDAsNDYwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW1MaXN0ID0gZGF0YS5wcm9ibGVtcztcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHByb2JsZW1zY29sbGFib3JhdG9yKHNlbGYudXNlcmVtYWlsKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGRhdGEucHJvYmxlbXMubGVuZ3RoOyBpKysgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLFwiXCIpLnN1YnN0cmluZygwLDQ2MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtQ29sbGFib3JhdG9yTGlzdCA9IGRhdGEucHJvYmxlbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmxvZ2luSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlUHJvYmxlbShwcm9ibGVtaWQpe1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5yZW1vdmVwcm9ibGVtKHByb2JsZW1pZClcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBzZWxmLnByb2JsZW1MaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGYucHJvYmxlbUxpc3RbaV0uX2lkID09IHByb2JsZW1pZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtTGlzdC5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJldm9tdmVQcm9ibGVtKGV2LHByb2JsZW0pIHtcclxuICAgICAgICAgICAgLy8gQXBwZW5kaW5nIGRpYWxvZyB0byBkb2N1bWVudC5ib2R5IHRvIGNvdmVyIHNpZGVuYXYgaW4gZG9jcyBhcHBcclxuICAgICAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgICAgICAucGFyZW50KGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSlcclxuICAgICAgICAgICAgICAgIC50aXRsZSgnRGV0ZXRlIFByb2JsZW0/JylcclxuICAgICAgICAgICAgICAgIC5jb250ZW50KCdUaXRsZTogJyArIHByb2JsZW0udGl0bGUpXHJcbiAgICAgICAgICAgICAgICAuYXJpYUxhYmVsKCdSZW1vdmUgUHJvYmxlbScpXHJcbiAgICAgICAgICAgICAgICAub2soJ0Rlc2VqbyByZW1vdmVyIScpXHJcbiAgICAgICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWwnKVxyXG4gICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KGV2KTtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZVByb2JsZW0ocHJvYmxlbS5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0TmV3UHJvYmxlbShuZXdwcm9ibGVtKXtcclxuICAgICAgICAgICAgbmV3cHJvYmxlbS51c2VyaWQgPSBzZWxmLnVzZXJpZDtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UubmV3cHJvYmxlbShuZXdwcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVkaXRQcm9ibGVtKGRhdGEucHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZWRpdFByb2JsZW0ocHJvYmxlbSkge1xyXG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvYmxlbWlkXCIscHJvYmxlbS5faWQpO1xyXG4gICAgICAgICAgICB2YXIgaW5pdHNvY2tldHByb2JsZW0gPSB7XHJcbiAgICAgICAgICAgICAgICBcImlkcHJvYmxlbVwiOnByb2JsZW0uX2lkLFxyXG4gICAgICAgICAgICAgICAgXCJuaWNrbmFtZVwiOiBzZWxmLm5pY2tuYW1lXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdpbml0UHJvYmxlbScsIGluaXRzb2NrZXRwcm9ibGVtKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLnN0YWtlaG9sZGVycycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZG9Mb2dvdXQoKSB7XHJcbiAgICAgICAgICAgIEF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBlZGl0UHJvZmlsZSgpIHtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9maWxlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBuZXdQcm9ibGVtKGV2KSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogRGlhbG9nQ29udHJvbGxlcixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL25ld3Byb2JsZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBEaWFsb2dDb250cm9sbGVyKCRzY29wZSwgJG1kRGlhbG9nKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5ld1Byb2JsZW0gPSBmdW5jdGlvbihwcm9ibGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFydE5ld1Byb2JsZW0ocHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyMi8wNy8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcigndmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlcicsIHZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIpO1xyXG5cclxuZnVuY3Rpb24gdmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlcigkd2luZG93LHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwLFNvY2tldCl7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgc2VsZi5pZFByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi51c2VyZW1haWwgPSBcIlwiO1xyXG4gICAgc2VsZi5uZXd2YWx1ZXMgPSBcIlwiO1xyXG4gICAgc2VsZi5pbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lID0gaW5pdFZhbHVlSWRlbnRpZmljYXRpb25GcmFtZTtcclxuICAgIHNlbGYuc2V0U3VnZ2VzdGlvblNob3cgPSBzZXRTdWdnZXN0aW9uU2hvdztcclxuICAgIHNlbGYubGVhdmVTdWdnZXN0aW9uU2hvdyA9IGxlYXZlU3VnZ2VzdGlvblNob3c7XHJcbiAgICBzZWxmLnJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uID0gcmVtb3ZlVmFsdWVJZGVudGljYXRpb247XHJcbiAgICBzZWxmLnNldFZhbHVlSWRlbnRpY2F0aW9uID0gc2V0VmFsdWVJZGVudGljYXRpb247XHJcbiAgICBzZWxmLnN1Z2VzdGlvblZhbHVlcyA9IFwiXCI7XHJcbiAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiQ29tbXVuaXR5XCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJNYXJrZXRcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIlNvdXJjZVwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiQ29udHJ1aWJ1aXRpb25cIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIlRlY2huaWNvXCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9XHJcbiAgICBdO1xyXG4gICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheSA9IFtcclxuICAgICAgICAnQWNlc3NpYmlsaWRhZGUnLCdBZGFwdGFiaWxpZGFkZScsJ0VzdMOpdGljYScsJ0F1dG9ub21pYScsICdEaXNwb25pYmlsaWRhZGUnLCAnQ29uc2Npw6puY2lhJywgJ0NvbGFib3Jhw6fDo28nLFxyXG4gICAgICAgICdDb252ZXJzYcOnw6NvJywgJ0Vtb8Onw6NvIGUgQWZldG8nLCAnR3J1cG9zJywgJ0lkZW50aWRhZGUnLCAnQ29uc2VudGltZW50byBpbmZvcm1hZG8nLCAnTWV0YS1jb211bmljYcOnw6NvJywgJ05vcm1hcycsXHJcbiAgICAgICAgJ09iamV0bycsICdQb3J0YWJpbGlkYWRlJywgJ1ByZXNlbsOnYScsICdQcml2YWNpZGFkZScsICdQcm9wcmllZGFkZScsICdSZWNpcHJvY2lkYWRlLCBSZWxhY2lvbmFtZW50bywgUmVwdXRhw6fDo28nLFxyXG4gICAgICAgICdFc2NhbGFiaWxpZGFkZScsICdTZWd1cmFuw6dhJywgJ0NvbXBhcnRpbGhhbWVudG8nLCAnQ29uZmlhbsOnYScsICdVc2FiaWxpZGFkZScsICdWaXNpYmlsaWRhZGUnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lKCl7XHJcbiAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRvbmlvbihzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdGFrZWhvbGRlcnMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGsgPSAxOyBrIDwgc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheS5sZW5ndGg7IGsrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXMgKz0gc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheVtrXSArICBcIiwgXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3VnZXN0aW9uVmFsdWVzW3NlbGYuc3VnZXN0aW9uVmFsdWVzQXJyYXlbc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheS5sZW5ndGgtMV1dICsgJy4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGRhdGEuc3Rha2Vob2xkZXJzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgc2VsZi5zdGFrZWhvbGRlckxpc3QubGVuZ3RoOyBqKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3Rha2Vob2xkZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmlvbmxheWVyIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ub25pb25sYXllcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLnZhbHVlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5FZGl0IDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ub3BlbkVkaXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4IDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWVzIDogW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3Rha2Vob2xkZXJzW2ldLm9uaW9ubGF5ZXIgPT0gc2VsZi5zdGFrZWhvbGRlckxpc3Rbal0ub25pb25sYXllcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdFtqXS5zdGFrZWhvbGRlcnMucHVzaChzdGFrZWhvbGRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLnN0YWtlaG9sZGVyTGlzdCwgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFrZWhvbGRlci5faWQgPT0gZGF0YS5faWQpe1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuc3Rha2Vob2xkZXIgPSBkYXRhLnN0YWtlaG9sZGVyO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIubmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZGF0YS5vcGVuRWRpdDtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci55ID0gZGF0YS55O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIubmV3VmFsdWVzID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldFN1Z2dlc3Rpb25TaG93KHN0YWtlaG9sZGVyKXtcclxuICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbGVhdmVTdWdnZXN0aW9uU2hvdyhzdGFrZWhvbGRlcil7XHJcbiAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVWYWx1ZUlkZW50aWNhdGlvbih2YWx1ZSxzdGFrZWhvbGRlcil7XHJcbiAgICAgICAgdmFyIG5ld0xpc3QgPSBbXTtcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgc3Rha2Vob2xkZXIudmFsdWVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYoc3Rha2Vob2xkZXIudmFsdWVzW2ldICE9IHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIG5ld0xpc3QucHVzaChzdGFrZWhvbGRlci52YWx1ZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0YWtlaG9sZGVyLnZhbHVlcyA9IG5ld0xpc3Q7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uU2F2ZScsIHN0YWtlaG9sZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUlkZW50aWNhdGlvbihzdGFrZWhvbGRlcikge1xyXG4gICAgICAgIGlmKChzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPT09IFwiXCIpIHx8IChzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPT09IHVuZGVmaW5lZCkpe1xyXG4gICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJ1ZhbG9yIG7vv71vIGVzcGVjaWZpY2Fkby4nKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdmFyIHZhbHVlc0xpc3QgPSBzdGFrZWhvbGRlci5uZXdWYWx1ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCB2YWx1ZXNMaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKGZpbmRWYWx1ZShzdGFrZWhvbGRlci52YWx1ZXMsIHZhbHVlc0xpc3RbaV0pKXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJEdXBsaWNhdGUgdmFsdWU6IFwiICsgdmFsdWVzTGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci52YWx1ZXMucHVzaCh2YWx1ZXNMaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPSBcIlwiO1xyXG4gICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25TYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZFZhbHVlKGxpc3QsIHZhbHVlKXtcclxuICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZih2YWx1ZSA9PT0gbGlzdFtpXSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjUvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbmZpZyhhcHBDb25maWcpO1xyXG5cclxuICAgIGFwcENvbmZpZy4kaW5qZWN0ID0gWyckbWRUaGVtaW5nUHJvdmlkZXInLCckbG9jYXRpb25Qcm92aWRlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFwcENvbmZpZyAoJG1kVGhlbWluZ1Byb3ZpZGVyLCRsb2NhdGlvblByb3ZpZGVyKSB7XHJcblxyXG4gICAgICAgICAvLyRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuICAgICAgICB2YXIgY3VzdG9tR3JlZW5NYXAgPSAkbWRUaGVtaW5nUHJvdmlkZXIuZXh0ZW5kUGFsZXR0ZSgndGVhbCcsIHtcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnXSxcclxuICAgICAgICAgICAgJzUwJzogJ0UwRjJGMSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ2N1c3RvbUdyZWVuJywgY3VzdG9tR3JlZW5NYXApO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXHJcbiAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgnY3VzdG9tR3JlZW4nLCB7XHJcbiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6ICc1MDAnLFxyXG4gICAgICAgICAgICAgICAgJ2h1ZS0xJzogJzUwJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYWNjZW50UGFsZXR0ZSgndGVhbCcpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnaW5wdXQnLCAnZGVmYXVsdCcpXHJcbiAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgnZ3JlZW4nKTtcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbn0pKCk7IiwiXHJcbihmdW5jdGlvbigpe1xyXG5cclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXV0aFNlcnZpY2UnLCBbXSlcclxuXHRcdC5mYWN0b3J5KCdBdXRoJywgZnVuY3Rpb24oJGh0dHAsICRxLCBBdXRoVG9rZW4pIHtcclxuXHRcdFx0dmFyIGF1dGhGYWN0b3J5ID0ge307XHJcblx0XHRcdGF1dGhGYWN0b3J5LmxvZ2luID0gZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKSB7XHJcblx0XHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9naW4nLCB7XHJcblx0XHRcdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdFx0XHRwYXNzd29yZDogcGFzc3dvcmRcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS50b2tlbik7XHJcblx0XHRcdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRhdXRoRmFjdG9yeS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRBdXRoVG9rZW4uc2V0VG9rZW4oKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhGYWN0b3J5LmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0fWVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhGYWN0b3J5LmdldFVzZXIgPSBmdW5jdGlvbihpZCkge1xyXG5cdFx0XHRcdGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lLz91c2VyaWQ9JyArIGlkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJHEucmVqZWN0KHttZXNzYWdlOiBcIlVzZXIgaGFzIG5vIHRva2VuXCJ9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gYXV0aEZhY3Rvcnk7XHJcblx0XHR9KVxyXG5cdFx0LmZhY3RvcnkoJ0F1dGhUb2tlbicsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcclxuXHJcblx0XHRcdHZhciBhdXRoVG9rZW5GYWN0b3J5ID0ge307XHJcblxyXG5cdFx0XHRhdXRoVG9rZW5GYWN0b3J5LmdldFRva2VuID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRhdXRoVG9rZW5GYWN0b3J5LnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pIHtcclxuXHJcblx0XHRcdFx0aWYgKHRva2VuKSB7XHJcblx0XHRcdFx0XHQkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fTtcclxuXHRcdFx0cmV0dXJuIGF1dGhUb2tlbkZhY3Rvcnk7XHJcblx0XHR9KVxyXG5cdFx0LmZhY3RvcnkoJ0F1dGhJbnRlcmNlcHRvcicsIGZ1bmN0aW9uKCRxLCAkbG9jYXRpb24sIEF1dGhUb2tlbikge1xyXG5cdFx0XHR2YXIgaW50ZXJjZXB0b3JGYWN0b3J5ID0ge307XHJcblx0XHRcdGludGVyY2VwdG9yRmFjdG9yeS5yZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcblx0XHRcdFx0dmFyIHRva2VuID0gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcblx0XHRcdFx0aWYodG9rZW4pIHtcclxuXHRcdFx0XHRcdGNvbmZpZy5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddID0gdG9rZW47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBjb25maWc7XHJcblx0XHRcdH07XHJcblx0XHRcdHJldHVybiBpbnRlcmNlcHRvckZhY3Rvcnk7XHJcblx0XHR9KTtcclxufSkoKTsiLCJcclxuYW5ndWxhci5tb2R1bGUoJ0Ryb3BEU0MnLFtdKVxyXG4gICAgLmRpcmVjdGl2ZSgnZHJhZ2dhYmxlJywgZnVuY3Rpb24oJGRvY3VtZW50LFNvY2tldCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50Lm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGlmKGV2ZW50LnRhcmdldC5pZC5zdWJzdHJpbmcoMCwxMSkgPT0gXCJzdGFrZWhvbGRlclwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGRlZmF1bHQgZHJhZ2dpbmcgb2Ygc2VsZWN0ZWQgY29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ21vdXNlbW92ZScsIG1vdXNlbW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ21vdXNldXAnLCBtb3VzZXVwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiBtb3VzZW1vdmUoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBpZF9kaXYgPSBldmVudC50YXJnZXQuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaWRfZGl2ID09ICdzdmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWRfZGl2ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdGFrZWhvbGRlci5vbmlvbmxheWVyID0gaWRfZGl2O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIHkgPSBldmVudC5wYWdlWTtcclxuICAgICAgICAgICAgICAgICAgICAgIHggPSBldmVudC5wYWdlWDtcclxuICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHkgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICB4ICsgJ3B4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvKlNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblBvc2l0aW9uJywgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHN0YWtlaG9sZGVyLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICBzdGFrZWhvbGRlci54XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Rha2Vob2xkZXIueCA9IHggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Rha2Vob2xkZXIueSA9IHkgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy9Tb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25Qb3NpdGlvbicsIHNjb3BlLnN0YWtlaG9sZGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiBtb3VzZXVwKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ21vdXNldXAnLCBtb3VzZXVwKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignbG9naW5Db250cm9sbGVyJyxsb2dpbkNvbnRyb2xsZXIpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsb2dpbkNvbnRyb2xsZXIoJHRyYW5zbGF0ZSwgJHJvb3RTY29wZSwgJHN0YXRlLCBBdXRoLCAkd2luZG93LCAkZmlsdGVyLCB0b2FzdEFwcCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNlbGYuc2V0TGFuZyA9IHNldExhbmc7XHJcbiAgICAgICAgICAgIHNlbGYuZG9Mb2dvdXQgPSBkb0xvZ291dDtcclxuICAgICAgICAgICAgc2VsZi5kb0xvZ2luID0gZG9Mb2dpbjtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldExhbmcobGFuZ0tleSkge1xyXG4gICAgICAgICAgICAgICAgICR0cmFuc2xhdGUudXNlKGxhbmdLZXkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZWxmLmxvZ2dlZEluID0gQXV0aC5pc0xvZ2dlZEluKCk7XHJcblxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VkSW4gPSBBdXRoLmlzTG9nZ2VkSW4oKTtcclxuICAgICAgICAgICAgICAgIEF1dGguZ2V0VXNlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZG9Mb2dpbih1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmVycm9yID0gJyc7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmxvZ2luKHVzZXIuZW1haWwsIHVzZXIucGFzc3dvcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlcmVtYWlsXCIsZGF0YS5lbWFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyaWRcIixkYXRhLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm5pY2tuYW1lXCIsZGF0YS5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0TGFuZyhkYXRhLmxhbmd1YWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXV0aC5nZXRVc2VyKGRhdGEuaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih1c2VyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZSgkZmlsdGVyKCd0cmFuc2xhdGUnKSgnV0VMQ09NRV9TWVNURU0nKSArIFwiOiBcIiArIHNlbGYudXNlci5uaWNrbmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXJEYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBob3RvXCIsdXNlckRhdGEuZGF0YS5waG90byk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnRwcm9ibGVtJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVycm9yID0gZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZG9Mb2dvdXQoKSB7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlKCdpbml0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjEvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLnNlcnZpY2UoJ1NvY2tldCcsXHJcbiAgICAgICAgWyckbG9jYXRpb24nLCAnJHRpbWVvdXQnLFxyXG4gICAgZnVuY3Rpb24oJGxvY2F0aW9uLCAkdGltZW91dCkge1xyXG4gICAgICAgIGlmICh0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gaW8oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5vbihldmVudE5hbWUsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnROYW1lLCBkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXSlcclxuXHJcbn0pKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==