!function(){"use strict";angular.module("app",["ngImgCrop","toastService","textAngular","luegg.directives","appRxDrag","DropDSC","authService","ui.router","ngMaterial","ngMdIcons","ngCookies","pascalprecht.translate"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor")}])}(),function(){"use strict";function e(e){function t(t){this.message=t,e.show({controller:"toastController",controllerAs:"vm",templateUrl:"views/pages/dsctoast.html",action:"OK",highlightAction:!0,position:"top right",hideDelay:2e3})}var o={message:"",errorMessage:t};return o}angular.module("toastService",[]).controller("toastController",["$mdToast","toastApp",function(e,t){var o=this;o.message=t.message,o.closeToast=function(){e.hide()}}]).factory("toastApp",e),e.$inject=["$mdToast"]}(),function(){"use strict";function e(e,t){e.state("init",{url:"/",templateUrl:"views/pages/initpage.html",controller:"loginController as vm"}).state("init.login",{url:"login",views:{"content-tab":{templateUrl:"views/pages/userlogin.html",controller:"loginController as vm"}}}).state("init.signup",{url:"signup",views:{"content-tab":{templateUrl:"views/pages/signup.html",controller:"signupController as vm"}}}).state("init.rescuepassword",{url:"rescuepassword",views:{"content-tab":{templateUrl:"views/pages/rescuepassword.html",controller:"signupController as vm"}}}).state("startproblem",{url:"/startproblem",templateUrl:"views/pages/startproblem.html",controller:"startProblemController as vm"}).state("profile",{url:"/profile",templateUrl:"views/pages/profile.html",controller:"profileController as vm"}).state("dscreport",{url:"/dscreport",templateUrl:"views/pages/problemreport.html",controller:"problemReportController as vm"}).state("newpassword",{url:"/newpassword/:mytoken",templateUrl:"views/pages/newpassword.html",controller:"signupController as vm"}).state("problem",{url:"/problem",templateUrl:"views/pages/problem.html",controller:"menuProblemController as vm"}).state("problem.stakeholders",{url:"/stakeholders",views:{"dsc-artifact":{templateUrl:"views/pages/stakeholders.html",controller:"stakeholderController as vm"}}}).state("problem.evaluationframework",{url:"/evaluationframework",views:{"dsc-artifact":{templateUrl:"views/pages/evaluationframework.html",controller:"evaluationframeworkController as vm"}}}).state("problem.semioticframework",{url:"/semioticframework",views:{"dsc-artifact":{templateUrl:"views/pages/semioticframework.html",controller:"semioticframeworkController as vm"}}}).state("problem.carf",{url:"/carf",views:{"dsc-artifact":{templateUrl:"views/pages/carf.html",controller:"carfController as vm"}}}).state("problem.vif",{url:"/vif",views:{"dsc-artifact":{templateUrl:"views/pages/vif.html",controller:"valueIdentificationFrameController as vm"}}}).state("problem.onion",{url:"/onion",views:{"dsc-artifact":{templateUrl:"views/pages/onion.html",controller:"onion3LayerController as vm"}}}),t.otherwise("/login")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.useStaticFilesLoader({prefix:"app/language/lang-",suffix:".json"}),e.preferredLanguage("en"),e.useSanitizeValueStrategy("escaped"),e.useLocalStorage()}function t(e){function t(t){e.use(t)}var o=this;o.setLang=t}function o(){return{templateUrl:"app/language/changeLanguage.html",restrict:"E"}}angular.module("app").config(e).controller("languageController",t).directive("changeLanguage",o),e.$inject=["$translateProvider"],t.$inject=["$translate"]}(),function(){"use strict";function e(e,t,o,n){function r(){d.idProblem=e.localStorage.getItem("problemid"),o.getcarf(d.idProblem).success(function(e){e.success&&(d.localStakeholders=e.stakeholders,d.stakeholderList=d.localStakeholders,d.carfList=e.carf,d.carfPriorityList=d.localPriorityList)}),d.inProcessing=!1}function a(){d.carf={_id:"",pms:"",values:[],priority:"",requirement:"",stakeholders:[]},d.valueList=[]}function i(e){""===e.pms?n.errorMessage("Select PMS"):e.values.length<1?n.errorMessage("Select one or more Value"):e.stakeholders.length<1?n.errorMessage("Select one or more Stakeholder(s)"):""===e.priority?n.errorMessage("Select priority [Low, Medium or High]"):(t.emit("broadcastCARFadd",e),d.stakeholderList=[],d.carfPriorityList=[])}function s(e,o){var n={index:e,carf:o};t.emit("broadcastCARFremove",n)}function l(e){void 0!==e&&angular.forEach(d.carfPMSValue,function(t){return t.pms==e?(d.carf.values=[],void(d.valueList=t.values)):void 0})}function c(e){d.carf.priority=e}function u(e){if(0===d.carf.values.length)d.carf.values.push(e);else{for(var t=0;t<d.carf.values.length;t++)if(e==d.carf.values[t])return void d.carf.values.splice(t,1);d.carf.values.push(e)}}function m(e){if(0===d.carf.stakeholders.length)d.carf.stakeholders.push(e);else{for(var t=0;t<d.carf.stakeholders.length;t++)if(e==d.carf.stakeholders[t])return void d.carf.stakeholders.splice(t,1);d.carf.stakeholders.push(e)}}var d=this;d.idProblem="",d.inProcessing=!0,d.valueList=[],d.stakeholderList=[],d.localStakeholders=[],d.addpmsvalue=i,d.removeCARF=s,d.selectPMSValue=l,d.setPriotity=c,d.addListValue=u,d.addStakeholder=m,d.carf={pms:"",values:[],priority:"",requirement:"",stakeholders:[]},d.initCarf=r,d.carfList=[],d.carfPriorityList=[],t.on("onBroadcastCARFadd",function(e){d.carfList.push(e),a(),d.stakeholderList=d.localStakeholders,d.carfPriorityList=d.localPriorityList}),t.on("onBroadcastCARFremove",function(e){d.carfList.splice(e,1)}),d.localPriorityList=["Low","Medium","High"],d.carfPMSValue=[{pms:"Interaction",values:["Identity","Norms"]},{pms:"Association",values:["Conversation","Groups","Relationship","Trust"]},{pms:"Learning",values:["Meta-communication"]},{pms:"Play",values:["Aesthetics","Emotion and Affection"]},{pms:"Protection",values:["Informed consert","Reputation","Security"]},{pms:"Exploitation",values:["Accessibility","Object","Property (ownership)","Usability"]},{pms:"Teporality",values:["Availability","Awareness","Presence"]},{pms:"Territoriality",values:["Portability","Privacy","Scalability","Visibility"]},{pms:"Classification",values:["Autonomy","Collaboration","Sharing","Adaptability"]},{pms:"Subsistence",values:["Reciprocity"]}]}angular.module("app").controller("carfController",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,n){function r(){u.isOpenChat=!u.isOpenChat,document.getElementById("message").focus()}function a(){u.idProblem=n.localStorage.getItem("problemid"),u.nickname=n.localStorage.getItem("nickname"),u.photo=n.localStorage.getItem("photo"),o.gethistorychat(u.idProblem).success(function(e){if(e.success)for(var t=0;t<e.historychat.length;t++){var o=new Date(e.historychat[t].time),n={nickname:e.historychat[t].nickname,msg:e.historychat[t].msg,time:o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear()+" ["+o.getHours()+":"+o.getMinutes()+"] "};u.messages.push(n)}}),t.emit("checkUsers")}function i(){u.replay?u.replay=!1:u.replay=!0}function s(e){void 0===e||e.length<2||(t.emit("broadcastChat",e),u.newmsg="",u.contador=0)}function l(){u.contador=0}function c(t,o){13==t.keyCode&&(u.contador++,1==u.contador&&e(l,2e3),u.contador>1&&s(o))}var u=this;u.newmsg="",u.messages=[],u.replay=!1,u.nickname="",u.userList=[],u.initHistoryChat=a,u.showReplay=i,u.sendMessage=s,u.photo="",u.openChat=r,u.isOpenChat=!1,u.keypressChat=c,u.contador=0,t.on("onBroadcastChat",function(e){var t=new Date(e[e.length-1].time);u.messages.push({nickname:e[e.length-1].nickname,msg:e[e.length-1].msg,time:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" ["+t.getHours()+":"+t.getMinutes()+"] "})}),t.on("onCheckUsers",function(e){u.userList=e})}angular.module("app").controller("chatDSC",e),e.$inject=["$timeout","Socket","problemService","$window"]}(),function(){"use strict";function e(){function e(e){var t=document.getElementById("projectResport"),o=new jsPDF("l","px");o.addHTML(t,0,0,{pagesplit:!0},function(e){o.save("test.pdf")})}var t=this;t.idproblem="ajflajfljalfjaljf",t.buidReport=e}angular.module("app").controller("dscReportController",e)}(),function(){"use strict";function e(e,t,o,n){function r(){s.idproblem=e.localStorage.getItem("problemid"),t.getevaluation(s.idproblem).success(function(e){e.success?s.evaluationframeworkList=e.evaluationframework:n.errorMessage(e.message)})}function a(e){o.emit("broadcastFrameSave",e)}function i(e){e.openEdit=!0}var s=this;s.evaluationframeworkList=[],s.initEvaluation=r,s.setOpenEditDiscution=i,s.saveFrame=a,o.on("onBroadcastFrameEdit",function(e){angular.forEach(s.evaluationframeworkList,function(t){t.onionlayer==e.onionlayer&&angular.forEach(t.stakeholders,function(t){t._id==e._id&&(t.name=e.name,t.onionlayer=e.onionlayer,t.description=e.description,t.openEdit=e.openEdit,t.problems=e.problems,t.solutions=e.solutions)})})}),o.on("onUpdateStakeholder",function(e){})}angular.module("app").controller("evaluationframeworkController",e),e.$inject=["$window","problemService","Socket","toastApp"]}(),function(){"use strict";function e(e,t,o,n,r,a,i,s,l){function c(e){e.localcode=w,l.emit("atualizarProblema",e)}function u(e){t.show({controller:m,templateUrl:"views/pages/problemdescription.html",parent:angular.element(document.body),targetEvent:e})}function m(e,t,o,n){function r(){o.nickname=a.localStorage.getItem("nickname"),o.idProblem=a.localStorage.getItem("problemid"),i.getproblem(k.idProblem).success(function(e){e.success?o.problem=e.problem:s.errorMessage(e.message)})}function l(){d=!0}function u(e){var o={update:d,description:e};c(o),d&&(d=!1,t(l,2e3))}function m(e){var t={update:!0,description:e};c(t)}var d=!0;o.problem="",o.problemUpdate=u,o.getProblemEdit=r,o.saveDescription=m,o.nickname="",o.hide=function(){n.hide()},o.cancel=function(){n.cancel()}}function d(e){t.show({controller:p,templateUrl:"views/pages/collaborators.html",parent:angular.element(document.body),targetEvent:e})}function p(e,t){function o(){e.idProblem=a.localStorage.getItem("problemid"),e.useremail=a.localStorage.getItem("useremail"),i.getcollaborators(e.idProblem).success(function(t){t.success?e.collaborators=t.collaborators:s.errorMessage(t.message)})}function n(t){for(var o=0;o<e.collaborators.length;o++)if(t==e.collaborators[o].email)return!0;return!1}function r(t){if(e.useremail==t)s.errorMessage(e.useremail+" is email of owner.");else if(n(t))s.errorMessage("Usuario Cadastrado.");else{var o={idproblem:e.idProblem,email:t};i.invite(o).success(function(t){t.success?e.collaborators=t.collaborators:s.errorMessage(t.message)})}}function l(t){var o={idproblem:e.idProblem,email:t.email};i.removecollaborators(o).success(function(t){t.success?(s.errorMessage("Colaborador foi removido do projeto."),e.collaborators=t.collaborators):s.errorMessage(t.message)})}e.idProblem="",e.collaborators=[],e.useremail="",e.initCollaborators=o,e.addCollaborator=r,e.removeCollaborator=l,e.hide=function(){t.hide()},e.cancel=function(){t.cancel()}}function g(){k.nickname=a.localStorage.getItem("nickname"),k.idProblem=a.localStorage.getItem("problemid"),w=a.localStorage.getItem("localcode"),i.getproblem(k.idProblem).success(function(e){e.success?(k.problem=e.problem,angular.forEach(e.problem.artifacts,function(e){var t=e.split("_");k.dsc_artifacts.push({name:"problem."+t[2].toLowerCase(),label:n("translate")(e)})})):s.errorMessage(e.message)});var e={idproblem:k.idProblem,nickname:k.nickname};l.emit("initProblem",e)}function f(){r.go("startproblem")}function h(){r.go("problem.collaborators")}function b(){r.go("dscreport")}function v(){r.go("problem.description")}function y(){e.logout(),r.go("init.login")}var k=this;k.formAddCollaborators=h,k.editDescriptionProblem=v,k.doLogout=y,k.systemReturn=f,k.formProblemReport=b,k.getCurrentProblem=g,k.nickname,k.dsc_artifacts=[],k.formEditProblem=u,k.formInviteCollaborator=d;var w="";l.on("onAtualizarProblema",function(e){w!==e.localcode&&setDescrition(e.description)}),m.$inject=["Socket","$timeout","$scope","$mdDialog"],p.$inject=["$scope","$mdDialog"],k.selectedIndex=0;var S=null,A=null;o.$watch("selectedIndex",function(e){A=S,S=k.dsc_artifacts[e],k.selectedIndex=e})}angular.module("app").controller("menuProblemController",e),e.$inject=["Auth","$mdDialog","$scope","$filter","$state","$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,n,r){var a=this;a.idproblem="",a.intiMytOnion=intiMytOnion,a.savePostItOnion=savePostItOnion,a.editPostItOnion=editPostItOnion,a.delPostItOnion=delPostItOnion,a.addPostItOnion=addPostItOnion,a.onOnion=onOnion,a.offOnion=offOnion}angular.module("app").controller("onionController",e),e.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(),function(e){"use strict";function t(e,t,o,n,r){function a(){p.idproblem=t.localStorage.getItem("problemid"),p.localcode=t.localStorage.getItem("localcode"),p.inProcessing=!1}function i(t){e.emit("broadcastOnion3LayerSave",t)}function s(t){e.emit("broadcastOnion3LayerEdit",t)}function l(t,o){var n={index:t,postit:o};e.emit("broadcastOnion3LayerRemove",n)}function c(e,t,o){var r=n.confirm().parent(angular.element(document.body)).title("Detete Postit?").content("Title: "+onion.title).ariaLabel("Remove postit").ok("Yes!").cancel("Cancel").targetEvent(e);n.show(r).then(function(){l(t,o)})}function u(t,o){var n={onionlayer:o,title:"",description:"",openEdit:!0,x:t.pageX+"px",y:t.pageY+"px",zindex:9999};e.emit("broadcastOnion3LayerAdd",n)}function m(e){document.getElementById("name"+e).setAttribute("style","text-decoration: underline; fill: #8FBC8F;"),document.getElementById(e).setAttribute("style","fill: #8FBC8F;"),document.getElementById("legend"+e).setAttribute("opacity","0.7"),document.getElementById(e).setAttribute("opacity","0.7")}function d(e,t){document.getElementById("name"+e).setAttribute("style","text-decoration: none;"),document.getElementById(e).setAttribute("style","fill: "+t+";"),document.getElementById("legend"+e).setAttribute("opacity","1.0"),document.getElementById(e).setAttribute("opacity","1.0")}var p=this;p.idproblem="",p.initOnion3Layer=a,p.move=!1,p.onion3LayerList=[],p.inProcessing=!0,p.saveOnion3Layer=i,p.setOpenEdit=s,p.delPostIt=c,p.addPostIt=u,p.acende=m,p.apaga=d,p.localcode="",e.on("onBroadcastOnion3LayerSave",function(e){angular.forEach(p.onion3LayerList,function(t){t._id==e._id&&(t.title=e.title,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.zindex=9999)})}),e.on("onBroadcastOnion3LayerEdit",function(e){angular.forEach(p.onion3LayerList,function(t){t._id===e&&(t.openEdit=!0,t.zindex=9999)})}),e.on("onBroadcastOnion3LayerRemove",function(e){document.getElementById("postit"+p.onion3LayerList[e]._id);onion3Layer.style.display="none",p.onion3LayerList.splice(e,1)}),e.on("onBroadcastOnion3LayerMove",function(e){p.localcode!==e.localcode&&(document.getElementById("postit"+e._id).style.left=e.x,document.getElementById("postit"+e._id).style.top=e.y)}),e.on("onBroadcastOnion3LayerAdd",function(e){p.onion3LayerList.push(e)})}angular.module("app").controller("onion3LayerController",t),t.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(this),function(){"use strict";function e(e,t,o,n){function r(){i.idProblem=e.localStorage.getItem("problemid"),t.getproblemreport(i.idProblem).success(function(e){e.success?(angular.forEach(e.problem.stakeholders,function(e){e.x=parseInt(e.x.substring(0,e.x.length-2))-100+"px",e.y=parseInt(e.y.substring(0,e.y.length-2))+400+"px"}),i.problem=e.problem):o.errorMessage(e.message)})}function a(){n.go("problem.stakeholders")}var i=this;i.idProblem,i.problem,i.initProblemPeport=r,i.systemReturn=a}angular.module("app").controller("problemReportController",e),e.$inject=["$window","problemService","toastApp","$state"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(v,t)}function n(t){return e.get(k+"?idproblem="+t)}function r(t){return e.get(y+"?idproblem="+t)}function a(t){return e.get(h+"?email="+t)}function i(t){return e.get(w+"?idproblem="+t)}function s(t){return e.post(S,t)}function l(t){return e.get(A+"?idproblem="+t)}function c(t){return e.get(L+"?idproblem="+t)}function u(t){return e.get(P+"?idproblem="+t)}function m(t){return e.get(E+"?idproblem="+t)}function d(t){return e.get(I+"?idproblem="+t)}function p(t){return e.get(b+"?email="+t)}function g(t){return e.get(C+"?idproblem="+t.idproblem+"&email="+t.email)}function f(t){return e.get($+"?idproblem="+t)}var h="/api/problem/getproblems",b="/api/problem/getproblemscollaborator",v="/api/problem/newproblem",y="/api/problem/getproblem",k="/api/problem/getproblemreport",w="/api/problem/getcollaborators",S="/api/problem/invite",A="/api/problem/getonion",L="/api/problem/getevaluation",P="/api/problem/getsemiotic",E="/api/problem/getcarf",I="/api/problem/removeproblem",C="/api/problem/removecollaborator",$="/api/problem/historychat",M={newproblem:o,getuserproblems:a,getproblem:r,getcollaborators:i,invite:s,getonion:l,getevaluation:c,getsemiotic:u,getcarf:m,removeproblem:d,getproblemscollaborator:p,removecollaborators:g,gethistorychat:f,getproblemreport:n};return M}angular.module("app").factory("problemService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e,t,o,n){function r(){m.idproblem=t.localStorage.getItem("problemid"),o.getsemiotic(m.idproblem).success(function(e){e.success?m.semioticframework=e.semioticframework:n.errorMessage(e.message)})}function a(t,o){var n={text:t,update:o};e.emit("updateSocialWorld",n)}function i(t,o){var n={text:t,update:o};e.emit("updatePragmatic",n)}function s(t,o){var n={text:t,update:o};e.emit("updateSemantic",n)}function l(t,o){var n={text:t,update:o};e.emit("updateSyntatic",n)}function c(t,o){var n={text:t,update:o};e.emit("updateEmpirical",n)}function u(t,o){var n={text:t,update:o};e.emit("updatePhysical",n)}var m=this;m.idproblem="",m.saveSocialWorld=a,m.savePragmatic=i,m.saveSemantic=s,m.saveSyntatic=l,m.saveEmpirical=c,m.savePhysical=u,m.semioticframework="",m.initSemioticFramework=r,e.on("onUpdateSocialWorld",function(e){m.semioticframework.socialworld=e}),e.on("onUpdatePragmatic",function(e){m.semioticframework.pragmatic=e}),e.on("onUpdateSemantic",function(e){m.semioticframework.semioticramework=e}),e.on("onUpdateSyntatic",function(e,t){m.semioticframework.syntatic=e}),e.on("onUpdateEmpirical",function(e){m.semioticframework.empirical=e}),e.on("onUpdatePhysical",function(e){m.semioticframework.physical=e})}angular.module("app").controller("semioticframeworkController",e),e.$inject=["Socket","$window","problemService","toastApp"]}(),function(e){"use strict";function t(e,t,o,n,r){function a(){p.idproblem=t.localStorage.getItem("problemid"),p.localcode=t.localStorage.getItem("localcode"),o.getonion(p.idproblem).success(function(e){e.success?p.stakeholderList=e.stakeholders:r.errorMessage(e.message)}),p.inProcessing=!1}function i(t){e.emit("broadcastOnionSave",t)}function s(t){e.emit("broadcastOnionEdit",t)}function l(t,o){var n={index:t,stakeholder:o};e.emit("broadcastOnionRemove",n)}function c(e,t,o){var r=n.confirm().parent(angular.element(document.body)).title("Detete Stakeholder?").content("Title: "+o.name).ariaLabel("Remove Stakeholder").ok("Yes!").cancel("Cancel").targetEvent(e);n.show(r).then(function(){l(t,o)})}function u(t,o){var n={onionlayer:o,name:"",description:"",openEdit:!0,x:t.pageX+"px",y:t.pageY+"px",zindex:9999};e.emit("broadcastOnionAdd",n)}function m(e){document.getElementById("name"+e).setAttribute("style","text-decoration: underline;"),document.getElementById("legend"+e).setAttribute("opacity","0.7"),document.getElementById(e).setAttribute("opacity","0.7")}function d(e){document.getElementById("name"+e).setAttribute("style","text-decoration: none;"),document.getElementById("legend"+e).setAttribute("opacity","1.0"),document.getElementById(e).setAttribute("opacity","1.0")}var p=this;p.idproblem="",p.stakeholderList=[],p.stakeholder="",p.intitOnion=a,p.move=!1,p.inProcessing=!0,p.saveStakeholder=i,p.setOpenEdit=s,p.delPostIt=c,p.addPostIt=u,p.acende=m,p.apaga=d,p.localcode="",e.on("onBroadcastOnionSave",function(e){angular.forEach(p.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.zindex=9999)})}),e.on("onBroadcastOnionEdit",function(e){angular.forEach(p.stakeholderList,function(t){t._id===e&&(t.openEdit=!0,t.zindex=9999)})}),e.on("onBroadcastOnionRemove",function(e){var t=document.getElementById("stakeholder"+p.stakeholderList[e]._id);t.style.display="none",p.stakeholderList.splice(e,1)}),e.on("onBroadcastMove",function(e){p.localcode!==e.localcode&&(document.getElementById("stakeholder"+e._id).style.left=e.x,document.getElementById("stakeholder"+e._id).style.top=e.y)}),e.on("onBroadcastOnionAdd",function(e){p.stakeholderList.push(e)})}angular.module("app").controller("stakeholderController",t),t.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(this),function(){"use strict";function e(e,t,o,n,r,a,i){function s(){h.userid=r.localStorage.getItem("userid"),h.nickname=r.localStorage.getItem("nickname"),h.useremail=r.localStorage.getItem("useremail"),h.photo=r.localStorage.getItem("photo"),a.getuserproblems(h.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description.length>300?e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,280):e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"");h.problemList=e.problems,a.getproblemscollaborator(h.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)null!==e.problems[t].description&&(e.problems[t].description.length>300?e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,280):e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,""));h.problemCollaboratorList=e.problems}else i.errorMessage(e.message)})}else i.errorMessage(e.message)}),h.loginInProgress=!1}function l(e){a.removeproblem(e).success(function(t){if(t.success){for(var o=0;o<h.problemList.length;o++)if(h.problemList[o]._id==e){h.problemList.splice(o,1);break}}else i.errorMessage(t.message)})}function c(t,o){var n=e.confirm().parent(angular.element(document.body)).title("Detete Problem?").content("Title: "+o.title).ariaLabel("Remove Problem").ok("Desejo remover!").cancel("Cancel").targetEvent(t);e.show(n).then(function(){l(o._id)})}function u(e){e.userid=h.userid,a.newproblem(e).success(function(e){e.success?h.editProblem(e.problem):i.errorMessage(e.message)})}function m(e){r.localStorage.setItem("problemid",e._id);var o={idproblem:e._id,nickname:h.nickname};n.emit("initProblem",o),t.go("problem.stakeholders")}function d(){o.logout(),t.go("init.login")}function p(){t.go("profile")}function g(t){e.show({controller:f,templateUrl:"views/pages/newproblem.html",parent:angular.element(document.body),targetEvent:t})}function f(e,t,o){e.items=["LABEL_ARTIFACT_STAKEHOLDERS","LABEL_ARTIFACT_EVALUATIONFRAMEWORK","LABEL_ARTIFACT_SEMIOTICFRAMEWORK","LABEL_ARTIFACT_VIF","LABEL_ARTIFACT_CARF"],e.selected=[],e.toggle=function(e,o){var n=o.indexOf(e);n>-1?"LABEL_ARTIFACT_STAKEHOLDERS"!==e?o.splice(n,1):1==o.length?o.splice(n,1):i.errorMessage(t("translate")("LABEL_ARTIFACT_STAKEHOLDERS_NECESSARY")):(o.push(e),"LABEL_ARTIFACT_SEMIOTICFRAMEWORK"!=e&&(n=o.indexOf("LABEL_ARTIFACT_STAKEHOLDERS"),-1===n&&o.push("LABEL_ARTIFACT_STAKEHOLDERS")))},e.exists=function(e,t){return t.indexOf(e)>-1},e.isIndeterminate=function(){return 0!==e.selected.length&&e.selected.length!==e.items.length},e.isChecked=function(){return e.selected.length===e.items.length},e.toggleAll=function(){e.selected.length===e.items.length?e.selected=[]:(0===e.selected.length||e.selected.length>0)&&(e.selected=e.items.slice(0))},e.artifactList=[],e.hide=function(){o.hide()},e.cancel=function(){o.cancel()},e.addNewProblem=function(n){return e.selected.length<1?void i.errorMessage(t("translate")("LABEL_CHOICE_ARTIFACTS")):(n.artifacts=e.selected,h.startNewProblem(n),void o.cancel())}}var h=this;h.nickname="",h.userid="",h.useremail="",h.problemList=[],h.problemCollaboratorList=[],h.loginInProgress=!0,h.getProblems=s,h.revomveProblem=c,h.startNewProblem=u,h.editProblem=m,h.doLogout=d,h.newProblem=g,h.editProfile=p,h.photo,f.$inject=["$scope","$filter","$mdDialog"]}angular.module("app").controller("startProblemController",e),e.$inject=["$mdDialog","$state","Auth","Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,n){function r(){u.idproblem=e.localStorage.getItem("problemid"),t.getonion(u.idproblem).success(function(e){if(e.success){if(e.stakeholders.length>0){for(var t=1;t<u.sugestionValuesArray.length;t++)u.sugestionValues+=u.sugestionValuesArray[t]+", ";u.sugestionValues[u.sugestionValuesArray[u.sugestionValuesArray.length-1]]+".";for(var n=0;n<e.stakeholders.length;n++)for(var r=0;r<u.stakeholderList.length;r++){var a={_id:e.stakeholders[n]._id,onionlayer:e.stakeholders[n].onionlayer,values:e.stakeholders[n].values,name:e.stakeholders[n].name,description:e.stakeholders[n].description,openEdit:e.stakeholders[n].openEdit,x:e.stakeholders[n].x,y:e.stakeholders[n].y,newValues:[]};e.stakeholders[n].onionlayer!=u.stakeholderList[r].onionlayer||u.stakeholderList[r].stakeholders.push(a)}}u.inProcessing=!1}else o.errorMessage(e.message)})}function a(e){e.openEdit=!0}function i(e){e.openEdit=!1}function s(e,t){for(var o=[],r=0;r<t.values.length;r++)t.values[r]!=e&&o.push(t.values[r]);t.values=o,n.emit("broadcastOnionSave",t)}function l(e){if(""===e.newValues||void 0===e.newValues)o.errorMessage("Valor não especificado.");else{for(var t=e.newValues.split(","),r=0;r<t.length;r++)c(e.values,t[r])?o.errorMessage("Duplicate value: "+t[r]):e.values.push(t[r]);e.newValues="",e.openEdit=!1,n.emit("broadcastOnionSave",e)}}function c(e,t){for(var o=0;o<e.length;o++)if(t===e[o])return!0;return!1}var u=this;u.inProcessing=!0,u.idProblem="",u.useremail="",u.newvalues="",u.initValueIdentificationFrame=r,u.setSuggestionShow=a,u.leaveSuggestionShow=i,u.removeValueIdentication=s,u.setValueIdentication=l,u.sugestionValues="",u.stakeholderList=[{onionlayer:"Community",stakeholders:[]},{onionlayer:"Market",stakeholders:[]},{onionlayer:"Source",stakeholders:[]},{onionlayer:"Contribution",stakeholders:[]},{onionlayer:"Technico",stakeholders:[]}],u.sugestionValuesArray=["Acessibilidade","Adaptabilidade","Estética","Autonomia","Disponibilidade","Consciência","Colaboração","Conversação","Emoção e Afeto","Grupos","Identidade","Consentimento informado","Meta-comunicação","Normas","Objeto","Portabilidade","Presença","Privacidade","Propriedade","Reciprocidade, Relacionamento, Reputação","Escalabilidade","Segurança","Compartilhamento","Confiança","Usabilidade","Visibilidade"],n.on("onBroadcastOnionSave",function(e){angular.forEach(u.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.newValues=[])})})}angular.module("app").controller("valueIdentificationFrameController",e),e.$inject=["$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,n,r){function a(){t.go("startproblem")}function i(){l.userid=e.localStorage.getItem("userid"),void 0!==l.userid}function s(t){var n={userid:e.localStorage.getItem("userid"),photo:t};r.uploadPhoto(n).success(function(n){n.success?e.localStorage.setItem("photo",t):o.errorMessage("-----")})}var l=this;l.startProfile=i,l.uploadInProgress=!0,l.uploadProgress=0,l.userid,l.savePhoto=s,l.systemReturn=a,l.myImage="",l.myCroppedImage="";var c=function(e){var t=e.currentTarget.files[0],o=new FileReader;o.onload=function(e){n.$apply(function(t){t.myImage=e.target.result})},o.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",c)}angular.module("app").controller("profileController",e),e.$inject=["$window","$state","toastApp","$scope","signupService"]}(),function(){"use strict";function e(e,t,o,n,r,a,i,s,l){function c(e){o.create(e).success(function(t){t.success?(r.errorMessage(s("translate")("WELCOME_SYSTEM")+e.nickname),n.go("init.login")):r.errorMessage("Email Já cadastrado")})}function u(t){e.use(t)}function m(e){o.rescuePassword(e).success(function(t){t.success?(r.errorMessage("Email com instruções enviado para "+e.email),n.go("init.login")):r.errorMessage("Error")})}function d(e){o.changePassword(e).success(function(e){e.success?(r.errorMessage("Senha alterada com sucesso. Faça login com a nova senha."),n.go("init.login")):r.errorMessage("Error")})}var p=this;p.message="",p.saveUser=c,p.rescuePassword=m,p.changePassword=d,p.setLang=u,p.loginInProgress=!1}angular.module("app").controller("signupController",e),e.$inject=["$translate","$window","signupService","$state","toastApp","AuthToken","Auth","$filter","$stateParams"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(i,t)}function n(t){return e.post(s,t)}function r(o){var n=t.search();return e.get(l+"?mytoken="+n.mytoken+"&password="+o.password)}function a(t){return e.post(c,t)}var i="/api/signup/",s="/api/rescuepasswd/",l="/api/rescuepasswd/newpasswd/",c="/api/profile/photo/",u={create:o,rescuePassword:n,changePassword:r,uploadPhoto:a};return u}angular.module("app").factory("signupService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e){var t=e.extendPalette("teal",{50:"E0F2F1",100:"B2DFDB",200:"80CBC4",300:"4DB6AC",400:"26A69A",500:"009688",600:"00897B",700:"00796B",800:"00695C",900:"004D40",A100:"A7FFEB",A200:"64FFDA",A400:"1DE9B6",A700:"00BFA5",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0});e.definePalette("teal",t),e.theme("default").primaryPalette("teal").accentPalette("green")}angular.module("app").config(e),e.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";angular.module("authService",[]).factory("Auth",["$http","$q","AuthToken",function(e,t,o){var n={};return n.login=function(t,n){return e.post("/api/login",{email:t,password:n}).success(function(e){return o.setToken(e.token),e})},n.logout=function(){o.setToken()},n.isLoggedIn=function(){return o.getToken()?!0:!1},n.getUser=function(n){return o.getToken()?e.get("/api/me/?userid="+n):t.reject({message:"User has no token"})},n}]).factory("AuthToken",["$window",function(e){var t={};return t.getToken=function(){return e.localStorage.getItem("token")},t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token")},t}]).factory("AuthInterceptor",["$q","$location","AuthToken",function(e,t,o){var n={};return n.request=function(e){var t=o.getToken();return t&&(e.headers["x-access-token"]=t),e},n}])}(),angular.module("DropDSC",[]).directive("draggable",["$document","Socket","$window",function(e,t,o){return{restrict:"A",replace:!0,link:function(n,r,a){function i(e){var t=e.target.id;"svg"==t&&(t=""),n.stakeholder.onionlayer=t,y=e.pageY,x=e.pageX,r.css({top:y+"px",left:x+"px"}),n.stakeholder.x=x+"px",n.stakeholder.y=y+"px"}function s(){e.unbind("mousemove",i),e.unbind("mouseup",s),t.emit("broadcastMove",n.stakeholder)}r.on("mousedown",function(t){"stakeholder"==t.target.id.substring(0,11)&&(n.stakeholder.localcode=o.localStorage.getItem("localcode"),t.preventDefault(),e.bind("mousemove",i),e.bind("mouseup",s))})}}}]),function(e){angular.module("appRxDrag",["rx"]).directive("rxdraggable",["$document","$window","rx","Socket",function(e,t,o,n){return function(r,a,i){var s=t.localStorage.getItem("localcode"),l=o.Observable.fromEvent(a,"mouseup"),c=o.Observable.fromEvent(e,"mousemove"),u=o.Observable.fromEvent(a,"mousedown").map(function(e){return e.preventDefault(),{left:e.clientX-a[0].getBoundingClientRect().left,top:e.clientY-a[0].getBoundingClientRect().top}}),m=u.selectMany(function(e){return c.map(function(t){return{left:t.clientX-e.left,top:t.clientY-e.top}}).takeUntil(l)});m.subscribe(function(e){
a.css({top:e.top+"px",left:e.left+"px"}),e.localcode=s,n.emit("broadcastMove",e)})}}])}.call(this),function(){"use strict";function e(e,t,o,n,r,a,i){function s(t){e.use(t)}function l(){return Math.random()+Math.floor(10*Math.random())}function c(e){m.inProcessing=!0,m.error="",n.login(e.email,e.password).success(function(e){r.localStorage.setItem("useremail",e.email),r.localStorage.setItem("userid",e.id),r.localStorage.setItem("localcode",e.id+"-"+l()),r.localStorage.setItem("nickname",e.nickname),m.setLang(e.language),m.inProcessing=!1,n.getUser(e.id).then(function(t){i.errorMessage(a("translate")("WELCOME_SYSTEM")+": "+e.nickname),e.success?(r.localStorage.setItem("photo",t.data.photo),o.go("startproblem")):i.errorMessage("Usuário e senha não conferem.")})})}function u(){n.logout(),o("init")}var m=this;m.inProcessing=!1,m.setLang=s,m.doLogout=u,m.doLogin=c,m.loggedIn=n.isLoggedIn(),t.$on("$routeChangeStart",function(){m.loggedIn=n.isLoggedIn(),n.getUser().then(function(e){m.user=e.data})})}angular.module("app").controller("loginController",e),e.$inject=["$translate","$rootScope","$state","Auth","$window","$filter","toastApp"]}(),function(){"use strict";angular.module("app").service("Socket",["$location","$timeout",function(e,t){this.socket=io(),this.on=function(e,o){this.socket&&this.socket.on(e,function(e){t(function(){o(e)})})},this.emit=function(e,t){this.socket&&this.socket.emit(e,t)},this.removeListener=function(e){this.socket&&this.socket.removeListener(e)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRzYy5hcHAuanMiLCJ0b2FzdC5zZXJ2aWNlLmpzIiwicm91dGVyLmFwcC5qcyIsImFwcC5kc2MubWluLmpzIiwibGFuZ3VhZ2UvdHJhbnNsYXRlLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2NhcmYuY29udHJvbGxlci5qcyIsInByb2JsZW0vY2hhdC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9kc2NyZXNwb3J0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2V2YWx1YXRpb25mcmFtZXdvcmsuY29udHJvbGxlci5qcyIsInByb2JsZW0vbWVudS5wcm9ibGVtLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL29uaW9uLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL29uaW9uLmVkaXQuY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5yZXBvcnQuY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5zZXJ2aWNlLmpzIiwicHJvYmxlbS9zZW1pb3RpY2ZyYW1ld29yay5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3N0YWtlaG9sZGVyLmVkaXQuY29udHJvbGxlci5qcyIsInByb2JsZW0vc3RhcnQucHJvYmxlbS5jb250cm9sbGVyLmpzIiwicHJvYmxlbS92YWx1ZWRlbnRpZmljYXRpb25mcmFtZS5jb250cm9sbGVyLmpzIiwidXNlci9wcm9maWxlLmNvbnRyb2xsZXIuanMiLCJ1c2VyL3NpZ251cC5jb250cm9sbGVyLmpzIiwidXNlci9zaWdudXAuc2VydmljZS5qcyIsImFwcC5jb25maWcuanMiLCJhdXRoLnNlcnZpY2UuanMiLCJkcmFnLmRzYy5qcyIsImRyYWdyeC5kc2MuanMiLCJsb2dpbi5jb250cm9sbGVyLmpzIiwic29ja2V0LnNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwidG9hc3RBcHAiLCIkbWRUb2FzdCIsImVycm9yTWVzc2FnZSIsInRoaXMiLCJtZXNzYWdlIiwic2hvdyIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsImFjdGlvbiIsImhpZ2hsaWdodEFjdGlvbiIsInBvc2l0aW9uIiwiaGlkZURlbGF5Iiwic2VydmljZSIsInNlbGYiLCJjbG9zZVRvYXN0IiwiaGlkZSIsImZhY3RvcnkiLCIkaW5qZWN0Iiwicm91dGVzIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwiY29udGVudC10YWIiLCJkc2MtYXJ0aWZhY3QiLCJvdGhlcndpc2UiLCJpbml0TGFuZ3VhZ2UiLCIkdHJhbnNsYXRlUHJvdmlkZXIiLCJ1c2VTdGF0aWNGaWxlc0xvYWRlciIsInByZWZpeCIsInN1ZmZpeCIsInByZWZlcnJlZExhbmd1YWdlIiwidXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5IiwidXNlTG9jYWxTdG9yYWdlIiwibGFuZ3VhZ2VDb250cm9sbGVyIiwiJHRyYW5zbGF0ZSIsInNldExhbmciLCJsYW5nS2V5IiwidXNlIiwiY2hhbmdlTGFuZ3VhZ2UiLCJyZXN0cmljdCIsImRpcmVjdGl2ZSIsImNhcmZDb250cm9sbGVyIiwiJHdpbmRvdyIsIlNvY2tldCIsInByb2JsZW1TZXJ2aWNlIiwiaW5pdENhcmYiLCJpZFByb2JsZW0iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZ2V0Y2FyZiIsInN1Y2Nlc3MiLCJkYXRhIiwibG9jYWxTdGFrZWhvbGRlcnMiLCJzdGFrZWhvbGRlcnMiLCJzdGFrZWhvbGRlckxpc3QiLCJjYXJmTGlzdCIsImNhcmYiLCJjYXJmUHJpb3JpdHlMaXN0IiwibG9jYWxQcmlvcml0eUxpc3QiLCJpblByb2Nlc3NpbmciLCJyZXNldENhcmYiLCJfaWQiLCJwbXMiLCJ2YWx1ZXMiLCJwcmlvcml0eSIsInJlcXVpcmVtZW50IiwidmFsdWVMaXN0IiwiYWRkcG1zdmFsdWUiLCJsZW5ndGgiLCJlbWl0IiwicmVtb3ZlQ0FSRiIsImluZGV4Iiwib2JqIiwic2VsZWN0UE1TVmFsdWUiLCJ1bmRlZmluZWQiLCJmb3JFYWNoIiwiY2FyZlBNU1ZhbHVlIiwicG1zX3ZhbHVlIiwic2V0UHJpb3RpdHkiLCJhZGRMaXN0VmFsdWUiLCJuZXd2YWx1ZSIsImkiLCJzcGxpY2UiLCJhZGRTdGFrZWhvbGRlciIsIm5ld1N0YWtlaG9sZGVyIiwib24iLCJpZCIsImNoYXREU0MiLCIkdGltZW91dCIsIm9wZW5DaGF0IiwiaXNPcGVuQ2hhdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJmb2N1cyIsImluaXRIaXN0b3J5Q2hhdCIsIm5pY2tuYW1lIiwicGhvdG8iLCJnZXRoaXN0b3J5Y2hhdCIsImhpc3RvcnljaGF0IiwidG1wIiwiRGF0ZSIsInRpbWUiLCJtc24iLCJtc2ciLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsIm1lc3NhZ2VzIiwic2hvd1JlcGxheSIsInJlcGxheSIsInNlbmRNZXNzYWdlIiwiY2hhdG1zZyIsIm5ld21zZyIsImNvbnRhZG9yIiwiemVyYXJDb250YWRvciIsImtleXByZXNzQ2hhdCIsImV2ZW50Iiwia2V5Q29kZSIsInVzZXJMaXN0IiwiZHNjUmVwb3J0Q29udHJvbGxlciIsImJ1aWRSZXBvcnQiLCJlbGVtZW50IiwiaHRtbCIsInBkZiIsImpzUERGIiwiYWRkSFRNTCIsInBhZ2VzcGxpdCIsImRpc3Bvc2UiLCJzYXZlIiwiaWRwcm9ibGVtIiwiZXZhbHVhdGlvbmZyYW1ld29ya0NvbnRyb2xsZXIiLCJpbml0RXZhbHVhdGlvbiIsImdldGV2YWx1YXRpb24iLCJldmFsdWF0aW9uZnJhbWV3b3JrTGlzdCIsImV2YWx1YXRpb25mcmFtZXdvcmsiLCJzYXZlRnJhbWUiLCJzdGFrZWhvbGRlciIsInNldE9wZW5FZGl0RGlzY3V0aW9uIiwiY3VycmVudFN0YWtlaG9sZGVyIiwib3BlbkVkaXQiLCJvbmlvbmxheWVyIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicHJvYmxlbXMiLCJzb2x1dGlvbnMiLCJzdGFrZWhvbGRlck9uaW9uIiwibWVudVByb2JsZW1hQ29udHJvbGxlciIsIkF1dGgiLCIkbWREaWFsb2ciLCIkc2NvcGUiLCIkZmlsdGVyIiwiJHN0YXRlIiwic2F2ZVByb2JsZW0iLCJwcm9ibGVtIiwibG9jYWxjb2RlIiwiZm9ybUVkaXRQcm9ibGVtIiwiZXYiLCJEaWFsb2dFZGl0UHJvYmxlbUNvbnRyb2xsZXIiLCJwYXJlbnQiLCJib2R5IiwidGFyZ2V0RXZlbnQiLCJnZXRQcm9ibGVtRWRpdCIsImdldHByb2JsZW0iLCJzZXRVcGRhdGUiLCJ1cGRhdGVUcnVlIiwicHJvYmxlbVVwZGF0ZSIsInVwZGF0ZSIsInNhdmVEZXNjcmlwdGlvbiIsImNhbmNlbCIsImZvcm1JbnZpdGVDb2xsYWJvcmF0b3IiLCJEaWFsb2dJbnZpdGVDb2xsYWJvcmF0b3JDb250cm9sbGVyIiwiaW5pdENvbGxhYm9yYXRvcnMiLCJ1c2VyZW1haWwiLCJnZXRjb2xsYWJvcmF0b3JzIiwiY29sbGFib3JhdG9ycyIsInNlYXJjaENhbGxhYm9yYXRpb24iLCJlbWFpbCIsImFkZENvbGxhYm9yYXRvciIsImludml0ZSIsInJlbW92ZUNvbGxhYm9yYXRvciIsInBlb3BsZSIsInJlbW92ZWNvbGxhYm9yYXRvcnMiLCJnZXRDdXJyZW50UHJvYmxlbSIsImFydGlmYWN0cyIsImFydGlmYWN0Iiwic3BsaXQiLCJkc2NfYXJ0aWZhY3RzIiwidG9Mb3dlckNhc2UiLCJsYWJlbCIsImluaXRzb2NrZXRwcm9ibGVtIiwic3lzdGVtUmV0dXJuIiwiZ28iLCJmb3JtQWRkQ29sbGFib3JhdG9ycyIsImZvcm1Qcm9ibGVtUmVwb3J0IiwiZWRpdERlc2NyaXB0aW9uUHJvYmxlbSIsImRvTG9nb3V0IiwibG9nb3V0IiwicmV0b3JubyIsInNldERlc2NyaXRpb24iLCJzZWxlY3RlZEluZGV4Iiwic2VsZWN0ZWQiLCJwcmV2aW91cyIsIiR3YXRjaCIsImN1cnJlbnQiLCJvbmlvbkNvbnRyb2xsZXIiLCJpbnRpTXl0T25pb24iLCJzYXZlUG9zdEl0T25pb24iLCJlZGl0UG9zdEl0T25pb24iLCJkZWxQb3N0SXRPbmlvbiIsImFkZFBvc3RJdE9uaW9uIiwib25PbmlvbiIsIm9mZk9uaW9uIiwib25pb24zTGF5ZXJDb250cm9sbGVyIiwiaW5pdE9uaW9uM0xheWVyIiwic2F2ZU9uaW9uM0xheWVyIiwicG9zdGl0Iiwic2V0T3BlbkVkaXQiLCJyZW1vdmVQb3N0SXQiLCJkZWxQb3N0SXQiLCJjb25maXJtIiwidGl0bGUiLCJjb250ZW50Iiwib25pb24iLCJhcmlhTGFiZWwiLCJvayIsInRoZW4iLCJhZGRQb3N0SXQiLCJlIiwiY2FtYWRhIiwieCIsInBhZ2VYIiwieSIsInppbmRleCIsImFjZW5kZSIsInNldEF0dHJpYnV0ZSIsImFwYWdhIiwiY29sb3IiLCJtb3ZlIiwib25pb24zTGF5ZXJMaXN0Iiwib25pb24zTGF5ZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJsZWZ0IiwidG9wIiwicHJvYmxlbVJlcG9ydENvbnRyb2xsZXIiLCJpbml0UHJvYmxlbVBlcG9ydCIsImdldHByb2JsZW1yZXBvcnQiLCJwYXJzZUludCIsInN1YnN0cmluZyIsIiRodHRwIiwiJGxvY2F0aW9uIiwibmV3cHJvYmxlbSIsInBvc3QiLCJBUElfUk9VVEVfTkVXUFJPQkxFTSIsImdldCIsIkFQSV9ST1VURV9HRVRQUk9CTEVNUkVQT1JUIiwiQVBJX1JPVVRFX0dFVFBST0JMRU0iLCJnZXR1c2VycHJvYmxlbXMiLCJBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TIiwiQVBJX1JPVVRFX0dFVENPTExBQk9SQVRPUlMiLCJBUElfUk9VVEVfSU5WSVRFIiwiZ2V0b25pb24iLCJBUElfUk9VVEVfR0VUT05JT04iLCJBUElfUk9VVEVfR0VURVZBTFVBVElPTiIsImdldHNlbWlvdGljIiwiQVBJX1JPVVRFX0dFVFNFTUlPVElDRlJBTUVXT1JLIiwiQVBJX1JPVVRFX0dFVENBUkYiLCJyZW1vdmVwcm9ibGVtIiwiQVBJX1JPVVRFX1JFTU9WRVBST0JMRU0iLCJnZXRwcm9ibGVtc2NvbGxhYm9yYXRvciIsIkFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVNDT0xMQUJPUkFUT1IiLCJBUElfUk9VVEVfUkVNT1ZFQ09MTEFCT1JBVE9SIiwiQVBJX1JPVVRFX0dFVEhJU1RPUllDSEFUIiwic2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyIiwiaW5pdFNlbWlvdGljRnJhbWV3b3JrIiwic2VtaW90aWNmcmFtZXdvcmsiLCJzYXZlU29jaWFsV29ybGQiLCJ0ZXh0IiwiZmxhZ1NhdmUiLCJzYXZlUHJhZ21hdGljIiwic2F2ZVNlbWFudGljIiwic2F2ZVN5bnRhdGljIiwic2F2ZUVtcGlyaWNhbCIsInNhdmVQaHlzaWNhbCIsInNvY2lhbHdvcmxkIiwicHJhZ21hdGljIiwic2VtaW90aWNyYW1ld29yayIsInN5bnRhdGljIiwiZW1waXJpY2FsIiwicGh5c2ljYWwiLCJzdGFrZWhvbGRlckNvbnRyb2xsZXIiLCJpbnRpdE9uaW9uIiwic2F2ZVN0YWtlaG9sZGVyIiwic3RhcnRQcm9ibGVtQ29udHJvbGxlciIsImdldFByb2JsZW1zIiwidXNlcmlkIiwicmVwbGFjZSIsInByb2JsZW1MaXN0IiwicHJvYmxlbUNvbGxhYm9yYXRvckxpc3QiLCJsb2dpbkluUHJvZ3Jlc3MiLCJkZWxldGVQcm9ibGVtIiwicHJvYmxlbWlkIiwicmV2b212ZVByb2JsZW0iLCJzdGFydE5ld1Byb2JsZW0iLCJlZGl0UHJvYmxlbSIsInNldEl0ZW0iLCJlZGl0UHJvZmlsZSIsIm5ld1Byb2JsZW0iLCJEaWFsb2dDb250cm9sbGVyIiwiaXRlbXMiLCJ0b2dnbGUiLCJpdGVtIiwibGlzdCIsImlkeCIsImluZGV4T2YiLCJleGlzdHMiLCJpc0luZGV0ZXJtaW5hdGUiLCJpc0NoZWNrZWQiLCJ0b2dnbGVBbGwiLCJzbGljZSIsImFydGlmYWN0TGlzdCIsImFkZE5ld1Byb2JsZW0iLCJ2YWx1ZUlkZW50aWZpY2F0aW9uRnJhbWVDb250cm9sbGVyIiwiaW5pdFZhbHVlSWRlbnRpZmljYXRpb25GcmFtZSIsImsiLCJzdWdlc3Rpb25WYWx1ZXNBcnJheSIsInN1Z2VzdGlvblZhbHVlcyIsImoiLCJuZXdWYWx1ZXMiLCJzZXRTdWdnZXN0aW9uU2hvdyIsImxlYXZlU3VnZ2VzdGlvblNob3ciLCJyZW1vdmVWYWx1ZUlkZW50aWNhdGlvbiIsInZhbHVlIiwibmV3TGlzdCIsInNldFZhbHVlSWRlbnRpY2F0aW9uIiwidmFsdWVzTGlzdCIsImZpbmRWYWx1ZSIsIm5ld3ZhbHVlcyIsInByb2ZpbGVDb250cm9sbGVyIiwic2lnbnVwU2VydmljZSIsInN0YXJ0UHJvZmlsZSIsInNhdmVQaG90byIsIm15aW1hZ2UiLCJ1c2VyUGhvdG8iLCJ1cGxvYWRQaG90byIsInVwbG9hZEluUHJvZ3Jlc3MiLCJ1cGxvYWRQcm9ncmVzcyIsIm15SW1hZ2UiLCJteUNyb3BwZWRJbWFnZSIsImhhbmRsZUZpbGVTZWxlY3QiLCJldnQiLCJmaWxlIiwiY3VycmVudFRhcmdldCIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsIiRhcHBseSIsInRhcmdldCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJxdWVyeVNlbGVjdG9yIiwic2lnbnVwQ29udHJvbGxlciIsIkF1dGhUb2tlbiIsIiRzdGF0ZVBhcmFtcyIsInNhdmVVc2VyIiwidXNlciIsImNyZWF0ZSIsInJlc2N1ZVBhc3N3b3JkIiwidXNlckVtYWlsIiwiY2hhbmdlUGFzc3dvcmQiLCJBUElfUk9VVEVfVVNFUiIsIkFQSV9ST1VURV9SRVNDVUVQQVNTV09SRCIsIm15dG9rZW5VUkwiLCJzZWFyY2giLCJBUElfUk9VVEVfU0VUTkVXUEFTU1dPUkQiLCJteXRva2VuIiwicGFzc3dvcmQiLCJBUElfUk9VVEVfVVBEQVRFUEhPVE8iLCJhcHBDb25maWciLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJuZW9uUmVkTWFwIiwiZXh0ZW5kUGFsZXR0ZSIsIjUwIiwiMTAwIiwiMjAwIiwiMzAwIiwiNDAwIiwiNTAwIiwiNjAwIiwiNzAwIiwiODAwIiwiOTAwIiwiQTEwMCIsIkEyMDAiLCJBNDAwIiwiQTcwMCIsImNvbnRyYXN0RGVmYXVsdENvbG9yIiwiY29udHJhc3REYXJrQ29sb3JzIiwiY29udHJhc3RMaWdodENvbG9ycyIsImRlZmluZVBhbGV0dGUiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiYWNjZW50UGFsZXR0ZSIsIiRxIiwiYXV0aEZhY3RvcnkiLCJsb2dpbiIsInNldFRva2VuIiwidG9rZW4iLCJpc0xvZ2dlZEluIiwiZ2V0VG9rZW4iLCJnZXRVc2VyIiwicmVqZWN0IiwiYXV0aFRva2VuRmFjdG9yeSIsInJlbW92ZUl0ZW0iLCJpbnRlcmNlcHRvckZhY3RvcnkiLCJyZXF1ZXN0IiwiaGVhZGVycyIsIiRkb2N1bWVudCIsImxpbmsiLCJzY29wZSIsImF0dHIiLCJtb3VzZW1vdmUiLCJpZF9kaXYiLCJwYWdlWSIsImNzcyIsIm1vdXNldXAiLCJ1bmJpbmQiLCJwcmV2ZW50RGVmYXVsdCIsImJpbmQiLCJyeCIsImF0dHJzIiwiT2JzZXJ2YWJsZSIsImZyb21FdmVudCIsIm1vdXNlZG93biIsIm1hcCIsImNsaWVudFgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRZIiwibW91c2VkcmFnIiwic2VsZWN0TWFueSIsImltYWdlT2Zmc2V0IiwicG9zIiwidGFrZVVudGlsIiwic3Vic2NyaWJlIiwiY2FsbCIsImxvZ2luQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCJnZXRMb2NhbENvZGUiLCJNYXRoIiwicmFuZG9tIiwiZmxvb3IiLCJkb0xvZ2luIiwiZXJyb3IiLCJsYW5ndWFnZSIsInVzZXJEYXRhIiwibG9nZ2VkSW4iLCIkb24iLCJzb2NrZXQiLCJpbyIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwicmVtb3ZlTGlzdGVuZXIiXSwibWFwcGluZ3MiOiJDQUdBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSxPQUFBLFlBQUEsZUFBQSxjQUFBLG1CQUFBLFlBQUEsVUFBQSxjQUFBLFlBQUEsYUFBQSxZQUFBLFlBQUEsMkJBQ0FDLFFBQUEsZ0JBQUEsU0FBQUMsR0FD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cUMsRUFBQSxXQUNBdVgsRUFBQTVaLFFBTUFuRCxLQUFBcUUsS0FBQSxTQUFBeVksRUFBQTNaLEdBQ0FuRCxLQUFBNGMsUUFDQTVjLEtBQUE0YyxPQUFBdlksS0FBQXlZLEVBQUEzWixJQUlBbkQsS0FBQWdkLGVBQUEsU0FBQUYsR0FDQTljLEtBQUE0YyxRQUNBNWMsS0FBQTRjLE9BQUFJLGVBQUFGIiwiZmlsZSI6ImFwcC5kc2MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJyxbJ25nSW1nQ3JvcCcsJ3RvYXN0U2VydmljZScsJ3RleHRBbmd1bGFyJywnbHVlZ2cuZGlyZWN0aXZlcycsICdhcHBSeERyYWcnLCAnRHJvcERTQycsJ2F1dGhTZXJ2aWNlJywndWkucm91dGVyJywnbmdNYXRlcmlhbCcsJ25nTWRJY29ucycsJ25nQ29va2llcycsJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnXSlcclxuICAgICAgICAuY29uZmlnKGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnQXV0aEludGVyY2VwdG9yJyk7XHJcbiAgICAgICAgfSlcclxuXHJcbn0pKCk7XHJcblxyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNy8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCd0b2FzdFNlcnZpY2UnLFtdKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCd0b2FzdENvbnRyb2xsZXInLCBmdW5jdGlvbigkbWRUb2FzdCx0b2FzdEFwcCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZSA9ICB0b2FzdEFwcC5tZXNzYWdlO1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlVG9hc3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRtZFRvYXN0LmhpZGUoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5mYWN0b3J5KCAndG9hc3RBcHAnLCB0b2FzdEFwcCApO1xyXG5cclxuICAgIHRvYXN0QXBwLiRpbmplY3QgPSBbICckbWRUb2FzdCcgXTtcclxuXHJcbiAgICBmdW5jdGlvbiB0b2FzdEFwcCAoJG1kVG9hc3QpIHtcclxuICAgICAgICB2YXIgc2VydmljZSA9IHtcclxuICAgICAgICAgICAgbWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gc2VydmljZTtcclxuXHJcbiAgICAgICAgLypmdW5jdGlvbiBlcnJvck1lc3NhZ2UoZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgICAgICAgLnRleHRDb250ZW50KGVycm9yTWVzc2FnZSlcclxuICAgICAgICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgICAgICAgIC5oaWRlRGVsYXkoODAwKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0qL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBlcnJvck1lc3NhZ2UoZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9yTWVzc2FnZTtcclxuICAgICAgICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndG9hc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9kc2N0b2FzdC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiT0tcIixcclxuICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRBY3Rpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwidG9wIHJpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZURlbGF5OiAyMDAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSkoKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29uZmlnKHJvdXRlcyk7XHJcblxyXG4gICAgZnVuY3Rpb24gcm91dGVzKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuXHJcblxyXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdpbml0Jywge1xyXG4gICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9pbml0cGFnZS5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2luaXQubG9naW4nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdsb2dpbicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy91c2VybG9naW4uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2luaXQuc2lnbnVwJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnc2lnbnVwJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdGFiJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3NpZ251cC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cENvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2luaXQucmVzY3VlcGFzc3dvcmQnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdyZXNjdWVwYXNzd29yZCcsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9yZXNjdWVwYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cENvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3N0YXJ0cHJvYmxlbScsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9zdGFydHByb2JsZW0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9zdGFydHByb2JsZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc3RhcnRQcm9ibGVtQ29udHJvbGxlciBhcyB2bSdcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvZmlsZScsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9wcm9maWxlJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvZmlsZS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9maWxlQ29udHJvbGxlciBhcyB2bSdcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnZHNjcmVwb3J0Jywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2RzY3JlcG9ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvYmxlbXJlcG9ydC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Byb2JsZW1SZXBvcnRDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ25ld3Bhc3N3b3JkJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL25ld3Bhc3N3b3JkLzpteXRva2VuJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvbmV3cGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbnVwQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3Byb2JsZW0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21lbnVQcm9ibGVtQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAvKiAuc3RhdGUoJ3Byb2JsZW0uZGVzY3JpcHRpb24nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvZGVzY3JpcHRpb24nLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAncHJvYmxlbS1kZXNjcmlwdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9ibGVtZGVzY3JpcHRpb24uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlZGl0UHJvYmxlbUNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSovXHJcbiAgICAgICAgICAgIC8qLnN0YXRlKCdwcm9ibGVtLmNvbGxhYm9yYXRvcnMnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvY29sbGFib3JhdG9ycycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdwcm9ibGVtLWRlc2NyaXB0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2NvbGxhYm9yYXRvcnMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb250cm9sbGVyQ29sbGFib3JhdG9ycyBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pKi9cclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLnN0YWtlaG9sZGVycycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9zdGFrZWhvbGRlcnMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3N0YWtlaG9sZGVycy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YWtlaG9sZGVyQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5ldmFsdWF0aW9uZnJhbWV3b3JrJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2V2YWx1YXRpb25mcmFtZXdvcmsnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2V2YWx1YXRpb25mcmFtZXdvcmsuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0uc2VtaW90aWNmcmFtZXdvcmsnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvc2VtaW90aWNmcmFtZXdvcmsnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3NlbWlvdGljZnJhbWV3b3JrLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmNhcmYnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvY2FyZicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvY2FyZi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NhcmZDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLnZpZicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy92aWYnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3ZpZi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0ub25pb24nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvb25pb24nLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL29uaW9uLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnb25pb24zTGF5ZXJDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2xvZ2luJyk7XHJcblxyXG4gICAgfVxyXG5cclxufSkoKTtcclxuIixudWxsLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDE5LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhpbml0TGFuZ3VhZ2UpXHJcbiAgICAuY29udHJvbGxlcignbGFuZ3VhZ2VDb250cm9sbGVyJyxsYW5ndWFnZUNvbnRyb2xsZXIpXHJcbiAgICAuZGlyZWN0aXZlKCdjaGFuZ2VMYW5ndWFnZScsY2hhbmdlTGFuZ3VhZ2UpO1xyXG5cclxuaW5pdExhbmd1YWdlLiRpbmplY3QgPSBbJyR0cmFuc2xhdGVQcm92aWRlciddO1xyXG5sYW5ndWFnZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHRyYW5zbGF0ZSddO1xyXG5cclxuZnVuY3Rpb24gaW5pdExhbmd1YWdlICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlU3RhdGljRmlsZXNMb2FkZXIoe1xyXG4gICAgICAgICAgICBwcmVmaXg6ICdhcHAvbGFuZ3VhZ2UvbGFuZy0nLFxyXG4gICAgICAgICAgICBzdWZmaXg6ICcuanNvbidcclxuICAgICAgICB9KTtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSgnZXNjYXBlZCcpO1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VMb2NhbFN0b3JhZ2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbGFuZ3VhZ2VDb250cm9sbGVyICgkdHJhbnNsYXRlKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnNldExhbmcgPSBzZXRMYW5nO1xyXG4gICAgZnVuY3Rpb24gc2V0TGFuZyhsYW5nS2V5KSB7XHJcbiAgICAgICAgICAgICR0cmFuc2xhdGUudXNlKGxhbmdLZXkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VMYW5ndWFnZSgpe1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0ZW1wbGF0ZVVybCA6IFwiYXBwL2xhbmd1YWdlL2NoYW5nZUxhbmd1YWdlLmh0bWxcIixcclxuICAgICAgICByZXN0cmljdDogXCJFXCJcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDE0LzA3LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcihcImNhcmZDb250cm9sbGVyXCIsY2FyZkNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNhcmZDb250cm9sbGVyKCR3aW5kb3csU29ja2V0LHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwKXtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuaWRQcm9ibGVtID0gXCJcIjtcclxuICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICAgICAgc2VsZi52YWx1ZUxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IFtdO1xyXG4gICAgICAgIHNlbGYubG9jYWxTdGFrZWhvbGRlcnMgPSBbXTtcclxuICAgICAgICBzZWxmLmFkZHBtc3ZhbHVlID0gYWRkcG1zdmFsdWU7XHJcbiAgICAgICAgc2VsZi5yZW1vdmVDQVJGID0gcmVtb3ZlQ0FSRjtcclxuICAgICAgICBzZWxmLnNlbGVjdFBNU1ZhbHVlID0gc2VsZWN0UE1TVmFsdWU7XHJcbiAgICAgICAgc2VsZi5zZXRQcmlvdGl0eSA9IHNldFByaW90aXR5O1xyXG4gICAgICAgIHNlbGYuYWRkTGlzdFZhbHVlID0gYWRkTGlzdFZhbHVlO1xyXG4gICAgICAgIHNlbGYuYWRkU3Rha2Vob2xkZXIgPSBhZGRTdGFrZWhvbGRlcjtcclxuICAgICAgICBzZWxmLmNhcmYgPSB7XHJcbiAgICAgICAgICAgIHBtczogXCJcIixcclxuICAgICAgICAgICAgdmFsdWVzOiBbXSxcclxuICAgICAgICAgICAgcHJpb3JpdHk6IFwiXCIsXHJcbiAgICAgICAgICAgIHJlcXVpcmVtZW50OiBcIlwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5pbml0Q2FyZiA9IGluaXRDYXJmO1xyXG4gICAgICAgIHNlbGYuY2FyZkxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBbXTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdENhcmYoKXtcclxuICAgICAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0Y2FyZihzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2NhbFN0YWtlaG9sZGVycyA9IGRhdGEuc3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IHNlbGYubG9jYWxTdGFrZWhvbGRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZkxpc3QgPSBkYXRhLmNhcmY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZlByaW9yaXR5TGlzdCA9IHNlbGYubG9jYWxQcmlvcml0eUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZXNldENhcmYoKXtcclxuICAgICAgICAgICAgc2VsZi5jYXJmID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgcG1zOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzOiBbXSxcclxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZW1lbnQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHNlbGYudmFsdWVMaXN0ID0gW107XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENBUkZhZGQnLCBmdW5jdGlvbiAoY2FyZikge1xyXG4gICAgICAgICAgICBzZWxmLmNhcmZMaXN0LnB1c2goY2FyZik7XHJcbiAgICAgICAgICAgIHJlc2V0Q2FyZigpO1xyXG4gICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IHNlbGYubG9jYWxTdGFrZWhvbGRlcnM7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZlByaW9yaXR5TGlzdCA9IHNlbGYubG9jYWxQcmlvcml0eUxpc3Q7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZHBtc3ZhbHVlKGNhcmYpe1xyXG5cclxuICAgICAgICAgICAgaWYoY2FyZi5wbXMgPT09IFwiXCIpe1xyXG4gICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IFBNU1wiKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBpZihjYXJmLnZhbHVlcy5sZW5ndGggPCAxICl7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IG9uZSBvciBtb3JlIFZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FyZi5zdGFrZWhvbGRlcnMubGVuZ3RoIDwgMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBvbmUgb3IgbW9yZSBTdGFrZWhvbGRlcihzKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FyZi5wcmlvcml0eSA9PT0gXCJcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZWxlY3QgcHJpb3JpdHkgW0xvdywgTWVkaXVtIG9yIEhpZ2hdXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDQVJGYWRkJywgY2FyZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmUHJpb3JpdHlMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0Q0FSRnJlbW92ZScsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICBzZWxmLmNhcmZMaXN0LnNwbGljZShpZCwxKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQ0FSRihpbmRleCxjYXJmKXtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgIGNhcmY6IGNhcmZcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENBUkZyZW1vdmUnLCBvYmopO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlbGVjdFBNU1ZhbHVlKHBtcyl7XHJcbiAgICAgICAgICAgIGlmKHBtcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5jYXJmUE1TVmFsdWUsIGZ1bmN0aW9uIChwbXNfdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG1zX3ZhbHVlLnBtcyA9PSBwbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmLnZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnZhbHVlTGlzdCA9IHBtc192YWx1ZS52YWx1ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0UHJpb3RpdHkocHJpb3JpdHkpe1xyXG4gICAgICAgICAgICBzZWxmLmNhcmYucHJpb3JpdHkgPSBwcmlvcml0eTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZExpc3RWYWx1ZShuZXd2YWx1ZSl7XHJcbiAgICAgICAgICAgaWYoc2VsZi5jYXJmLnZhbHVlcy5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jYXJmLnZhbHVlcy5wdXNoKG5ld3ZhbHVlKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuY2FyZi52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgIGlmIChuZXd2YWx1ZSA9PSBzZWxmLmNhcmYudmFsdWVzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJmLnZhbHVlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMucHVzaChuZXd2YWx1ZSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkU3Rha2Vob2xkZXIobmV3U3Rha2Vob2xkZXIpe1xyXG4gICAgICAgICAgICBpZihzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLnB1c2gobmV3U3Rha2Vob2xkZXIpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobmV3U3Rha2Vob2xkZXIgPT0gc2VsZi5jYXJmLnN0YWtlaG9sZGVyc1tpXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMuc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLnB1c2gobmV3U3Rha2Vob2xkZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLmxvY2FsUHJpb3JpdHlMaXN0ID0gWydMb3cnLCAnTWVkaXVtJywnSGlnaCddO1xyXG5cclxuICAgICAgICBzZWxmLmNhcmZQTVNWYWx1ZSA9IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkludGVyYWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIklkZW50aXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTm9ybXNcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJBc3NvY2lhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJDb252ZXJzYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJHcm91cHNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJSZWxhdGlvbnNoaXBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJUcnVzdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkxlYXJuaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk1ldGEtY29tbXVuaWNhdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlBsYXlcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQWVzdGhldGljc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkVtb3Rpb24gYW5kIEFmZmVjdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlByb3RlY3Rpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSW5mb3JtZWQgY29uc2VydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlJlcHV0YXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTZWN1cml0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkV4cGxvaXRhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBY2Nlc3NpYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiT2JqZWN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJvcGVydHkgKG93bmVyc2hpcClcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJVc2FiaWxpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJUZXBvcmFsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkF2YWlsYWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkF3YXJlbmVzc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlByZXNlbmNlXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiVGVycml0b3JpYWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUG9ydGFiaWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQcml2YWN5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU2NhbGFiaWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJWaXNpYmlsaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiQ2xhc3NpZmljYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQXV0b25vbXlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJDb2xsYWJvcmF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU2hhcmluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkFkYXB0YWJpbGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlN1YnNpc3RlbmNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlJlY2lwcm9jaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF07XHJcbiAgICB9XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTUvMDcvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignY2hhdERTQycsY2hhdERTQyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY2hhdERTQygkdGltZW91dCwgU29ja2V0LCBwcm9ibGVtU2VydmljZSwgJHdpbmRvdykge1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgICAgIHNlbGYubmlja25hbWUgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYudXNlckxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLmluaXRIaXN0b3J5Q2hhdCA9IGluaXRIaXN0b3J5Q2hhdDtcclxuICAgICAgICBzZWxmLnNob3dSZXBsYXkgPSBzaG93UmVwbGF5O1xyXG4gICAgICAgIHNlbGYuc2VuZE1lc3NhZ2UgPSBzZW5kTWVzc2FnZTtcclxuICAgICAgICBzZWxmLnBob3RvID0gXCJcIjtcclxuICAgICAgICBzZWxmLm9wZW5DaGF0ID0gb3BlbkNoYXQ7XHJcbiAgICAgICAgc2VsZi5pc09wZW5DaGF0ID0gZmFsc2U7XHJcbiAgICAgICAgc2VsZi5rZXlwcmVzc0NoYXQgPSBrZXlwcmVzc0NoYXQ7XHJcbiAgICAgICAgc2VsZi5jb250YWRvciA9IDA7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5DaGF0KCl7XHJcbiAgICAgICAgICAgIHNlbGYuaXNPcGVuQ2hhdCA9ICFzZWxmLmlzT3BlbkNoYXQ7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlJykuZm9jdXMoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdEhpc3RvcnlDaGF0KCl7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHNlbGYubmlja25hbWUgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpO1xyXG4gICAgICAgICAgICBzZWxmLnBob3RvID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGhvdG8nKTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0aGlzdG9yeWNoYXQoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5oaXN0b3J5Y2hhdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBEYXRlKGRhdGEuaGlzdG9yeWNoYXRbaV0udGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNuID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBkYXRhLmhpc3RvcnljaGF0W2ldLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogZGF0YS5oaXN0b3J5Y2hhdFtpXS5tc2csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogdG1wLmdldERhdGUoKSArIFwiL1wiICsgKHRtcC5nZXRNb250aCgpICsgMSApKyBcIi9cIiArIHRtcC5nZXRGdWxsWWVhcigpICsgXCIgW1wiICsgdG1wLmdldEhvdXJzKCkgKyBcIjpcIiArIHRtcC5nZXRNaW51dGVzKCkgKyBcIl0gXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2gobXNuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnY2hlY2tVc2VycycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd1JlcGxheSgpe1xyXG4gICAgICAgICAgICBpZihzZWxmLnJlcGxheSl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVwbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENoYXQnLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShvYmpbb2JqLmxlbmd0aCAtMV0udGltZSk7XHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuaWNrbmFtZTogb2JqW29iai5sZW5ndGggLTFdLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgbXNnOiBvYmpbb2JqLmxlbmd0aCAtMV0ubXNnLFxyXG4gICAgICAgICAgICAgICAgdGltZTogdG1wLmdldERhdGUoKSArIFwiL1wiICsgKHRtcC5nZXRNb250aCgpICsgMSkgKyBcIi9cIiArIHRtcC5nZXRGdWxsWWVhcigpICsgXCIgW1wiICsgdG1wLmdldEhvdXJzKCkgKyBcIjpcIiArIHRtcC5nZXRNaW51dGVzKCkgKyBcIl0gXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25DaGVja1VzZXJzJywgZnVuY3Rpb24gKHVzZXJMaXN0KSB7XHJcbiAgICAgICAgICAgIHNlbGYudXNlckxpc3QgPSB1c2VyTGlzdDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoY2hhdG1zZyl7XHJcbiAgICAgICAgICAgIGlmKGNoYXRtc2cgPT09IHVuZGVmaW5lZCB8fCBjaGF0bXNnLmxlbmd0aCA8IDIgKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0Q2hhdCcsIGNoYXRtc2cpO1xyXG4gICAgICAgICAgICBzZWxmLm5ld21zZyA9IFwiXCI7XHJcbiAgICAgICAgICAgIHNlbGYuY29udGFkb3IgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gemVyYXJDb250YWRvcigpe1xyXG4gICAgICAgICAgICBzZWxmLmNvbnRhZG9yID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGtleXByZXNzQ2hhdChldmVudCxjaGF0bXNnKXtcclxuICAgICAgICAgICAgaWYoZXZlbnQua2V5Q29kZSA9PSAxMyl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNvbnRhZG9yKys7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5jb250YWRvciA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoemVyYXJDb250YWRvciwgMjAwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihzZWxmLmNvbnRhZG9yID4gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UoY2hhdG1zZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICB9XHJcblxyXG59KSgpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKlxyXG52YXIgc2VsZiA9IHRoaXM7XHJcbnNlbGYubmV3bXNnID0gXCJcIjtcclxuc2VsZi5tZXNzYWdlcyA9IFtdO1xyXG5zZWxmLnJlcGxheSA9IGZhbHNlO1xyXG5zZWxmLm5pY2tuYW1lID0gXCJcIjtcclxuc2VsZi51c2VyTGlzdCA9IFtdO1xyXG5zZWxmLmluaXRIaXN0b3J5Q2hhdCA9IGluaXRIaXN0b3J5Q2hhdDtcclxuc2VsZi5jbG9zZSA9IGNsb3NlO1xyXG5zZWxmLnNob3dSZXBsYXkgPSBzaG93UmVwbGF5O1xyXG5zZWxmLnNlbmRNZXNzYWdlID0gc2VuZE1lc3NhZ2U7XHJcblxyXG5mdW5jdGlvbiBjbG9zZSgpIHtcclxuICAgICRtZFNpZGVuYXYoJ2NoYXQnKS5jbG9zZSgpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkbG9nLmRlYnVnKFwiY2xvc2UgY2hhdFwiKTtcclxuICAgICAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdEhpc3RvcnlDaGF0KCl7XHJcbiAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICBzZWxmLnBob3RvID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGhvdG8nKTtcclxuICAgIHByb2JsZW1TZXJ2aWNlLmdldGhpc3RvcnljaGF0KHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaGlzdG9yeWNoYXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gbmV3IERhdGUoZGF0YS5oaXN0b3J5Y2hhdFtpXS50aW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbXNuID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuaWNrbmFtZTogZGF0YS5oaXN0b3J5Y2hhdFtpXS5uaWNrbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBkYXRhLmhpc3RvcnljaGF0W2ldLm1zZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogdG1wLmdldERhdGUoKSArIFwiL1wiICsgKHRtcC5nZXRNb250aCgpICsgMSApKyBcIi9cIiArIHRtcC5nZXRGdWxsWWVhcigpICsgXCIgW1wiICsgdG1wLmdldEhvdXJzKCkgKyBcIjpcIiArIHRtcC5nZXRNaW51dGVzKCkgKyBcIl0gXCJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubWVzc2FnZXMucHVzaChtc24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICBTb2NrZXQuZW1pdCgnY2hlY2tVc2VycycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93UmVwbGF5KCl7XHJcbiAgICBpZihzZWxmLnJlcGxheSl7XHJcbiAgICAgICAgc2VsZi5yZXBsYXkgPSBmYWxzZTtcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHNlbGYucmVwbGF5ID0gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5cclxuU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENoYXQnLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICB2YXIgdG1wID0gbmV3IERhdGUob2JqW29iai5sZW5ndGggLTFdLnRpbWUpO1xyXG4gICAgc2VsZi5tZXNzYWdlcy5wdXNoKHtcclxuICAgICAgICBuaWNrbmFtZTogb2JqW29iai5sZW5ndGggLTFdLm5pY2tuYW1lLFxyXG4gICAgICAgIG1zZzogb2JqW29iai5sZW5ndGggLTFdLm1zZyxcclxuICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxKSArIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuU29ja2V0Lm9uKCdvbkNoZWNrVXNlcnMnLCBmdW5jdGlvbiAodXNlckxpc3QpIHtcclxuICAgIHNlbGYudXNlckxpc3QgPSB1c2VyTGlzdDtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBzZW5kTWVzc2FnZShjaGF0bXNnKXtcclxuICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDaGF0JywgY2hhdG1zZyk7XHJcbiAgICBzZWxmLm5ld21zZyA9IFwiXCI7XHJcbn0qL1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDIyLzA3LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdkc2NSZXBvcnRDb250cm9sbGVyJyxkc2NSZXBvcnRDb250cm9sbGVyKTtcclxuXHJcbmZ1bmN0aW9uIGRzY1JlcG9ydENvbnRyb2xsZXIoKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pZHByb2JsZW0gPSAnYWpmbGFqZmxqYWxmamFsamYnO1xyXG4gICAgc2VsZi5idWlkUmVwb3J0ID0gYnVpZFJlcG9ydDtcclxuXHJcbiAgICBmdW5jdGlvbiBidWlkUmVwb3J0KGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgaHRtbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0UmVzcG9ydCcpO1xyXG4gICAgICAgIHZhciBwZGYgPSBuZXcganNQREYoJ2wnLCdweCcpO1xyXG4gICAgICAgIHBkZi5hZGRIVE1MKFxyXG4gICAgICAgICAgICBodG1sLCAwLCAwLCB7XHJcbiAgICAgICAgICAgICAgICBwYWdlc3BsaXQ6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oZGlzcG9zZSl7XHJcbiAgICAgICAgICAgICAgICBwZGYuc2F2ZSgndGVzdC5wZGYnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI5LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignZXZhbHVhdGlvbmZyYW1ld29ya0NvbnRyb2xsZXInLGV2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyKTtcclxuXHJcbiAgZnVuY3Rpb24gZXZhbHVhdGlvbmZyYW1ld29ya0NvbnRyb2xsZXIgKCR3aW5kb3cscHJvYmxlbVNlcnZpY2UsU29ja2V0LHRvYXN0QXBwKXtcclxuXHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgc2VsZi5ldmFsdWF0aW9uZnJhbWV3b3JrTGlzdCA9W107XHJcbiAgICAgIHNlbGYuaW5pdEV2YWx1YXRpb24gPSBpbml0RXZhbHVhdGlvbjtcclxuICAgICAgc2VsZi5zZXRPcGVuRWRpdERpc2N1dGlvbiA9IHNldE9wZW5FZGl0RGlzY3V0aW9uO1xyXG4gICAgICBzZWxmLnNhdmVGcmFtZSA9IHNhdmVGcmFtZTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGluaXRFdmFsdWF0aW9uKCl7XHJcbiAgICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRldmFsdWF0aW9uKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLmV2YWx1YXRpb25mcmFtZXdvcmtMaXN0ID0gZGF0YS5ldmFsdWF0aW9uZnJhbWV3b3JrO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RGcmFtZUVkaXQnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QsZnVuY3Rpb24oZXZhbHVhdGlvbmZyYW1ld29yayl7XHJcbiAgICAgICAgICAgICBpZiggZXZhbHVhdGlvbmZyYW1ld29yay5vbmlvbmxheWVyID09IGRhdGEub25pb25sYXllcil7XHJcbiAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGV2YWx1YXRpb25mcmFtZXdvcmsuc3Rha2Vob2xkZXJzLGZ1bmN0aW9uKHN0YWtlaG9sZGVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWtlaG9sZGVyLl9pZCA9PSBkYXRhLl9pZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub25pb25sYXllciA9IGRhdGEub25pb25sYXllcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZGF0YS5vcGVuRWRpdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnByb2JsZW1zID0gZGF0YS5wcm9ibGVtcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnNvbHV0aW9ucyA9IGRhdGEuc29sdXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmdW5jdGlvbiBzYXZlRnJhbWUoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RGcmFtZVNhdmUnLCBzdGFrZWhvbGRlcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFNvY2tldC5vbignb25VcGRhdGVTdGFrZWhvbGRlcicsIGZ1bmN0aW9uIChzdGFrZWhvbGRlck9uaW9uKSB7XHJcblxyXG5cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmdW5jdGlvbiBzZXRPcGVuRWRpdERpc2N1dGlvbihjdXJyZW50U3Rha2Vob2xkZXIpe1xyXG4gICAgICAgICAgY3VycmVudFN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdtZW51UHJvYmxlbUNvbnRyb2xsZXInLCBtZW51UHJvYmxlbWFDb250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBtZW51UHJvYmxlbWFDb250cm9sbGVyKEF1dGgsICRtZERpYWxvZywgJHNjb3BlLCAkZmlsdGVyLCAkc3RhdGUsICR3aW5kb3csIHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwLCBTb2NrZXQpe1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgLy9zZWxmLm9wZW5DaGF0ID0gYnVpbGRUb2dnbGVyKCdjaGF0Jyk7XHJcbiAgICAgICAgc2VsZi5mb3JtQWRkQ29sbGFib3JhdG9ycyA9IGZvcm1BZGRDb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgIHNlbGYuZWRpdERlc2NyaXB0aW9uUHJvYmxlbSA9IGVkaXREZXNjcmlwdGlvblByb2JsZW07XHJcbiAgICAgICAgc2VsZi5kb0xvZ291dCA9IGRvTG9nb3V0O1xyXG4gICAgICAgIHNlbGYuc3lzdGVtUmV0dXJuID0gc3lzdGVtUmV0dXJuO1xyXG4gICAgICAgIHNlbGYuZm9ybVByb2JsZW1SZXBvcnQgPSBmb3JtUHJvYmxlbVJlcG9ydDtcclxuICAgICAgICBzZWxmLmdldEN1cnJlbnRQcm9ibGVtID0gZ2V0Q3VycmVudFByb2JsZW07XHJcbiAgICAgICAgc2VsZi5uaWNrbmFtZTtcclxuICAgICAgICBzZWxmLmRzY19hcnRpZmFjdHMgPSBbXTtcclxuICAgICAgICBzZWxmLmZvcm1FZGl0UHJvYmxlbSA9IGZvcm1FZGl0UHJvYmxlbTtcclxuICAgICAgICBzZWxmLmZvcm1JbnZpdGVDb2xsYWJvcmF0b3IgPSBmb3JtSW52aXRlQ29sbGFib3JhdG9yO1xyXG4gICAgICAgIHZhciBsb2NhbGNvZGUgPSAnJztcclxuXHJcblxyXG5cclxuICAgICAgICAvKkVkaXQgUHJvYmxlbSovXHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25BdHVhbGl6YXJQcm9ibGVtYScsIGZ1bmN0aW9uIChyZXRvcm5vKSB7XHJcbiAgICAgICAgICAgIGlmKGxvY2FsY29kZSAhPT0gcmV0b3Juby5sb2NhbGNvZGUpIHtcclxuICAgICAgICAgICAgICAgIHNldERlc2NyaXRpb24ocmV0b3Juby5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZVByb2JsZW0ocHJvYmxlbSl7XHJcbiAgICAgICAgICAgIHByb2JsZW0ubG9jYWxjb2RlID0gbG9jYWxjb2RlO1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnYXR1YWxpemFyUHJvYmxlbWEnLCBwcm9ibGVtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZvcm1FZGl0UHJvYmxlbShldikge1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBEaWFsb2dFZGl0UHJvYmxlbUNvbnRyb2xsZXIsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Byb2JsZW1kZXNjcmlwdGlvbi5odG1sJyxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gRGlhbG9nRWRpdFByb2JsZW1Db250cm9sbGVyKFNvY2tldCwkdGltZW91dCwkc2NvcGUsJG1kRGlhbG9nKSB7XHJcbiAgICAgICAgICAgIHZhciB1cGRhdGVUcnVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgJHNjb3BlLnByb2JsZW0gPSAnJztcclxuICAgICAgICAgICAgJHNjb3BlLnByb2JsZW1VcGRhdGUgPSBwcm9ibGVtVXBkYXRlO1xyXG4gICAgICAgICAgICAkc2NvcGUuZ2V0UHJvYmxlbUVkaXQgPSBnZXRQcm9ibGVtRWRpdDtcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVEZXNjcmlwdGlvbiA9IHNhdmVEZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgJHNjb3BlLm5pY2tuYW1lID0gJyc7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFByb2JsZW1FZGl0KCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmlja25hbWUgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbShzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2JsZW0gPSBkYXRhLnByb2JsZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRVcGRhdGUoKXtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRydWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBwcm9ibGVtVXBkYXRlKGRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvYmxlbSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAndXBkYXRlJzogdXBkYXRlVHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2F2ZVByb2JsZW0ocHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlVHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRydWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChzZXRVcGRhdGUsIDIwMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzYXZlRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9ibGVtID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICd1cGRhdGUnOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgc2F2ZVByb2JsZW0ocHJvYmxlbSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXREZXNjcml0aW9uKHByb2JsZW0pe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2JsZW0gPSBwcm9ibGVtO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAvKiBDb252aWRhciBQYXJ0aWNpcGFudGVzICovXHJcbiAgICAgICAgZnVuY3Rpb24gZm9ybUludml0ZUNvbGxhYm9yYXRvcihldikge1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBEaWFsb2dJbnZpdGVDb2xsYWJvcmF0b3JDb250cm9sbGVyLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9jb2xsYWJvcmF0b3JzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRFdmVudDogZXZcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBEaWFsb2dJbnZpdGVDb2xsYWJvcmF0b3JDb250cm9sbGVyKCRzY29wZSwkbWREaWFsb2cpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmlkUHJvYmxlbSA9IFwiXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5jb2xsYWJvcmF0b3JzID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS51c2VyZW1haWwgPSBcIlwiO1xyXG4gICAgICAgICAgICAkc2NvcGUuaW5pdENvbGxhYm9yYXRvcnMgPSBpbml0Q29sbGFib3JhdG9ycztcclxuICAgICAgICAgICAgJHNjb3BlLmFkZENvbGxhYm9yYXRvciA9IGFkZENvbGxhYm9yYXRvcjtcclxuICAgICAgICAgICAgJHNjb3BlLnJlbW92ZUNvbGxhYm9yYXRvciA9IHJlbW92ZUNvbGxhYm9yYXRvcjtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5oaWRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuY2FuY2VsKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0Q29sbGFib3JhdG9ycygpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJlbWFpbCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJlbWFpbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGNvbGxhYm9yYXRvcnMoJHNjb3BlLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbGxhYm9yYXRvcnMgPSBkYXRhLmNvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1NvY2tldC5lbWl0KCdjaGVja1VzZXJzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2VhcmNoQ2FsbGFib3JhdGlvbihlbWFpbCl7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmNvbGxhYm9yYXRvcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVtYWlsID09ICRzY29wZS5jb2xsYWJvcmF0b3JzW2ldLmVtYWlsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRDb2xsYWJvcmF0b3IoZW1haWwpe1xyXG4gICAgICAgICAgICAgICAgaWYoJHNjb3BlLnVzZXJlbWFpbCA9PSBlbWFpbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRzY29wZS51c2VyZW1haWwgKyBcIiBpcyBlbWFpbCBvZiBvd25lci5cIik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaENhbGxhYm9yYXRpb24oZW1haWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlVzdWFyaW8gQ2FkYXN0cmFkby5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGludml0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkcHJvYmxlbTogJHNjb3BlLmlkUHJvYmxlbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5pbnZpdGUoaW52aXRlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb2xsYWJvcmF0b3JzID0gZGF0YS5jb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQ29sbGFib3JhdG9yKHBlb3BsZSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkcHJvYmxlbTogJHNjb3BlLmlkUHJvYmxlbSxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogcGVvcGxlLmVtYWlsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UucmVtb3ZlY29sbGFib3JhdG9ycyhvYmopXHJcbiAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkNvbGFib3JhZG9yIGZvaSByZW1vdmlkbyBkbyBwcm9qZXRvLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb2xsYWJvcmF0b3JzID0gZGF0YS5jb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuLypNZW51IENvbnRyb2wqL1xyXG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudFByb2JsZW0oKXtcclxuICAgICAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIGxvY2FsY29kZSA9ICAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbGNvZGUnKTtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbShzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtID0gZGF0YS5wcm9ibGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YS5wcm9ibGVtLmFydGlmYWN0cywgZnVuY3Rpb24gKGFydGlmYWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGFydGlmYWN0LnNwbGl0KFwiX1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZHNjX2FydGlmYWN0cy5wdXNoKHtuYW1lOiBcInByb2JsZW0uXCIgKyBuYW1lWzJdLnRvTG93ZXJDYXNlKCksIGxhYmVsOiAkZmlsdGVyKCd0cmFuc2xhdGUnKShhcnRpZmFjdCl9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VsZi5kc2NfYXJ0aWZhY3RzID0gZHNjX2FydGlmYWN0cztcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGluaXRzb2NrZXRwcm9ibGVtID0ge1xyXG4gICAgICAgICAgICBcImlkcHJvYmxlbVwiOnNlbGYuaWRQcm9ibGVtLFxyXG4gICAgICAgICAgICAgXCJuaWNrbmFtZVwiOiBzZWxmLm5pY2tuYW1lXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnaW5pdFByb2JsZW0nLCBpbml0c29ja2V0cHJvYmxlbSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc2VsZi5zZWxlY3RlZEluZGV4ID0gMDtcclxuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBudWxsLFxyXG4gICAgICAgICAgICBwcmV2aW91cyA9IG51bGw7XHJcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnc2VsZWN0ZWRJbmRleCcsIGZ1bmN0aW9uKGN1cnJlbnQpe1xyXG4gICAgICAgICAgICBwcmV2aW91cyA9IHNlbGVjdGVkO1xyXG4gICAgICAgICAgICBzZWxlY3RlZCA9ICBzZWxmLmRzY19hcnRpZmFjdHNbY3VycmVudF07XHJcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRJbmRleCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN5c3RlbVJldHVybigpe1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3N0YXJ0cHJvYmxlbScpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZvcm1BZGRDb2xsYWJvcmF0b3JzKCl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5jb2xsYWJvcmF0b3JzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmb3JtUHJvYmxlbVJlcG9ydCgpe1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2RzY3JlcG9ydCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZWRpdERlc2NyaXB0aW9uUHJvYmxlbSgpIHtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLmRlc2NyaXB0aW9uJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkb0xvZ291dCgpIHtcclxuICAgICAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0LmxvZ2luJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGplc3VzIG9uIDIxLzAzLzIwMTYuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignb25pb25Db250cm9sbGVyJyxvbmlvbkNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIG9uaW9uQ29udHJvbGxlcihTb2NrZXQsJHdpbmRvdyxwcm9ibGVtU2VydmljZSwkbWREaWFsb2csdG9hc3RBcHApe1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5pbnRpTXl0T25pb24gPSBpbnRpTXl0T25pb247XHJcbiAgICAgICAgc2VsZi5zYXZlUG9zdEl0T25pb24gPSBzYXZlUG9zdEl0T25pb247XHJcbiAgICAgICAgc2VsZi5lZGl0UG9zdEl0T25pb24gPSBlZGl0UG9zdEl0T25pb247XHJcbiAgICAgICAgc2VsZi5kZWxQb3N0SXRPbmlvbiA9IGRlbFBvc3RJdE9uaW9uO1xyXG4gICAgICAgIHNlbGYuYWRkUG9zdEl0T25pb24gPSBhZGRQb3N0SXRPbmlvbjtcclxuICAgICAgICBzZWxmLm9uT25pb24gPSBvbk9uaW9uO1xyXG4gICAgICAgIHNlbGYub2ZmT25pb24gPSBvZmZPbmlvbjtcclxuXHJcblxyXG4gICAgICAgIFxyXG5cclxuXHJcblxyXG4gICAgfVxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjkvMDYvMjAxNS5cclxuICovXHJcblxyXG47KGZ1bmN0aW9uKHVuZGVmaW5lZCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ29uaW9uM0xheWVyQ29udHJvbGxlcicsb25pb24zTGF5ZXJDb250cm9sbGVyKTtcclxuXHJcblxyXG5mdW5jdGlvbiBvbmlvbjNMYXllckNvbnRyb2xsZXIoU29ja2V0LCR3aW5kb3cscHJvYmxlbVNlcnZpY2UsJG1kRGlhbG9nLHRvYXN0QXBwKXtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmlkcHJvYmxlbSA9IFwiXCI7XHJcbiAgICBzZWxmLmluaXRPbmlvbjNMYXllciA9IGluaXRPbmlvbjNMYXllcjtcclxuICAgIHNlbGYubW92ZSA9IGZhbHNlO1xyXG4gICAgc2VsZi5vbmlvbjNMYXllckxpc3QgPSBbXTtcclxuICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgIHNlbGYuc2F2ZU9uaW9uM0xheWVyID0gc2F2ZU9uaW9uM0xheWVyO1xyXG4gICAgc2VsZi5zZXRPcGVuRWRpdCA9IHNldE9wZW5FZGl0O1xyXG4gICAgc2VsZi5kZWxQb3N0SXQgPSBkZWxQb3N0SXQ7XHJcbiAgICBzZWxmLmFkZFBvc3RJdCA9IGFkZFBvc3RJdDtcclxuICAgIHNlbGYuYWNlbmRlID0gYWNlbmRlO1xyXG4gICAgc2VsZi5hcGFnYSA9IGFwYWdhO1xyXG4gICAgc2VsZi5sb2NhbGNvZGUgPSAnJztcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0T25pb24zTGF5ZXIoKXtcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHNlbGYubG9jYWxjb2RlID0gICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsY29kZScpO1xyXG5cclxuICAgICAgIC8qIHByb2JsZW1TZXJ2aWNlLmdldG9uaW9uKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm9uaW9uTGlzdCA9IGRhdGEub25pb247XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7Ki9cclxuXHJcbiAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb24zTGF5ZXJTYXZlJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYub25pb24zTGF5ZXJMaXN0LCBmdW5jdGlvbiAocG9zdGl0KSB7XHJcbiAgICAgICAgICAgIGlmIChwb3N0aXQuX2lkID09IGRhdGEuX2lkKXtcclxuICAgICAgICAgICAgICAgIHBvc3RpdC50aXRsZSA9IGRhdGEudGl0bGU7XHJcbiAgICAgICAgICAgICAgICBwb3N0aXQuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgcG9zdGl0Lm9wZW5FZGl0ID0gZGF0YS5vcGVuRWRpdDtcclxuICAgICAgICAgICAgICAgIHBvc3RpdC54ID0gZGF0YS54O1xyXG4gICAgICAgICAgICAgICAgcG9zdGl0LnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICBwb3N0aXQuemluZGV4ID0gOTk5OTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVPbmlvbjNMYXllcihwb3N0aXQpIHtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb24zTGF5ZXJTYXZlJywgcG9zdGl0KTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb24zTGF5ZXJFZGl0JywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYub25pb24zTGF5ZXJMaXN0LCBmdW5jdGlvbiAocG9zdGl0KSB7XHJcbiAgICAgICAgICAgIGlmKHBvc3RpdC5faWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBwb3N0aXQub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcG9zdGl0LnppbmRleCA9IDk5OTk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXRPcGVuRWRpdChpZCl7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uM0xheWVyRWRpdCcsIGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb24zTGF5ZXJSZW1vdmUnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICB2YXIgcG9zdGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0aXRcIiArc2VsZi5vbmlvbjNMYXllckxpc3RbaWRdLl9pZCk7XHJcbiAgICAgICAgb25pb24zTGF5ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBzZWxmLm9uaW9uM0xheWVyTGlzdC5zcGxpY2UoaWQsMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVQb3N0SXQoaW5kZXgscG9zdGl0KSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICBwb3N0aXQ6IHBvc3RpdFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uM0xheWVyUmVtb3ZlJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZWxQb3N0SXQoZXYsaW5kZXgscG9zdGl0KSB7XHJcbiAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpKVxyXG4gICAgICAgICAgICAudGl0bGUoJ0RldGV0ZSBQb3N0aXQ/JylcclxuICAgICAgICAgICAgLmNvbnRlbnQoJ1RpdGxlOiAnICsgb25pb24udGl0bGUpXHJcbiAgICAgICAgICAgIC5hcmlhTGFiZWwoJ1JlbW92ZSBwb3N0aXQnKVxyXG4gICAgICAgICAgICAub2soJ1llcyEnKVxyXG4gICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWwnKVxyXG4gICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVBvc3RJdChpbmRleCxwb3N0aXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbjNMYXllck1vdmUnLCBmdW5jdGlvbiAocG9zdGl0KSB7XHJcbiAgICAgICAgICAgIGlmKHNlbGYubG9jYWxjb2RlICE9PSBwb3N0aXQubG9jYWxjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGl0Jytwb3N0aXQuX2lkKS5zdHlsZS5sZWZ0ID0gcG9zdGl0Lng7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGl0Jytwb3N0aXQuX2lkKS5zdHlsZS50b3AgPSBwb3N0aXQueTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbjNMYXllckFkZCcsIGZ1bmN0aW9uIChyZXRvcm5vKSB7XHJcbiAgICAgICAgc2VsZi5vbmlvbjNMYXllckxpc3QucHVzaChyZXRvcm5vKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFBvc3RJdChlLGNhbWFkYSkge1xyXG4gICAgICAgIHZhciBuZXdTdGFrZWhvbGRlciA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcIm9uaW9ubGF5ZXJcIjogY2FtYWRhLFxyXG4gICAgICAgICAgICBcInRpdGxlXCI6IFwiXCIsXHJcbiAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcclxuICAgICAgICAgICAgXCJvcGVuRWRpdFwiOiB0cnVlLFxyXG4gICAgICAgICAgICBcInhcIjogZS5wYWdlWCArICdweCcsXHJcbiAgICAgICAgICAgIFwieVwiOiAoZS5wYWdlWSkgKyAncHgnLFxyXG4gICAgICAgICAgICBcInppbmRleFwiOiA5OTk5XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb24zTGF5ZXJBZGQnLCBuZXdTdGFrZWhvbGRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWNlbmRlKGlkKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYW1lXCIraWQpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAndGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7IGZpbGw6ICM4RkJDOEY7Jyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZmlsbDogIzhGQkM4RjsnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZ2VuZFwiK2lkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMC43XCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMC43XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwYWdhKGlkLGNvbG9yKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYW1lXCIraWQpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAndGV4dC1kZWNvcmF0aW9uOiBub25lOycpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2ZpbGw6ICcrY29sb3IrJzsnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZ2VuZFwiK2lkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMS4wXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMS4wXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG59KSh0aGlzKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDEyLzA4LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdwcm9ibGVtUmVwb3J0Q29udHJvbGxlcicscHJvYmxlbVJlcG9ydENvbnRyb2xsZXIpO1xyXG5cclxuXHJcbiAgICAgZnVuY3Rpb24gcHJvYmxlbVJlcG9ydENvbnRyb2xsZXIoJHdpbmRvdyxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCwkc3RhdGUpe1xyXG5cclxuICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICBzZWxmLmlkUHJvYmxlbTtcclxuICAgICAgICAgc2VsZi5wcm9ibGVtO1xyXG4gICAgICAgICBzZWxmLmluaXRQcm9ibGVtUGVwb3J0ID0gaW5pdFByb2JsZW1QZXBvcnQ7XHJcbiAgICAgICAgIHNlbGYuc3lzdGVtUmV0dXJuID0gc3lzdGVtUmV0dXJuO1xyXG5cclxuICAgICAgICAgZnVuY3Rpb24gaW5pdFByb2JsZW1QZXBvcnQoKXtcclxuXHJcbiAgICAgICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG5cclxuICAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHByb2JsZW1yZXBvcnQoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhLnByb2JsZW0uc3Rha2Vob2xkZXJzLCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnggPSAocGFyc2VJbnQoc3Rha2Vob2xkZXIueC5zdWJzdHJpbmcoMCxzdGFrZWhvbGRlci54Lmxlbmd0aCAtMikpIC0gMTAwKSsncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci55ID0gIChwYXJzZUludChzdGFrZWhvbGRlci55LnN1YnN0cmluZygwLHN0YWtlaG9sZGVyLnkubGVuZ3RoIC0yKSkgKyA0MDApKydweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW0gPSBkYXRhLnByb2JsZW07XHJcbiAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgIGZ1bmN0aW9uIHN5c3RlbVJldHVybigpe1xyXG4gICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLnN0YWtlaG9sZGVycycpO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgIH1cclxuXHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgncHJvYmxlbVNlcnZpY2UnLCBwcm9ibGVtU2VydmljZSk7XHJcblxyXG4gIHByb2JsZW1TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywnJGxvY2F0aW9uJ107XHJcblxyXG4gIGZ1bmN0aW9uIHByb2JsZW1TZXJ2aWNlKCRodHRwLCRsb2NhdGlvbikge1xyXG5cclxuICAgIHZhciBBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TID0gJy9hcGkvcHJvYmxlbS9nZXRwcm9ibGVtcyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3InO1xyXG4gICAgdmFyIEFQSV9ST1VURV9ORVdQUk9CTEVNID0gJy9hcGkvcHJvYmxlbS9uZXdwcm9ibGVtJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUUFJPQkxFTSA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFBST0JMRU1SRVBPUlQgPSAnL2FwaS9wcm9ibGVtL2dldHByb2JsZW1yZXBvcnQnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRDT0xMQUJPUkFUT1JTID0gJy9hcGkvcHJvYmxlbS9nZXRjb2xsYWJvcmF0b3JzJztcclxuICAgIHZhciBBUElfUk9VVEVfSU5WSVRFID0gJy9hcGkvcHJvYmxlbS9pbnZpdGUnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRPTklPTiA9ICcvYXBpL3Byb2JsZW0vZ2V0b25pb24nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRFVkFMVUFUSU9OID0gJy9hcGkvcHJvYmxlbS9nZXRldmFsdWF0aW9uJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksgPSAnL2FwaS9wcm9ibGVtL2dldHNlbWlvdGljJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUQ0FSRiA9ICcvYXBpL3Byb2JsZW0vZ2V0Y2FyZic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1JFTU9WRVBST0JMRU0gPSAnL2FwaS9wcm9ibGVtL3JlbW92ZXByb2JsZW0nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IgPSAnL2FwaS9wcm9ibGVtL3JlbW92ZWNvbGxhYm9yYXRvcic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVEhJU1RPUllDSEFUID0gJy9hcGkvcHJvYmxlbS9oaXN0b3J5Y2hhdCc7XHJcblxyXG4gICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgIG5ld3Byb2JsZW0gICAgICAgOiBuZXdwcm9ibGVtLFxyXG4gICAgICBnZXR1c2VycHJvYmxlbXMgIDogZ2V0dXNlcnByb2JsZW1zLFxyXG4gICAgICBnZXRwcm9ibGVtICAgICAgIDogZ2V0cHJvYmxlbSxcclxuICAgICAgZ2V0Y29sbGFib3JhdG9ycyA6IGdldGNvbGxhYm9yYXRvcnMsXHJcbiAgICAgIGludml0ZSAgICAgICAgICAgOiBpbnZpdGUsXHJcbiAgICAgIGdldG9uaW9uICAgICAgICAgOiBnZXRvbmlvbixcclxuICAgICAgZ2V0ZXZhbHVhdGlvbiAgICA6IGdldGV2YWx1YXRpb24sXHJcbiAgICAgIGdldHNlbWlvdGljICAgICAgOiBnZXRzZW1pb3RpYyxcclxuICAgICAgZ2V0Y2FyZiAgICAgICAgICA6IGdldGNhcmYsXHJcbiAgICAgIHJlbW92ZXByb2JsZW0gICAgOiByZW1vdmVwcm9ibGVtLFxyXG4gICAgICBnZXRwcm9ibGVtc2NvbGxhYm9yYXRvcjogZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3IsXHJcbiAgICAgIHJlbW92ZWNvbGxhYm9yYXRvcnMgOiByZW1vdmVjb2xsYWJvcmF0b3JzLFxyXG4gICAgICBnZXRoaXN0b3J5Y2hhdDogZ2V0aGlzdG9yeWNoYXQsXHJcbiAgICAgIGdldHByb2JsZW1yZXBvcnQgOiBnZXRwcm9ibGVtcmVwb3J0XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBzZXJ2aWNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIG5ld3Byb2JsZW0oZGF0YSkge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9ORVdQUk9CTEVNLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRwcm9ibGVtcmVwb3J0KGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRQUk9CTEVNUkVQT1JUICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRwcm9ibGVtKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRQUk9CTEVNICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXR1c2VycHJvYmxlbXMoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNUyArICc/ZW1haWw9JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRjb2xsYWJvcmF0b3JzKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRDT0xMQUJPUkFUT1JTICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbnZpdGUoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9JTlZJVEUsIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRvbmlvbihkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUT05JT04gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldGV2YWx1YXRpb24gKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRFVkFMVUFUSU9OICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRzZW1pb3RpYyAoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFNFTUlPVElDRlJBTUVXT1JLICsgJz9pZHByb2JsZW09JyArIGRhdGEgKVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldGNhcmYoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVENBUkYgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlcHJvYmxlbShkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3IoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiArICc/ZW1haWw9JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVjb2xsYWJvcmF0b3JzKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IgKyAnP2lkcHJvYmxlbT0nICsgZGF0YS5pZHByb2JsZW0gKyAnJmVtYWlsPScgKyBkYXRhLmVtYWlsICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0aGlzdG9yeWNoYXQoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVEhJU1RPUllDSEFUICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI5LzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3NlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlcicsc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyKTtcclxuXHJcbmZ1bmN0aW9uIHNlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlcihTb2NrZXQsJHdpbmRvdywgcHJvYmxlbVNlcnZpY2UsdG9hc3RBcHApe1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaWRwcm9ibGVtID0gXCJcIjtcclxuICAgIHNlbGYuc2F2ZVNvY2lhbFdvcmxkID0gc2F2ZVNvY2lhbFdvcmxkO1xyXG4gICAgc2VsZi5zYXZlUHJhZ21hdGljID0gc2F2ZVByYWdtYXRpYztcclxuICAgIHNlbGYuc2F2ZVNlbWFudGljID0gc2F2ZVNlbWFudGljO1xyXG4gICAgc2VsZi5zYXZlU3ludGF0aWMgPSBzYXZlU3ludGF0aWM7XHJcbiAgICBzZWxmLnNhdmVFbXBpcmljYWwgPSBzYXZlRW1waXJpY2FsO1xyXG4gICAgc2VsZi5zYXZlUGh5c2ljYWwgPSBzYXZlUGh5c2ljYWw7XHJcbiAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrID0gXCJcIjtcclxuICAgIHNlbGYuaW5pdFNlbWlvdGljRnJhbWV3b3JrID0gaW5pdFNlbWlvdGljRnJhbWV3b3JrO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRTZW1pb3RpY0ZyYW1ld29yaygpe1xyXG4gICAgICAgIHNlbGYuaWRwcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0c2VtaW90aWMoc2VsZi5pZHByb2JsZW0pXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsgPSBkYXRhLnNlbWlvdGljZnJhbWV3b3JrO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVTb2NpYWxXb3JsZCcsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5zb2NpYWx3b3JsZCA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlU29jaWFsV29ybGQodGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVNvY2lhbFdvcmxkJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlUHJhZ21hdGljJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLnByYWdtYXRpYyA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlUHJhZ21hdGljKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVQcmFnbWF0aWMnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVTZW1hbnRpYycsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5zZW1pb3RpY3JhbWV3b3JrID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTZW1hbnRpYyh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlU2VtYW50aWMnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVTeW50YXRpYycsIGZ1bmN0aW9uICh0ZXh0LGZsYWdTYXZlKSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5zeW50YXRpYyA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlU3ludGF0aWModGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVN5bnRhdGljJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlRW1waXJpY2FsJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrLmVtcGlyaWNhbCA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlRW1waXJpY2FsKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVFbXBpcmljYWwnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVQaHlzaWNhbCcsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5waHlzaWNhbCA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlUGh5c2ljYWwodGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVBoeXNpY2FsJywgb2JqKTtcclxuICAgIH1cclxufVxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI5LzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuOyhmdW5jdGlvbih1bmRlZmluZWQpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdzdGFrZWhvbGRlckNvbnRyb2xsZXInLHN0YWtlaG9sZGVyQ29udHJvbGxlcik7XHJcblxyXG5cclxuZnVuY3Rpb24gc3Rha2Vob2xkZXJDb250cm9sbGVyKFNvY2tldCwkd2luZG93LHByb2JsZW1TZXJ2aWNlLCRtZERpYWxvZyx0b2FzdEFwcCl7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pZHByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXTtcclxuICAgIHNlbGYuc3Rha2Vob2xkZXIgPSBcIlwiO1xyXG4gICAgc2VsZi5pbnRpdE9uaW9uID0gaW50aXRPbmlvbjtcclxuICAgIHNlbGYubW92ZSA9IGZhbHNlO1xyXG4gICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgc2VsZi5zYXZlU3Rha2Vob2xkZXIgPSBzYXZlU3Rha2Vob2xkZXI7XHJcbiAgICBzZWxmLnNldE9wZW5FZGl0ID0gc2V0T3BlbkVkaXQ7XHJcbiAgICBzZWxmLmRlbFBvc3RJdCA9IGRlbFBvc3RJdDtcclxuICAgIHNlbGYuYWRkUG9zdEl0ID0gYWRkUG9zdEl0O1xyXG4gICAgc2VsZi5hY2VuZGUgPSBhY2VuZGU7XHJcbiAgICBzZWxmLmFwYWdhID0gYXBhZ2E7XHJcbiAgICBzZWxmLmxvY2FsY29kZSA9ICcnO1xyXG5cclxuICAgIGZ1bmN0aW9uIGludGl0T25pb24oKXtcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHNlbGYubG9jYWxjb2RlID0gICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsY29kZScpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldG9uaW9uKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IGRhdGEuc3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uU2F2ZScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLnN0YWtlaG9sZGVyTGlzdCwgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFrZWhvbGRlci5faWQgPT0gZGF0YS5faWQpe1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuc3Rha2Vob2xkZXIgPSBkYXRhLnN0YWtlaG9sZGVyO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIubmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZGF0YS5vcGVuRWRpdDtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci55ID0gZGF0YS55O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuemluZGV4ID0gOTk5OTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTdGFrZWhvbGRlcihzdGFrZWhvbGRlcikge1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblNhdmUnLCBzdGFrZWhvbGRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uRWRpdCcsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLnN0YWtlaG9sZGVyTGlzdCwgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmKHN0YWtlaG9sZGVyLl9pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnppbmRleCA9IDk5OTk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXRPcGVuRWRpdChpZCl7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uRWRpdCcsIGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25SZW1vdmUnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICB2YXIgc3Rha2Vob2xkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YWtlaG9sZGVyXCIgK3NlbGYuc3Rha2Vob2xkZXJMaXN0W2lkXS5faWQpO1xyXG4gICAgICAgIHN0YWtlaG9sZGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3Quc3BsaWNlKGlkLDEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlUG9zdEl0KGluZGV4LHN0YWtlaG9sZGVyKSB7XHJcblxyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXI6IHN0YWtlaG9sZGVyXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25SZW1vdmUnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlbFBvc3RJdChldixpbmRleCxzdGFrZWhvbGRlcikge1xyXG4gICAgICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgICAucGFyZW50KGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSlcclxuICAgICAgICAgICAgLnRpdGxlKCdEZXRldGUgU3Rha2Vob2xkZXI/JylcclxuICAgICAgICAgICAgLmNvbnRlbnQoJ1RpdGxlOiAnICsgc3Rha2Vob2xkZXIubmFtZSlcclxuICAgICAgICAgICAgLmFyaWFMYWJlbCgnUmVtb3ZlIFN0YWtlaG9sZGVyJylcclxuICAgICAgICAgICAgLm9rKCdZZXMhJylcclxuICAgICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsJylcclxuICAgICAgICAgICAgLnRhcmdldEV2ZW50KGV2KTtcclxuICAgICAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZW1vdmVQb3N0SXQoaW5kZXgsc3Rha2Vob2xkZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RNb3ZlJywgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmKHNlbGYubG9jYWxjb2RlICE9PSBzdGFrZWhvbGRlci5sb2NhbGNvZGUpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFrZWhvbGRlcicrc3Rha2Vob2xkZXIuX2lkKS5zdHlsZS5sZWZ0ID0gc3Rha2Vob2xkZXIueDtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFrZWhvbGRlcicrc3Rha2Vob2xkZXIuX2lkKS5zdHlsZS50b3AgPSBzdGFrZWhvbGRlci55O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uQWRkJywgZnVuY3Rpb24gKHJldG9ybm8pIHtcclxuICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdC5wdXNoKHJldG9ybm8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUG9zdEl0KGUsY2FtYWRhKSB7XHJcblxyXG4gICAgICAgIHZhciBuZXdTdGFrZWhvbGRlciA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcIm9uaW9ubGF5ZXJcIjogY2FtYWRhLFxyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJcIixcclxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcIm9wZW5FZGl0XCI6IHRydWUsXHJcbiAgICAgICAgICAgIFwieFwiOiBlLnBhZ2VYICsgJ3B4JyxcclxuICAgICAgICAgICAgXCJ5XCI6IChlLnBhZ2VZKSArICdweCcsXHJcbiAgICAgICAgICAgIFwiemluZGV4XCI6IDk5OTlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvbkFkZCcsIG5ld1N0YWtlaG9sZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhY2VuZGUoaWQpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIitpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICd0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZ2VuZFwiK2lkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMC43XCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMC43XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwYWdhKGlkKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYW1lXCIraWQpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAndGV4dC1kZWNvcmF0aW9uOiBub25lOycpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVnZW5kXCIraWQpLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgXCIxLjBcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgXCIxLjBcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKHRoaXMpOyIsIlxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3N0YXJ0UHJvYmxlbUNvbnRyb2xsZXInLHN0YXJ0UHJvYmxlbUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHN0YXJ0UHJvYmxlbUNvbnRyb2xsZXIoJG1kRGlhbG9nLCRzdGF0ZSxBdXRoLFNvY2tldCwgJHdpbmRvdywgcHJvYmxlbVNlcnZpY2UsdG9hc3RBcHAgKSB7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLm5pY2tuYW1lID0gXCJcIjtcclxuICAgICAgICBzZWxmLnVzZXJpZCA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi51c2VyZW1haWwgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYucHJvYmxlbUxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLnByb2JsZW1Db2xsYWJvcmF0b3JMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5sb2dpbkluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYuZ2V0UHJvYmxlbXMgPSBnZXRQcm9ibGVtcztcclxuICAgICAgICBzZWxmLnJldm9tdmVQcm9ibGVtID0gcmV2b212ZVByb2JsZW07XHJcbiAgICAgICAgc2VsZi5zdGFydE5ld1Byb2JsZW0gPSBzdGFydE5ld1Byb2JsZW07XHJcbiAgICAgICAgc2VsZi5lZGl0UHJvYmxlbSA9IGVkaXRQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZG9Mb2dvdXQgPSBkb0xvZ291dDtcclxuICAgICAgICBzZWxmLm5ld1Byb2JsZW0gPSBuZXdQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZWRpdFByb2ZpbGUgPSBlZGl0UHJvZmlsZTtcclxuICAgICAgICBzZWxmLnBob3RvO1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UHJvYmxlbXMoKXtcclxuICAgICAgICAgICAgc2VsZi51c2VyaWQgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKTtcclxuICAgICAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIHNlbGYudXNlcmVtYWlsID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmVtYWlsJyk7XHJcbiAgICAgICAgICAgIHNlbGYucGhvdG8gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG90bycpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHVzZXJwcm9ibGVtcyhzZWxmLnVzZXJlbWFpbClcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBkYXRhLnByb2JsZW1zLmxlbmd0aDsgaSsrICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLmxlbmd0aCA+IDMwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbiA9IGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24ucmVwbGFjZSgvKDwoW14+XSspPikvaWcsXCJcIikuc3Vic3RyaW5nKDAsMjgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbUxpc3QgPSBkYXRhLnByb2JsZW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRwcm9ibGVtc2NvbGxhYm9yYXRvcihzZWxmLnVzZXJlbWFpbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBkYXRhLnByb2JsZW1zLmxlbmd0aDsgaSsrICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24ubGVuZ3RoID4gMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLCBcIlwiKS5zdWJzdHJpbmcoMCwgMjgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtQ29sbGFib3JhdG9yTGlzdCA9IGRhdGEucHJvYmxlbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNlbGYubG9naW5JblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZWxldGVQcm9ibGVtKHByb2JsZW1pZCl7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLnJlbW92ZXByb2JsZW0ocHJvYmxlbWlkKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHNlbGYucHJvYmxlbUxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5wcm9ibGVtTGlzdFtpXS5faWQgPT0gcHJvYmxlbWlkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW1MaXN0LnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmV2b212ZVByb2JsZW0oZXYscHJvYmxlbSkge1xyXG4gICAgICAgICAgICAvLyBBcHBlbmRpbmcgZGlhbG9nIHRvIGRvY3VtZW50LmJvZHkgdG8gY292ZXIgc2lkZW5hdiBpbiBkb2NzIGFwcFxyXG4gICAgICAgICAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpKVxyXG4gICAgICAgICAgICAgICAgLnRpdGxlKCdEZXRldGUgUHJvYmxlbT8nKVxyXG4gICAgICAgICAgICAgICAgLmNvbnRlbnQoJ1RpdGxlOiAnICsgcHJvYmxlbS50aXRsZSlcclxuICAgICAgICAgICAgICAgIC5hcmlhTGFiZWwoJ1JlbW92ZSBQcm9ibGVtJylcclxuICAgICAgICAgICAgICAgIC5vaygnRGVzZWpvIHJlbW92ZXIhJylcclxuICAgICAgICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbCcpXHJcbiAgICAgICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlUHJvYmxlbShwcm9ibGVtLl9pZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3RhcnROZXdQcm9ibGVtKG5ld3Byb2JsZW0pe1xyXG4gICAgICAgICAgICBuZXdwcm9ibGVtLnVzZXJpZCA9IHNlbGYudXNlcmlkO1xyXG5cclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UubmV3cHJvYmxlbShuZXdwcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVkaXRQcm9ibGVtKGRhdGEucHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVkaXRQcm9ibGVtKHByb2JsZW0pIHtcclxuICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2JsZW1pZFwiLHByb2JsZW0uX2lkKTtcclxuICAgICAgICAgICAgdmFyIGluaXRzb2NrZXRwcm9ibGVtID0ge1xyXG4gICAgICAgICAgICAgICAgXCJpZHByb2JsZW1cIjpwcm9ibGVtLl9pZCxcclxuICAgICAgICAgICAgICAgIFwibmlja25hbWVcIjogc2VsZi5uaWNrbmFtZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnaW5pdFByb2JsZW0nLCBpbml0c29ja2V0cHJvYmxlbSk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5zdGFrZWhvbGRlcnMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRvTG9nb3V0KCkge1xyXG4gICAgICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZWRpdFByb2ZpbGUoKSB7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvZmlsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbmV3UHJvYmxlbShldikge1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IERpYWxvZ0NvbnRyb2xsZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9uZXdwcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gRGlhbG9nQ29udHJvbGxlcigkc2NvcGUsICRmaWx0ZXIsICRtZERpYWxvZykge1xyXG4gICAgICAgICAgICAkc2NvcGUuaXRlbXMgPSBbJ0xBQkVMX0FSVElGQUNUX1NUQUtFSE9MREVSUycsXHJcbiAgICAgICAgICAgICAgICAnTEFCRUxfQVJUSUZBQ1RfRVZBTFVBVElPTkZSQU1FV09SSycsXHJcbiAgICAgICAgICAgICAgICAnTEFCRUxfQVJUSUZBQ1RfU0VNSU9USUNGUkFNRVdPUksnLFxyXG4gICAgICAgICAgICAgICAgJ0xBQkVMX0FSVElGQUNUX1ZJRicsXHJcbiAgICAgICAgICAgICAgICAnTEFCRUxfQVJUSUZBQ1RfQ0FSRidcclxuICAgICAgICAgICAgICAgIC8qJ0xBQkVMX0FSVElGQUNUX09OSU9OJyovXTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZSA9IGZ1bmN0aW9uIChpdGVtLCBsaXN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gbGlzdC5pbmRleE9mKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkeCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbSAhPT0gJ0xBQkVMX0FSVElGQUNUX1NUQUtFSE9MREVSUycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGxpc3QubGVuZ3RoID09IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJGZpbHRlcigndHJhbnNsYXRlJykoJ0xBQkVMX0FSVElGQUNUX1NUQUtFSE9MREVSU19ORUNFU1NBUlknKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3QucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihpdGVtICE9ICdMQUJFTF9BUlRJRkFDVF9TRU1JT1RJQ0ZSQU1FV09SSycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZHggPSBsaXN0LmluZGV4T2YoJ0xBQkVMX0FSVElGQUNUX1NUQUtFSE9MREVSUycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKCdMQUJFTF9BUlRJRkFDVF9TVEFLRUhPTERFUlMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmV4aXN0cyA9IGZ1bmN0aW9uIChpdGVtLCBsaXN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdC5pbmRleE9mKGl0ZW0pID4gLTE7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuaXNJbmRldGVybWluYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCRzY29wZS5zZWxlY3RlZC5sZW5ndGggIT09IDAgJiZcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZC5sZW5ndGggIT09ICRzY29wZS5pdGVtcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmlzQ2hlY2tlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5zZWxlY3RlZC5sZW5ndGggPT09ICRzY29wZS5pdGVtcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUudG9nZ2xlQWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNlbGVjdGVkLmxlbmd0aCA9PT0gJHNjb3BlLml0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuc2VsZWN0ZWQubGVuZ3RoID09PSAwIHx8ICRzY29wZS5zZWxlY3RlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLml0ZW1zLnNsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hcnRpZmFjdExpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5oaWRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTmV3UHJvYmxlbSA9IGZ1bmN0aW9uKHByb2JsZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUuc2VsZWN0ZWQubGVuZ3RoIDwgMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZSgkZmlsdGVyKCd0cmFuc2xhdGUnKSgnTEFCRUxfQ0hPSUNFX0FSVElGQUNUUycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwcm9ibGVtLmFydGlmYWN0cyA9ICAkc2NvcGUuc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFydE5ld1Byb2JsZW0ocHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgIH1cclxufSkoKTtcclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjIvMDcvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3ZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXInLCB2YWx1ZUlkZW50aWZpY2F0aW9uRnJhbWVDb250cm9sbGVyKTtcclxuXHJcbmZ1bmN0aW9uIHZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIoJHdpbmRvdyxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCxTb2NrZXQpe1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgIHNlbGYuaWRQcm9ibGVtID0gXCJcIjtcclxuICAgIHNlbGYudXNlcmVtYWlsID0gXCJcIjtcclxuICAgIHNlbGYubmV3dmFsdWVzID0gXCJcIjtcclxuICAgIHNlbGYuaW5pdFZhbHVlSWRlbnRpZmljYXRpb25GcmFtZSA9IGluaXRWYWx1ZUlkZW50aWZpY2F0aW9uRnJhbWU7XHJcbiAgICBzZWxmLnNldFN1Z2dlc3Rpb25TaG93ID0gc2V0U3VnZ2VzdGlvblNob3c7XHJcbiAgICBzZWxmLmxlYXZlU3VnZ2VzdGlvblNob3cgPSBsZWF2ZVN1Z2dlc3Rpb25TaG93O1xyXG4gICAgc2VsZi5yZW1vdmVWYWx1ZUlkZW50aWNhdGlvbiA9IHJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uO1xyXG4gICAgc2VsZi5zZXRWYWx1ZUlkZW50aWNhdGlvbiA9IHNldFZhbHVlSWRlbnRpY2F0aW9uO1xyXG4gICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXMgPSBcIlwiO1xyXG4gICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIkNvbW11bml0eVwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiTWFya2V0XCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJTb3VyY2VcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIkNvbnRyaWJ1dGlvblwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiVGVjaG5pY29cIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH1cclxuICAgIF07XHJcbiAgICBzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5ID0gW1xyXG4gICAgICAgICdBY2Vzc2liaWxpZGFkZScsJ0FkYXB0YWJpbGlkYWRlJywnRXN0w6l0aWNhJywnQXV0b25vbWlhJywgJ0Rpc3BvbmliaWxpZGFkZScsICdDb25zY2nDqm5jaWEnLCAnQ29sYWJvcmHDp8OjbycsXHJcbiAgICAgICAgJ0NvbnZlcnNhw6fDo28nLCAnRW1vw6fDo28gZSBBZmV0bycsICdHcnVwb3MnLCAnSWRlbnRpZGFkZScsICdDb25zZW50aW1lbnRvIGluZm9ybWFkbycsICdNZXRhLWNvbXVuaWNhw6fDo28nLCAnTm9ybWFzJyxcclxuICAgICAgICAnT2JqZXRvJywgJ1BvcnRhYmlsaWRhZGUnLCAnUHJlc2Vuw6dhJywgJ1ByaXZhY2lkYWRlJywgJ1Byb3ByaWVkYWRlJywgJ1JlY2lwcm9jaWRhZGUsIFJlbGFjaW9uYW1lbnRvLCBSZXB1dGHDp8OjbycsXHJcbiAgICAgICAgJ0VzY2FsYWJpbGlkYWRlJywgJ1NlZ3VyYW7Dp2EnLCAnQ29tcGFydGlsaGFtZW50bycsICdDb25maWFuw6dhJywgJ1VzYWJpbGlkYWRlJywgJ1Zpc2liaWxpZGFkZSddO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRWYWx1ZUlkZW50aWZpY2F0aW9uRnJhbWUoKXtcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldG9uaW9uKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN0YWtlaG9sZGVycy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgayA9IDE7IGsgPCBzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5Lmxlbmd0aDsgaysrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN1Z2VzdGlvblZhbHVlcyArPSBzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5W2tdICsgIFwiLCBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXNbc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheVtzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5Lmxlbmd0aC0xXV0gKyAnLic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGF0YS5zdGFrZWhvbGRlcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBzZWxmLnN0YWtlaG9sZGVyTGlzdC5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFrZWhvbGRlciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZCA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uaW9ubGF5ZXIgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5vbmlvbmxheWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0udmFsdWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkVkaXQgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5vcGVuRWRpdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZXMgOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdGFrZWhvbGRlcnNbaV0ub25pb25sYXllciA9PSBzZWxmLnN0YWtlaG9sZGVyTGlzdFtqXS5vbmlvbmxheWVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0W2pdLnN0YWtlaG9sZGVycy5wdXNoKHN0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uU2F2ZScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuc3Rha2Vob2xkZXJMaXN0LCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgaWYgKHN0YWtlaG9sZGVyLl9pZCA9PSBkYXRhLl9pZCl7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5zdGFrZWhvbGRlciA9IGRhdGEuc3Rha2Vob2xkZXI7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBkYXRhLm9wZW5FZGl0O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueCA9IGRhdGEueDtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0U3VnZ2VzdGlvblNob3coc3Rha2Vob2xkZXIpe1xyXG4gICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsZWF2ZVN1Z2dlc3Rpb25TaG93KHN0YWtlaG9sZGVyKXtcclxuICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uKHZhbHVlLHN0YWtlaG9sZGVyKXtcclxuICAgICAgICB2YXIgbmV3TGlzdCA9IFtdO1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzdGFrZWhvbGRlci52YWx1ZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZihzdGFrZWhvbGRlci52YWx1ZXNbaV0gIT0gdmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgbmV3TGlzdC5wdXNoKHN0YWtlaG9sZGVyLnZhbHVlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3Rha2Vob2xkZXIudmFsdWVzID0gbmV3TGlzdDtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25TYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFZhbHVlSWRlbnRpY2F0aW9uKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgaWYoKHN0YWtlaG9sZGVyLm5ld1ZhbHVlcyA9PT0gXCJcIikgfHwgKHN0YWtlaG9sZGVyLm5ld1ZhbHVlcyA9PT0gdW5kZWZpbmVkKSl7XHJcbiAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZSgnVmFsb3IgbsOjbyBlc3BlY2lmaWNhZG8uJyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXNMaXN0ID0gc3Rha2Vob2xkZXIubmV3VmFsdWVzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgdmFsdWVzTGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZihmaW5kVmFsdWUoc3Rha2Vob2xkZXIudmFsdWVzLCB2YWx1ZXNMaXN0W2ldKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRHVwbGljYXRlIHZhbHVlOiBcIiArIHZhbHVlc0xpc3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIudmFsdWVzLnB1c2godmFsdWVzTGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3Rha2Vob2xkZXIubmV3VmFsdWVzID0gXCJcIjtcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uU2F2ZScsIHN0YWtlaG9sZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRWYWx1ZShsaXN0LCB2YWx1ZSl7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYodmFsdWUgPT09IGxpc3RbaV0pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI4LzA3LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdwcm9maWxlQ29udHJvbGxlcicscHJvZmlsZUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHByb2ZpbGVDb250cm9sbGVyKCR3aW5kb3csJHN0YXRlLCB0b2FzdEFwcCwgJHNjb3BlLHNpZ251cFNlcnZpY2Upe1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLnN0YXJ0UHJvZmlsZSA9IHN0YXJ0UHJvZmlsZTtcclxuICAgICAgICBzZWxmLnVwbG9hZEluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYudXBsb2FkUHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgIHNlbGYudXNlcmlkO1xyXG4gICAgICAgIHNlbGYuc2F2ZVBob3RvID0gc2F2ZVBob3RvO1xyXG4gICAgICAgIHNlbGYuc3lzdGVtUmV0dXJuID0gc3lzdGVtUmV0dXJuO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzeXN0ZW1SZXR1cm4oKXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdzdGFydHByb2JsZW0nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYubXlJbWFnZT0nJztcclxuICAgICAgICBzZWxmLm15Q3JvcHBlZEltYWdlPScnO1xyXG5cclxuICAgICAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdCA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IGV2dC5jdXJyZW50VGFyZ2V0LmZpbGVzWzBdO1xyXG4gICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubXlJbWFnZSA9IGV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlSW5wdXQnKSkub24oJ2NoYW5nZScsaGFuZGxlRmlsZVNlbGVjdCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0UHJvZmlsZSgpe1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJpZCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyaWRcIik7XHJcbiAgICAgICAgICAgIGlmKHNlbGYudXNlcmlkICE9PSB1bmRlZmluZWQpe1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzYXZlUGhvdG8obXlpbWFnZSl7XHJcbiAgICAgICAgICAgIHZhciB1c2VyUGhvdG8gPXtcclxuICAgICAgICAgICAgICAgIHVzZXJpZCA6ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyaWRcIiksXHJcbiAgICAgICAgICAgICAgICBwaG90byA6IG15aW1hZ2VcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2lnbnVwU2VydmljZS51cGxvYWRQaG90byh1c2VyUGhvdG8pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwaG90b1wiLG15aW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCItLS0tLVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcblxyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignc2lnbnVwQ29udHJvbGxlcicsIHNpZ251cENvbnRyb2xsZXIpO1xyXG4gICAgc2lnbnVwQ29udHJvbGxlci4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJywnJHdpbmRvdycsJ3NpZ251cFNlcnZpY2UnLCckc3RhdGUnLCd0b2FzdEFwcCcsJ0F1dGhUb2tlbicsJ0F1dGgnLCckZmlsdGVyJywnJHN0YXRlUGFyYW1zJ107XHJcblxyXG4gIGZ1bmN0aW9uIHNpZ251cENvbnRyb2xsZXIoJHRyYW5zbGF0ZSwgJHdpbmRvdywgc2lnbnVwU2VydmljZSwkc3RhdGUsdG9hc3RBcHAsQXV0aFRva2VuLEF1dGgsJGZpbHRlciwkc3RhdGVQYXJhbXMpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tZXNzYWdlICA9ICcnO1xyXG4gICAgc2VsZi5zYXZlVXNlciAgID0gc2F2ZVVzZXI7XHJcbiAgICBzZWxmLnJlc2N1ZVBhc3N3b3JkID0gcmVzY3VlUGFzc3dvcmQ7XHJcbiAgICBzZWxmLmNoYW5nZVBhc3N3b3JkID0gY2hhbmdlUGFzc3dvcmQ7XHJcbiAgICBzZWxmLnNldExhbmcgPSBzZXRMYW5nO1xyXG4gICAgc2VsZi5sb2dpbkluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlVXNlcih1c2VyKSB7XHJcbiAgICAgIHNpZ251cFNlcnZpY2UuY3JlYXRlKHVzZXIpXHJcbiAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJGZpbHRlcigndHJhbnNsYXRlJykoJ1dFTENPTUVfU1lTVEVNJykgKyB1c2VyLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRW1haWwgSsOhIGNhZGFzdHJhZG9cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gc2V0TGFuZyhsYW5nS2V5KSB7XHJcbiAgICAgICAgICAkdHJhbnNsYXRlLnVzZShsYW5nS2V5KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcmVzY3VlUGFzc3dvcmQodXNlckVtYWlsKXtcclxuICAgICAgICAgIHNpZ251cFNlcnZpY2UucmVzY3VlUGFzc3dvcmQodXNlckVtYWlsKVxyXG4gICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJFbWFpbCBjb20gaW5zdHJ1w6fDtWVzIGVudmlhZG8gcGFyYSBcIiArIHVzZXJFbWFpbC5lbWFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJFcnJvclwiKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZCh1c2VyKXtcclxuICAgICAgICAgIHNpZ251cFNlcnZpY2UuY2hhbmdlUGFzc3dvcmQodXNlcilcclxuICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VuaGEgYWx0ZXJhZGEgY29tIHN1Y2Vzc28uIEZhw6dhIGxvZ2luIGNvbSBhIG5vdmEgc2VuaGEuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0LmxvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnc2lnbnVwU2VydmljZScsIHNpZ251cFNlcnZpY2UpO1xyXG5cclxuICBzaWdudXBTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywnJGxvY2F0aW9uJ107XHJcblxyXG4gIGZ1bmN0aW9uIHNpZ251cFNlcnZpY2UoJGh0dHAsJGxvY2F0aW9uKSB7XHJcblxyXG4gICAgdmFyIEFQSV9ST1VURV9VU0VSID0gJy9hcGkvc2lnbnVwLyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1JFU0NVRVBBU1NXT1JEID0gJy9hcGkvcmVzY3VlcGFzc3dkLyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1NFVE5FV1BBU1NXT1JEID0gJy9hcGkvcmVzY3VlcGFzc3dkL25ld3Bhc3N3ZC8nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9VUERBVEVQSE9UTyA9ICcvYXBpL3Byb2ZpbGUvcGhvdG8vJztcclxuXHJcblxyXG4gICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgIGNyZWF0ZSAgICAgICAgIDogY3JlYXRlLFxyXG4gICAgICByZXNjdWVQYXNzd29yZCA6IHJlc2N1ZVBhc3N3b3JkLFxyXG4gICAgICBjaGFuZ2VQYXNzd29yZCA6IGNoYW5nZVBhc3N3b3JkLFxyXG4gICAgICB1cGxvYWRQaG90bzogdXBsb2FkUGhvdG9cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHNlcnZpY2U7XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfVVNFUiwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzY3VlUGFzc3dvcmQoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9SRVNDVUVQQVNTV09SRCwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQoZGF0YSl7XHJcbiAgICAgIHZhciBteXRva2VuVVJMID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9TRVRORVdQQVNTV09SRCArICc/bXl0b2tlbj0nICsgbXl0b2tlblVSTC5teXRva2VuKycmcGFzc3dvcmQ9JytkYXRhLnBhc3N3b3JkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGxvYWRQaG90byhkYXRhKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9VUERBVEVQSE9UTywgZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29uZmlnKGFwcENvbmZpZyk7XHJcblxyXG4gICAgYXBwQ29uZmlnLiRpbmplY3QgPSBbJyRtZFRoZW1pbmdQcm92aWRlcicsJyRsb2NhdGlvblByb3ZpZGVyJ107XHJcblxyXG4gICAvKiBmdW5jdGlvbiBhcHBDb25maWcgKCRtZFRoZW1pbmdQcm92aWRlciwkbG9jYXRpb25Qcm92aWRlcikge1xyXG5cclxuICAgICAgICAgLy8kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbiAgICAgICAgdmFyIGN1c3RvbUdyZWVuTWFwID0gJG1kVGhlbWluZ1Byb3ZpZGVyLmV4dGVuZFBhbGV0dGUoJ3RlYWwnLCB7XHJcbiAgICAgICAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXHJcbiAgICAgICAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiBbJzUwJ10sXHJcbiAgICAgICAgICAgICc1MCc6ICdFMEYyRjEnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCdjdXN0b21HcmVlbicsIGN1c3RvbUdyZWVuTWFwKTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2N1c3RvbUdyZWVuJywge1xyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiAnNTAwJyxcclxuICAgICAgICAgICAgICAgICdodWUtMSc6ICc1MCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmFjY2VudFBhbGV0dGUoJ3RlYWwnKTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2lucHV0JywgJ2RlZmF1bHQnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2dyZWVuJyk7XHJcblxyXG4gICAgfTsqL1xyXG5cclxuICAgIGZ1bmN0aW9uIGFwcENvbmZpZygkbWRUaGVtaW5nUHJvdmlkZXIpIHtcclxuICAgICAgICAvLyBFeHRlbmQgdGhlIHJlZCB0aGVtZSB3aXRoIGEgZmV3IGRpZmZlcmVudCBjb2xvcnNcclxuICAgICAgICB2YXIgbmVvblJlZE1hcCA9ICRtZFRoZW1pbmdQcm92aWRlci5leHRlbmRQYWxldHRlKCd0ZWFsJywge1xyXG4gICAgICAgICAgICAnNTAnOiAnRTBGMkYxJyxcclxuICAgICAgICAgICAgJzEwMCc6ICdCMkRGREInLFxyXG4gICAgICAgICAgICAnMjAwJzogJzgwQ0JDNCcsXHJcbiAgICAgICAgICAgICczMDAnOiAnNERCNkFDJyxcclxuICAgICAgICAgICAgJzQwMCc6ICcyNkE2OUEnLFxyXG4gICAgICAgICAgICAnNTAwJzogJzAwOTY4OCcsXHJcbiAgICAgICAgICAgICc2MDAnOiAnMDA4OTdCJyxcclxuICAgICAgICAgICAgJzcwMCc6ICcwMDc5NkInLFxyXG4gICAgICAgICAgICAnODAwJzogJzAwNjk1QycsXHJcbiAgICAgICAgICAgICc5MDAnOiAnMDA0RDQwJyxcclxuICAgICAgICAgICAgJ0ExMDAnOiAnQTdGRkVCJyxcclxuICAgICAgICAgICAgJ0EyMDAnOiAnNjRGRkRBJyxcclxuICAgICAgICAgICAgJ0E0MDAnOiAnMURFOUI2JyxcclxuICAgICAgICAgICAgJ0E3MDAnOiAnMDBCRkE1JyxcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JywgICAgLy8gd2hldGhlciwgYnkgZGVmYXVsdCwgdGV4dCAoY29udHJhc3QpXHJcbiAgICAgICAgICAgIC8vIG9uIHRoaXMgcGFsZXR0ZSBzaG91bGQgYmUgZGFyayBvciBsaWdodFxyXG4gICAgICAgICAgICAnY29udHJhc3REYXJrQ29sb3JzJzogWyc1MCcsICcxMDAnLCAvL2h1ZXMgd2hpY2ggY29udHJhc3Qgc2hvdWxkIGJlICdkYXJrJyBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAnMjAwJywgJzMwMCcsICc0MDAnLCAnQTEwMCddLFxyXG4gICAgICAgICAgICAnY29udHJhc3RMaWdodENvbG9ycyc6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBuZXcgY29sb3IgcGFsZXR0ZSBtYXAgd2l0aCB0aGUgbmFtZSA8Y29kZT5uZW9uUmVkPC9jb2RlPlxyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCd0ZWFsJywgbmVvblJlZE1hcCk7XHJcbiAgICAgICAgLy8gVXNlIHRoYXQgdGhlbWUgZm9yIHRoZSBwcmltYXJ5IGludGVudGlvbnNcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ3RlYWwnKVxyXG4gICAgICAgICAgICAuYWNjZW50UGFsZXR0ZSgnZ3JlZW4nKTtcclxuICAgIH1cclxuXHJcblxyXG59KSgpOyIsIlxyXG4oZnVuY3Rpb24oKXtcclxuXHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2F1dGhTZXJ2aWNlJywgW10pXHJcblx0XHQuZmFjdG9yeSgnQXV0aCcsIGZ1bmN0aW9uKCRodHRwLCAkcSwgQXV0aFRva2VuKSB7XHJcblx0XHRcdHZhciBhdXRoRmFjdG9yeSA9IHt9O1xyXG5cdFx0XHRhdXRoRmFjdG9yeS5sb2dpbiA9IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCkge1xyXG5cdFx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvZ2luJywge1xyXG5cdFx0XHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHRcdFx0cGFzc3dvcmQ6IHBhc3N3b3JkXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0QXV0aFRva2VuLnNldFRva2VuKGRhdGEudG9rZW4pO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXV0aEZhY3RvcnkubG9nb3V0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0QXV0aFRva2VuLnNldFRva2VuKCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRhdXRoRmFjdG9yeS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYoQXV0aFRva2VuLmdldFRva2VuKCkpIHtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1lbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRhdXRoRmFjdG9yeS5nZXRVc2VyID0gZnVuY3Rpb24oaWQpIHtcclxuXHRcdFx0XHRpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9tZS8/dXNlcmlkPScgKyBpZCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuICRxLnJlamVjdCh7bWVzc2FnZTogXCJVc2VyIGhhcyBubyB0b2tlblwifSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fTtcclxuXHRcdFx0cmV0dXJuIGF1dGhGYWN0b3J5O1xyXG5cdFx0fSlcclxuXHRcdC5mYWN0b3J5KCdBdXRoVG9rZW4nLCBmdW5jdGlvbigkd2luZG93KSB7XHJcblxyXG5cdFx0XHR2YXIgYXV0aFRva2VuRmFjdG9yeSA9IHt9O1xyXG5cclxuXHRcdFx0YXV0aFRva2VuRmFjdG9yeS5nZXRUb2tlbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXV0aFRva2VuRmFjdG9yeS5zZXRUb2tlbiA9IGZ1bmN0aW9uKHRva2VuKSB7XHJcblxyXG5cdFx0XHRcdGlmICh0b2tlbikge1xyXG5cdFx0XHRcdFx0JHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHQkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH07XHJcblx0XHRcdHJldHVybiBhdXRoVG9rZW5GYWN0b3J5O1xyXG5cdFx0fSlcclxuXHRcdC5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3InLCBmdW5jdGlvbigkcSwgJGxvY2F0aW9uLCBBdXRoVG9rZW4pIHtcclxuXHRcdFx0dmFyIGludGVyY2VwdG9yRmFjdG9yeSA9IHt9O1xyXG5cdFx0XHRpbnRlcmNlcHRvckZhY3RvcnkucmVxdWVzdCA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG5cdFx0XHRcdHZhciB0b2tlbiA9IEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG5cdFx0XHRcdGlmKHRva2VuKSB7XHJcblx0XHRcdFx0XHRjb25maWcuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSA9IHRva2VuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gY29uZmlnO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gaW50ZXJjZXB0b3JGYWN0b3J5O1xyXG5cdFx0fSk7XHJcbn0pKCk7IiwiXHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnRHJvcERTQycsW10pXHJcbiAgICAuZGlyZWN0aXZlKCdkcmFnZ2FibGUnLCBmdW5jdGlvbigkZG9jdW1lbnQsU29ja2V0LCR3aW5kb3cpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZihldmVudC50YXJnZXQuaWQuc3Vic3RyaW5nKDAsMTEpID09IFwic3Rha2Vob2xkZXJcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCBkZWZhdWx0IGRyYWdnaW5nIG9mIHNlbGVjdGVkIGNvbnRlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdGFrZWhvbGRlci5sb2NhbGNvZGUgPSAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxjb2RlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnbW91c2V1cCcsIG1vdXNldXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiBtb3VzZW1vdmUoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBpZF9kaXYgPSBldmVudC50YXJnZXQuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaWRfZGl2ID09ICdzdmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWRfZGl2ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnN0YWtlaG9sZGVyLm9uaW9ubGF5ZXIgPSBpZF9kaXY7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgeSA9IGV2ZW50LnBhZ2VZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgeCA9IGV2ZW50LnBhZ2VYO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHkgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICB4ICsgJ3B4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvKlNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblBvc2l0aW9uJywgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHN0YWtlaG9sZGVyLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICBzdGFrZWhvbGRlci54XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Rha2Vob2xkZXIueCA9IHggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Rha2Vob2xkZXIueSA9IHkgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy9Tb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25Qb3NpdGlvbicsIHNjb3BlLnN0YWtlaG9sZGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiBtb3VzZXVwKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ21vdXNldXAnLCBtb3VzZXVwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RNb3ZlJywgc2NvcGUuc3Rha2Vob2xkZXIpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgIH0pO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBqZXN1cyBvbiAyMS8wMy8yMDE2LlxyXG4gKi9cclxuOyhmdW5jdGlvbiAodW5kZWZpbmVkKSB7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwUnhEcmFnJywgWydyeCddKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ3J4ZHJhZ2dhYmxlJywgZnVuY3Rpb24oJGRvY3VtZW50LCAkd2luZG93LCByeCwgU29ja2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdGhyZWUgbWFqb3IgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxjb2RlID0gICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsY29kZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vdXNldXAgICA9IHJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KGVsZW1lbnQsICAgJ21vdXNldXAnKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb3VzZW1vdmUgPSByeC5PYnNlcnZhYmxlLmZyb21FdmVudCgkZG9jdW1lbnQsICdtb3VzZW1vdmUnKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb3VzZWRvd24gPSByeC5PYnNlcnZhYmxlLmZyb21FdmVudChlbGVtZW50LCAgICdtb3VzZWRvd24nKS5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIG9mZnNldHMgd2hlbiBtb3VzZSBkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBldmVudC5jbGllbnRYIC0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICBldmVudC5jbGllbnRZIC0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbWJpbmUgbW91c2UgZG93biB3aXRoIG1vdXNlIG1vdmUgdW50aWwgbW91c2UgdXBcclxuICAgICAgICAgICAgICAgIHZhciBtb3VzZWRyYWcgPSBtb3VzZWRvd24uc2VsZWN0TWFueShmdW5jdGlvbihpbWFnZU9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb3VzZW1vdmUubWFwKGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIG9mZnNldHMgZnJvbSBtb3VzZSBkb3duIHRvIG1vdXNlIG1vdmVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBwb3MuY2xpZW50WCAtIGltYWdlT2Zmc2V0LmxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICBwb3MuY2xpZW50WSAtIGltYWdlT2Zmc2V0LnRvcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRha2VVbnRpbChtb3VzZXVwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG1vdXNlZHJhZy5zdWJzY3JpYmUgKGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcG9zaXRpb25cclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7dG9wOiBwb3MudG9wICsgJ3B4JywgbGVmdDogcG9zLmxlZnQgKyAncHgnfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zLmxvY2FsY29kZSA9IGxvY2FsY29kZTtcclxuICAgICAgICAgICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0TW92ZScscG9zKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG59LmNhbGwodGhpcykpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjUvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdsb2dpbkNvbnRyb2xsZXInLGxvZ2luQ29udHJvbGxlcik7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxvZ2luQ29udHJvbGxlcigkdHJhbnNsYXRlLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEF1dGgsICR3aW5kb3csICRmaWx0ZXIsIHRvYXN0QXBwKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgICAgICAgICAgc2VsZi5kb0xvZ291dCA9IGRvTG9nb3V0O1xyXG4gICAgICAgICAgICBzZWxmLmRvTG9naW4gPSBkb0xvZ2luO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0TGFuZyhsYW5nS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgJHRyYW5zbGF0ZS51c2UobGFuZ0tleSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldExvY2FsQ29kZSgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgc2VsZi5sb2dnZWRJbiA9IEF1dGguaXNMb2dnZWRJbigpO1xyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ2dlZEluID0gQXV0aC5pc0xvZ2dlZEluKCk7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmdldFVzZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvTG9naW4odXNlcikge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5lcnJvciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgQXV0aC5sb2dpbih1c2VyLmVtYWlsLCB1c2VyLnBhc3N3b3JkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJlbWFpbFwiLGRhdGEuZW1haWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlcmlkXCIsZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsb2NhbGNvZGVcIixkYXRhLmlkICsgJy0nICsgZ2V0TG9jYWxDb2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibmlja25hbWVcIixkYXRhLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRMYW5nKGRhdGEubGFuZ3VhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRoLmdldFVzZXIoZGF0YS5pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHVzZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdXRUxDT01FX1NZU1RFTScpICsgXCI6IFwiICsgZGF0YS5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBob3RvXCIsdXNlckRhdGEuZGF0YS5waG90byk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3N0YXJ0cHJvYmxlbScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiVXN1w6FyaW8gZSBzZW5oYSBuw6NvIGNvbmZlcmVtLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvTG9nb3V0KCkge1xyXG4gICAgICAgICAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZSgnaW5pdCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDIxLzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5zZXJ2aWNlKCdTb2NrZXQnLFxyXG4gICAgICAgIFsnJGxvY2F0aW9uJywgJyR0aW1lb3V0JyxcclxuICAgIGZ1bmN0aW9uKCRsb2NhdGlvbiwgJHRpbWVvdXQpIHtcclxuICAgICAgICBpZiAodHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldCA9IGlvKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub24gPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQub24oZXZlbnROYW1lLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQgPSBmdW5jdGlvbihldmVudE5hbWUsIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50TmFtZSwgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbl0pXHJcblxyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
