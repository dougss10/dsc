!function(){"use strict";angular.module("app",["ngImgCrop","toastService","textAngular","luegg.directives","DropDSC","authService","ui.router","ngMaterial","ngMdIcons","ngCookies","pascalprecht.translate"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor")}])}(),function(){"use strict";function e(e){function t(t){this.message=t,e.show({controller:"toastController",controllerAs:"vm",templateUrl:"views/pages/dsctoast.html",action:"OK",highlightAction:!0,position:"top right",hideDelay:500})}var o={message:"",errorMessage:t};return o}angular.module("toastService",[]).controller("toastController",["$mdToast","toastApp",function(e,t){var o=this;o.message=t.message,o.closeToast=function(){e.hide()}}]).factory("toastApp",e),e.$inject=["$mdToast"]}(),function(){"use strict";function e(e,t){e.state("init",{url:"/",templateUrl:"views/pages/initpage.html",controller:"loginController as vm"}).state("init.login",{url:"login",views:{"content-tab":{templateUrl:"views/pages/userlogin.html",controller:"loginController as vm"}}}).state("init.signup",{url:"signup",views:{"content-tab":{templateUrl:"views/pages/signup.html",controller:"signupController as vm"}}}).state("init.rescuepassword",{url:"rescuepassword",views:{"content-tab":{templateUrl:"views/pages/rescuepassword.html",controller:"signupController as vm"}}}).state("startproblem",{url:"/startproblem",templateUrl:"views/pages/startproblem.html",controller:"startProblemController as vm"}).state("profile",{url:"/profile",templateUrl:"views/pages/profile.html",controller:"profileController as vm"}).state("dscreport",{url:"/dscreport",templateUrl:"views/pages/problemreport.html",controller:"problemReportController as vm"}).state("newpassword",{url:"/newpassword/:mytoken",templateUrl:"views/pages/newpassword.html",controller:"signupController as vm"}).state("problem",{url:"/problem",templateUrl:"views/pages/problem.html",controller:"menuProblemController as vm"}).state("problem.description",{url:"/description",views:{"problem-description":{templateUrl:"views/pages/problemdescription.html",controller:"editProblemController as vm"}}}).state("problem.collaborators",{url:"/collaborators",views:{"problem-description":{templateUrl:"views/pages/collaborators.html",controller:"controllerCollaborators as vm"}}}).state("problem.stakeholders",{url:"/stakeholders",views:{"dsc-artifact":{templateUrl:"views/pages/stakeholders.html",controller:"stakeholderController as vm"}}}).state("problem.evaluationframework",{url:"/evaluationframework",views:{"dsc-artifact":{templateUrl:"views/pages/evaluationframework.html",controller:"evaluationframeworkController as vm"}}}).state("problem.semioticframework",{url:"/semioticframework",views:{"dsc-artifact":{templateUrl:"views/pages/semioticframework.html",controller:"semioticframeworkController as vm"}}}).state("problem.carf",{url:"/carf",views:{"dsc-artifact":{templateUrl:"views/pages/carf.html",controller:"carfController as vm"}}}).state("problem.vif",{url:"/vif",views:{"dsc-artifact":{templateUrl:"views/pages/vif.html",controller:"valueIdentificationFrameController as vm"}}}),t.otherwise("/login")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.useStaticFilesLoader({prefix:"app/language/lang-",suffix:".json"}),e.preferredLanguage("en"),e.useSanitizeValueStrategy("escaped"),e.useLocalStorage()}function t(e){function t(t){e.use(t)}var o=this;o.setLang=t}function o(){return{templateUrl:"app/language/changeLanguage.html",restrict:"E"}}angular.module("app").config(e).controller("languageController",t).directive("changeLanguage",o),e.$inject=["$translateProvider"],t.$inject=["$translate"]}(),function(){"use strict";function e(e,t,o,r){function a(){p.idProblem=e.localStorage.getItem("problemid"),o.getcarf(p.idProblem).success(function(e){e.success&&(p.localStakeholders=e.stakeholders,p.stakeholderList=p.localStakeholders,p.carfList=e.carf,p.carfPriorityList=p.localPriorityList)}),p.inProcessing=!1}function n(){p.carf={_id:"",pms:"",values:[],priority:"",requirement:"",stakeholders:[]},p.valueList=[]}function i(e){""===e.pms?r.errorMessage("Select PMS"):e.values.length<1?r.errorMessage("Select one or more Value"):e.stakeholders.length<1?r.errorMessage("Select one or more Stakeholder(s)"):""===e.priority?r.errorMessage("Select priority [Low, Medium or High]"):(t.emit("broadcastCARFadd",e),p.stakeholderList=[],p.carfPriorityList=[])}function s(e,o){var r={index:e,carf:o};t.emit("broadcastCARFremove",r)}function l(e){void 0!==e&&angular.forEach(p.carfPMSValue,function(t){return t.pms==e?(p.carf.values=[],void(p.valueList=t.values)):void 0})}function c(e){p.carf.priority=e}function u(e){if(0===p.carf.values.length)p.carf.values.push(e);else{for(var t=0;t<p.carf.values.length;t++)if(e==p.carf.values[t])return void p.carf.values.splice(t,1);p.carf.values.push(e)}}function m(e){if(0===p.carf.stakeholders.length)p.carf.stakeholders.push(e);else{for(var t=0;t<p.carf.stakeholders.length;t++)if(e==p.carf.stakeholders[t])return void p.carf.stakeholders.splice(t,1);p.carf.stakeholders.push(e)}}var p=this;p.idProblem="",p.inProcessing=!0,p.valueList=[],p.stakeholderList=[],p.localStakeholders=[],p.addpmsvalue=i,p.removeCARF=s,p.selectPMSValue=l,p.setPriotity=c,p.addListValue=u,p.addStakeholder=m,p.carf={pms:"",values:[],priority:"",requirement:"",stakeholders:[]},p.initCarf=a,p.carfList=[],p.carfPriorityList=[],t.on("onBroadcastCARFadd",function(e){p.carfList.push(e),n(),p.stakeholderList=p.localStakeholders,p.carfPriorityList=p.localPriorityList}),t.on("onBroadcastCARFremove",function(e){p.carfList.splice(e,1)}),p.localPriorityList=["Low","Medium","High"],p.carfPMSValue=[{pms:"Interaction",values:["Identity","Norms"]},{pms:"Association",values:["Conversation","Groups","Relationship","Trust"]},{pms:"Learning",values:["Meta-communication"]},{pms:"Play",values:["Aesthetics","Emotion and Affection"]},{pms:"Protection",values:["Informed consert","Reputation","Security"]},{pms:"Exploitation",values:["Accessibility","Object","Property (ownership)","Usability"]},{pms:"Teporality",values:["Availability","Awareness","Presence"]},{pms:"Territoriality",values:["Portability","Privacy","Scalability","Visibility"]},{pms:"Classification",values:["Autonomy","Collaboration","Sharing","Adaptability"]},{pms:"Subsistence",values:["Reciprocity"]}]}angular.module("app").controller("carfController",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r){function a(){l.isOpenChat=!l.isOpenChat,document.getElementById("message").focus()}function n(){l.idProblem=r.localStorage.getItem("problemid"),l.nickname=r.localStorage.getItem("nickname"),l.photo=r.localStorage.getItem("photo"),o.gethistorychat(l.idProblem).success(function(e){if(e.success)for(var t=0;t<e.historychat.length;t++){var o=new Date(e.historychat[t].time),r={nickname:e.historychat[t].nickname,msg:e.historychat[t].msg,time:o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear()+" ["+o.getHours()+":"+o.getMinutes()+"] "};l.messages.push(r)}}),t.emit("checkUsers")}function i(){l.replay?l.replay=!1:l.replay=!0}function s(e){void 0===e||e.length<2||(t.emit("broadcastChat",e),l.newmsg="")}var l=this;l.newmsg="",l.messages=[],l.replay=!1,l.nickname="",l.userList=[],l.initHistoryChat=n,l.showReplay=i,l.sendMessage=s,l.photo="",l.openChat=a,l.isOpenChat=!1,t.on("onBroadcastChat",function(e){var t=new Date(e[e.length-1].time);l.messages.push({nickname:e[e.length-1].nickname,msg:e[e.length-1].msg,time:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" ["+t.getHours()+":"+t.getMinutes()+"] "})}),t.on("onCheckUsers",function(e){l.userList=e})}angular.module("app").controller("chatDSC",e),e.$inject=["$timeout","Socket","problemService","$window"]}(),function(){"use strict";function e(e,t,o,r){function a(){l.idProblem=e.localStorage.getItem("problemid"),l.useremail=e.localStorage.getItem("useremail"),o.getcollaborators(l.idProblem).success(function(e){e.success?l.collaborators=e.collaborators:r.errorMessage(e.message)})}function n(e){for(var t=0;t<l.collaborators.length;t++)if(e==l.collaborators[t].email)return!0;return!1}function i(e){if(l.useremail==e)r.errorMessage(l.useremail+" is email of owner.");else if(n(e))r.errorMessage("Usuario Cadastrado.");else{var t={idproblem:l.idProblem,email:e};o.invite(t).success(function(e){e.success?l.collaborators=e.collaborators:r.errorMessage(e.message)})}}function s(e){var t={idproblem:l.idProblem,email:e.email};o.removecollaborators(t).success(function(e){e.success?(r.errorMessage("Colaborador foi removido do projeto."),l.collaborators=e.collaborators):r.errorMessage(e.message)})}var l=this;l.idProblem="",l.collaborators=[],l.useremail="",l.initCollaborators=a,l.addCollaborator=i,l.removeCollaborator=s}angular.module("app").controller("controllerCollaborators",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(){function e(e){var t=document.getElementById("projectResport"),o=new jsPDF("l","px");o.addHTML(t,0,0,{pagesplit:!0},function(e){o.save("test.pdf")})}var t=this;t.idproblem="ajflajfljalfjaljf",t.buidReport=e}angular.module("app").controller("dscReportController",e)}(),function(){"use strict";function e(e,t,o,r){function a(){s.idproblem=e.localStorage.getItem("problemid"),t.getevaluation(s.idproblem).success(function(e){e.success?s.evaluationframeworkList=e.evaluationframework:r.errorMessage(e.message)})}function n(e){o.emit("broadcastFrameSave",e)}function i(e){e.openEdit=!0}var s=this;s.evaluationframeworkList=[],s.initEvaluation=a,s.setOpenEditDiscution=i,s.saveDiscution=n,o.on("onBroadcastFrameSave",function(e){angular.forEach(s.evaluationframeworkList,function(t){t.onionlayer==e.onionlayer&&angular.forEach(t.stakeholders,function(t){t._id==e._id&&(t.name=e.name,t.onionlayer=e.onionlayer,t.description=e.description,t.openEdit=e.openEdit,t.problems=e.problems,t.solutions=e.solutions)})})}),o.on("onUpdateStakeholder",function(e){console.log(e)})}angular.module("app").controller("evaluationframeworkController",e),e.$inject=["$window","problemService","Socket","toastApp"]}(),function(){"use strict";function e(e,t,o,r,a,n){function i(){p.nickname=o.localStorage.getItem("nickname"),p.idProblem=o.localStorage.getItem("problemid"),r.getproblem(p.idProblem).success(function(e){e.success?p.problem=e.problem:a.errorMessage(e.message)});var e={idproblem:p.idProblem,nickname:p.nickname};n.emit("initProblem",e)}function s(){t.go("startproblem")}function l(){t.go("problem.collaborators")}function c(){t.go("dscreport")}function u(){t.go("problem.description")}function m(){e.logout(),t.go("init.login")}var p=this;p.formAddCollaborators=l,p.editDescriptionProblem=u,p.doLogout=m,p.systemReturn=s,p.formProblemReport=c,p.getCurrentProblem=i,p.nickname}angular.module("app").controller("menuProblemController",e),e.$inject=["Auth","$state","$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,r,a){function n(){c.nickname=r.localStorage.getItem("nickname"),c.idProblem=r.localStorage.getItem("problemid"),c.localcode=r.localStorage.getItem("localcode"),a.getproblem(c.idProblem).success(function(e){e.success?c.problem=e.problem:o.errorMessage(e.message)});var t={idproblem:c.idProblem,nickname:c.nickname};e.emit("initProblem",t)}function i(){u=!0}function s(o){o.update=u,o.localcode=c.localcode,e.emit("atualizarProblema",o),u&&(u=!1,t(i,2e3))}function l(t){t.localcode=c.localcode,t.update=u,e.emit("atualizarProblema",t)}var c=this,u=!0;c.problem="",c.problemUpdate=s,c.getCurrentProblem=n,c.saveDescription=l,c.nickname,c.localcode="",e.on("onAtualizarProblema",function(e){c.localcode!==e.localcode&&(c.problem.description=e.description),c.problem.update=u})}angular.module("app").controller("editProblemController",e),e.$injectre=["$scope","Socket"],e.$inject=["Socket","$timeout","toastApp","$window","problemService"]}(),function(){"use strict";function e(e,t,o,r){function a(){i.idProblem=e.localStorage.getItem("problemid"),t.getproblemreport(i.idProblem).success(function(e){e.success?i.problem=e.problem:o.errorMessage(e.message)})}function n(){r.go("problem.stakeholders")}var i=this;i.idProblem,i.problem,i.initProblemPeport=a,i.systemReturn=n}angular.module("app").controller("problemReportController",e),e.$inject=["$window","problemService","toastApp","$state"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(v,t)}function r(t){return e.get(w+"?idproblem="+t)}function a(t){return e.get(k+"?idproblem="+t)}function n(t){return e.get(b+"?email="+t)}function i(t){return e.get(S+"?idproblem="+t)}function s(t){return e.post(y,t)}function l(t){return e.get(P+"?idproblem="+t)}function c(t){return e.get(C+"?idproblem="+t)}function u(t){return e.get($+"?idproblem="+t)}function m(t){return e.get(A+"?idproblem="+t)}function p(t){return e.get(L+"?idproblem="+t)}function d(t){return e.get(h+"?email="+t)}function g(t){return e.get(I+"?idproblem="+t.idproblem+"&email="+t.email)}function f(t){return e.get(E+"?idproblem="+t)}var b="/api/problem/getproblems",h="/api/problem/getproblemscollaborator",v="/api/problem/newproblem",k="/api/problem/getproblem",w="/api/problem/getproblemreport",S="/api/problem/getcollaborators",y="/api/problem/invite",P="/api/problem/getonion",C="/api/problem/getevaluation",$="/api/problem/getsemiotic",A="/api/problem/getcarf",L="/api/problem/removeproblem",I="/api/problem/removecollaborator",E="/api/problem/historychat",M={newproblem:o,getuserproblems:n,getproblem:a,getcollaborators:i,invite:s,getonion:l,getevaluation:c,getsemiotic:u,getcarf:m,removeproblem:p,getproblemscollaborator:d,removecollaborators:g,gethistorychat:f,getproblemreport:r};return M}angular.module("app").factory("problemService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e,t,o,r){function a(){m.idproblem=t.localStorage.getItem("problemid"),o.getsemiotic(m.idproblem).success(function(e){e.success?m.semioticframework=e.semioticframework:r.errorMessage(e.message)})}function n(t,o){var r={text:t,update:o};e.emit("updateSocialWorld",r)}function i(t,o){var r={text:t,update:o};e.emit("updatePragmatic",r)}function s(t,o){var r={text:t,update:o};e.emit("updateSemantic",r)}function l(t,o){var r={text:t,update:o};e.emit("updateSyntatic",r)}function c(t,o){var r={text:t,update:o};e.emit("updateEmpirical",r)}function u(t,o){var r={text:t,update:o};e.emit("updatePhysical",r)}var m=this;m.idproblem="",m.saveSocialWorld=n,m.savePragmatic=i,m.saveSemantic=s,m.saveSyntatic=l,m.saveEmpirical=c,m.savePhysical=u,m.semioticframework="",m.initSemioticFramework=a,e.on("onUpdateSocialWorld",function(e){m.semioticframework.socialworld=e}),e.on("onUpdatePragmatic",function(e){m.semioticframework.pragmatic=e}),e.on("onUpdateSemantic",function(e){m.semioticframework.semioticramework=e}),e.on("onUpdateSyntatic",function(e,t){m.semioticframework.syntatic=e}),e.on("onUpdateEmpirical",function(e){m.semioticframework.empirical=e}),e.on("onUpdatePhysical",function(e){m.semioticframework.physical=e})}angular.module("app").controller("semioticframeworkController",e),e.$inject=["Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r,a){function n(){d.idproblem=t.localStorage.getItem("problemid"),o.getonion(d.idproblem).success(function(e){e.success?d.stakeholderList=e.stakeholders:a.errorMessage(e.message)}),d.inProcessing=!1}function i(t){e.emit("broadcastOnionSave",t)}function s(t){e.emit("broadcastOnionEdit",t)}function l(t,o){var r={index:t,stakeholder:o};e.emit("broadcastOnionRemove",r)}function c(e,t,o){var a=r.confirm().parent(angular.element(document.body)).title("Detete Stakeholder?").content("Title: "+o.name).ariaLabel("Remove Stakeholder").ok("Yes!").cancel("Cancel").targetEvent(e);r.show(a).then(function(){l(t,o)})}function u(t,o){var r={onionlayer:o,name:"",description:"",openEdit:!0,x:t.pageX+"px",y:t.pageY+"px"};e.emit("broadcastOnionAdd",r)}function m(e){document.getElementById("name"+e).setAttribute("style","text-decoration: underline;"),document.getElementById("legend"+e).setAttribute("opacity","0.7"),document.getElementById(e).setAttribute("opacity","0.7")}function p(e){document.getElementById("name"+e).setAttribute("style","text-decoration: none;"),document.getElementById("legend"+e).setAttribute("opacity","1.0"),document.getElementById(e).setAttribute("opacity","1.0")}var d=this;d.idproblem="",d.stakeholderList=[],d.stakeholder="",d.intitOnion=n,d.move=!1,d.inProcessing=!0,d.saveStakeholder=i,d.setOpenEdit=s,d.delPostIt=c,d.addPostIt=u,d.acende=m,d.apaga=p,d.updateCodeOnion=[],e.on("onBroadcastOnionSave",function(e){angular.forEach(d.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.zindex=10)})}),e.on("onBroadcastOnionEdit",function(e){angular.forEach(d.stakeholderList,function(t){t._id===e&&(t.openEdit=!0,t.zindex=9999)})}),e.on("onBroadcastOnionRemove",function(e){var t=document.getElementById("stakeholder"+d.stakeholderList[e]._id);t.style.display="none",d.stakeholderList.splice(e,1)}),e.on("onBroadcastOnionAdd",function(e){d.stakeholderList.push(e)})}angular.module("app").controller("stakeholderController",e),e.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(),function(){"use strict";function e(e,t,o,r,a,n,i){function s(){b.userid=a.localStorage.getItem("userid"),b.nickname=a.localStorage.getItem("nickname"),b.useremail=a.localStorage.getItem("useremail"),b.photo=a.localStorage.getItem("photo"),n.getuserproblems(b.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,460);b.problemList=e.problems}else i.errorMessage(e.message)}),n.getproblemscollaborator(b.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,460);b.problemCollaboratorList=e.problems}else i.errorMessage(e.message)}),b.loginInProgress=!1}function l(e){n.removeproblem(e).success(function(t){if(t.success){for(var o=0;o<b.problemList.length;o++)if(b.problemList[o]._id==e){b.problemList.splice(o,1);break}}else i.errorMessage(t.message)})}function c(t,o){var r=e.confirm().parent(angular.element(document.body)).title("Detete Problem?").content("Title: "+o.title).ariaLabel("Remove Problem").ok("Desejo remover!").cancel("Cancel").targetEvent(t);e.show(r).then(function(){l(o._id)})}function u(e){e.userid=b.userid,n.newproblem(e).success(function(e){e.success?b.editProblem(e.problem):i.errorMessage(e.message)})}function m(e){a.localStorage.setItem("problemid",e._id);var o={idproblem:e._id,nickname:b.nickname};r.emit("initProblem",o),t.go("problem.stakeholders")}function p(){o.logout(),t.go("init.login")}function d(){t.go("profile")}function g(t){e.show({controller:f,templateUrl:"views/pages/newproblem.html",parent:angular.element(document.body),targetEvent:t})}function f(e,t){e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.addNewProblem=function(e){b.startNewProblem(e),t.cancel()}}var b=this;b.nickname="",b.userid="",b.useremail="",b.problemList=[],b.problemCollaboratorList=[],b.loginInProgress=!0,b.getProblems=s,b.revomveProblem=c,b.startNewProblem=u,b.editProblem=m,b.doLogout=p,b.newProblem=g,b.editProfile=d,b.photo,f.$inject=["$scope","$mdDialog"]}angular.module("app").controller("startProblemController",e),e.$inject=["$mdDialog","$state","Auth","Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,r){function a(){u.idproblem=e.localStorage.getItem("problemid"),t.getonion(u.idproblem).success(function(e){if(e.success){if(e.stakeholders.length>0){for(var t=1;t<u.sugestionValuesArray.length;t++)u.sugestionValues+=u.sugestionValuesArray[t]+", ";u.sugestionValues[u.sugestionValuesArray[u.sugestionValuesArray.length-1]]+".";for(var r=0;r<e.stakeholders.length;r++)for(var a=0;a<u.stakeholderList.length;a++){var n={_id:e.stakeholders[r]._id,onionlayer:e.stakeholders[r].onionlayer,values:e.stakeholders[r].values,name:e.stakeholders[r].name,description:e.stakeholders[r].description,openEdit:e.stakeholders[r].openEdit,x:e.stakeholders[r].x,y:e.stakeholders[r].y,newValues:[]};e.stakeholders[r].onionlayer!=u.stakeholderList[a].onionlayer||u.stakeholderList[a].stakeholders.push(n)}}u.inProcessing=!1}else o.errorMessage(e.message)})}function n(e){e.openEdit=!0}function i(e){e.openEdit=!1}function s(e,t){for(var o=[],a=0;a<t.values.length;a++)t.values[a]!=e&&o.push(t.values[a]);t.values=o,r.emit("broadcastOnionSave",t)}function l(e){if(""===e.newValues||void 0===e.newValues)o.errorMessage("Valor não especificado.");else{for(var t=e.newValues.split(","),a=0;a<t.length;a++)c(e.values,t[a])?o.errorMessage("Duplicate value: "+t[a]):e.values.push(t[a]);e.newValues="",e.openEdit=!1,r.emit("broadcastOnionSave",e)}}function c(e,t){for(var o=0;o<e.length;o++)if(t===e[o])return!0;return!1}var u=this;u.inProcessing=!0,u.idProblem="",u.useremail="",u.newvalues="",u.initValueIdentificationFrame=a,u.setSuggestionShow=n,u.leaveSuggestionShow=i,u.removeValueIdentication=s,u.setValueIdentication=l,u.sugestionValues="",u.stakeholderList=[{onionlayer:"Community",stakeholders:[]},{onionlayer:"Market",stakeholders:[]},{onionlayer:"Source",stakeholders:[]},{onionlayer:"Contribution",stakeholders:[]},{onionlayer:"Technico",stakeholders:[]}],u.sugestionValuesArray=["Acessibilidade","Adaptabilidade","Estética","Autonomia","Disponibilidade","Consciência","Colaboração","Conversação","Emoção e Afeto","Grupos","Identidade","Consentimento informado","Meta-comunicação","Normas","Objeto","Portabilidade","Presença","Privacidade","Propriedade","Reciprocidade, Relacionamento, Reputação","Escalabilidade","Segurança","Compartilhamento","Confiança","Usabilidade","Visibilidade"],r.on("onBroadcastOnionSave",function(e){angular.forEach(u.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.newValues=[])})})}angular.module("app").controller("valueIdentificationFrameController",e),e.$inject=["$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,r){function a(){t.go("startproblem")}function n(){s.userid=e.localStorage.getItem("userid"),void 0!==s.userid}function i(t){var o={userid:e.localStorage.getItem("userid"),photo:t};r.uploadPhoto(o).success(function(o){o.success?e.localStorage.setItem("photo",t):toastApp.errorMessage("-----")})}var s=this;s.startProfile=n,s.uploadInProgress=!0,s.uploadProgress=0,s.userid,s.savePhoto=i,s.systemReturn=a,s.myImage="",s.myCroppedImage="";var l=function(e){var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){o.$apply(function(t){t.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",l)}angular.module("app").controller("profileController",e),e.$inject=["$window","$state","$scope","signupService"]}(),function(){"use strict";function e(e,t,o,r,a,n,i,s,l){function c(e){o.create(e).success(function(t){t.success?(a.errorMessage(s("translate")("WELCOME_SYSTEM")+e.nickname),r.go("init.login")):a.errorMessage("Email Já cadastrado")})}function u(t){e.use(t)}function m(e){o.rescuePassword(e).success(function(t){t.success?(a.errorMessage("Email com instruções enviado para "+e.email),r.go("init.login")):a.errorMessage("Error")})}function p(e){o.changePassword(e).success(function(e){e.success?(a.errorMessage("Senha alterada com sucesso. Faça login com a nova senha."),r.go("init.login")):a.errorMessage("Error")})}var d=this;d.message="",d.saveUser=c,d.rescuePassword=m,d.changePassword=p,d.setLang=u,d.loginInProgress=!1}angular.module("app").controller("signupController",e),e.$inject=["$translate","$window","signupService","$state","toastApp","AuthToken","Auth","$filter","$stateParams"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(i,t)}function r(t){return e.post(s,t)}function a(o){var r=t.search();return e.get(l+"?mytoken="+r.mytoken+"&password="+o.password)}function n(t){return e.post(c,t)}var i="/api/signup/",s="/api/rescuepasswd/",l="/api/rescuepasswd/newpasswd/",c="/api/profile/photo/",u={create:o,rescuePassword:r,changePassword:a,uploadPhoto:n};return u}angular.module("app").factory("signupService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e){var t=e.extendPalette("teal",{50:"E0F2F1",100:"B2DFDB",200:"80CBC4",300:"4DB6AC",400:"26A69A",500:"009688",600:"00897B",700:"00796B",800:"00695C",900:"004D40",A100:"A7FFEB",A200:"64FFDA",A400:"1DE9B6",A700:"00BFA5",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0});e.definePalette("teal",t),e.theme("default").primaryPalette("teal").accentPalette("green")}angular.module("app").config(e),e.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";angular.module("authService",[]).factory("Auth",["$http","$q","AuthToken",function(e,t,o){var r={};return r.login=function(t,r){return e.post("/api/login",{email:t,password:r}).success(function(e){return o.setToken(e.token),e})},r.logout=function(){o.setToken()},r.isLoggedIn=function(){return o.getToken()?!0:!1},r.getUser=function(r){return o.getToken()?e.get("/api/me/?userid="+r):t.reject({message:"User has no token"})},r}]).factory("AuthToken",["$window",function(e){var t={};return t.getToken=function(){return e.localStorage.getItem("token")},t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token")},t}]).factory("AuthInterceptor",["$q","$location","AuthToken",function(e,t,o){var r={};return r.request=function(e){var t=o.getToken();return t&&(e.headers["x-access-token"]=t),e},r}])}(),angular.module("DropDSC",[]).directive("draggable",["$document","Socket",function(e,t){return{restrict:"A",replace:!0,link:function(t,o,r){function a(e){var r=e.target.id;"svg"==r&&(r=""),t.stakeholder.onionlayer=r,y=e.pageY,x=e.pageX,o.css({top:y+"px",left:x+"px"}),t.stakeholder.x=x+"px",t.stakeholder.y=y+"px"}function n(){e.unbind("mousemove",a),e.unbind("mouseup",n)}o.on("mousedown",function(t){"stakeholder"==t.target.id.substring(0,11)&&(t.preventDefault(),e.bind("mousemove",a),e.bind("mouseup",n))})}}}]),function(){"use strict";function e(e,t,o,r,a,n,i){function s(t){e.use(t)}function l(){return Math.random()+Math.floor(10*Math.random())}function c(e){m.inProcessing=!0,m.error="",r.login(e.email,e.password).success(function(e){a.localStorage.setItem("useremail",e.email),a.localStorage.setItem("userid",e.id),a.localStorage.setItem("localcode",e.id+"-"+l()),a.localStorage.setItem("nickname",e.nickname),m.setLang(e.language),m.inProcessing=!1,r.getUser(e.id).then(function(t){i.errorMessage(n("translate")("WELCOME_SYSTEM")+": "+e.nickname),e.success?(a.localStorage.setItem("photo",t.data.photo),o.go("startproblem")):i.errorMessage("Usuário e senha não conferem.")})})}function u(){r.logout(),o("init")}var m=this;m.inProcessing=!1,m.setLang=s,m.doLogout=u,m.doLogin=c,m.loggedIn=r.isLoggedIn(),t.$on("$routeChangeStart",function(){m.loggedIn=r.isLoggedIn(),r.getUser().then(function(e){m.user=e.data})})}angular.module("app").controller("loginController",e),e.$inject=["$translate","$rootScope","$state","Auth","$window","$filter","toastApp"]}(),function(){"use strict";angular.module("app").service("Socket",["$location","$timeout",function(e,t){this.socket=io(),this.on=function(e,o){this.socket&&this.socket.on(e,function(e){t(function(){o(e)})})},this.emit=function(e,t){this.socket&&this.socket.emit(e,t)},this.removeListener=function(e){this.socket&&this.socket.removeListener(e)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRzYy5hcHAuanMiLCJ0b2FzdC5zZXJ2aWNlLmpzIiwicm91dGVyLmFwcC5qcyIsImFwcC5kc2MubWluLmpzIiwibGFuZ3VhZ2UvdHJhbnNsYXRlLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2NhcmYuY29udHJvbGxlci5qcyIsInByb2JsZW0vY2hhdC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9jb2xsYWJvcmF0b3JzLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2RzY3Jlc3BvcnQuY29udHJvbGxlci5qcyIsInByb2JsZW0vZXZhbHVhdGlvbmZyYW1ld29yay5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9tZW51LnByb2JsZW0uY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3Byb2JsZW0ucmVwb3J0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3Byb2JsZW0uc2VydmljZS5qcyIsInByb2JsZW0vc2VtaW90aWNmcmFtZXdvcmsuZWRpdC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9zdGFrZWhvbGRlci5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3N0YXJ0LnByb2JsZW0uY29udHJvbGxlci5qcyIsInByb2JsZW0vdmFsdWVkZW50aWZpY2F0aW9uZnJhbWUuY29udHJvbGxlci5qcyIsInVzZXIvcHJvZmlsZS5jb250cm9sbGVyLmpzIiwidXNlci9zaWdudXAuY29udHJvbGxlci5qcyIsInVzZXIvc2lnbnVwLnNlcnZpY2UuanMiLCJhcHAuY29uZmlnLmpzIiwiYXV0aC5zZXJ2aWNlLmpzIiwiZHJhZy5kc2MuanMiLCJsb2dpbi5jb250cm9sbGVyLmpzIiwic29ja2V0LnNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwidG9hc3RBcHAiLCIkbWRUb2FzdCIsImVycm9yTWVzc2FnZSIsInRoaXMiLCJtZXNzYWdlIiwic2hvdyIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsImFjdGlvbiIsImhpZ2hsaWdodEFjdGlvbiIsInBvc2l0aW9uIiwiaGlkZURlbGF5Iiwic2VydmljZSIsInNlbGYiLCJjbG9zZVRvYXN0IiwiaGlkZSIsImZhY3RvcnkiLCIkaW5qZWN0Iiwicm91dGVzIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwiY29udGVudC10YWIiLCJwcm9ibGVtLWRlc2NyaXB0aW9uIiwiZHNjLWFydGlmYWN0Iiwib3RoZXJ3aXNlIiwiaW5pdExhbmd1YWdlIiwiJHRyYW5zbGF0ZVByb3ZpZGVyIiwidXNlU3RhdGljRmlsZXNMb2FkZXIiLCJwcmVmaXgiLCJzdWZmaXgiLCJwcmVmZXJyZWRMYW5ndWFnZSIsInVzZVNhbml0aXplVmFsdWVTdHJhdGVneSIsInVzZUxvY2FsU3RvcmFnZSIsImxhbmd1YWdlQ29udHJvbGxlciIsIiR0cmFuc2xhdGUiLCJzZXRMYW5nIiwibGFuZ0tleSIsInVzZSIsImNoYW5nZUxhbmd1YWdlIiwicmVzdHJpY3QiLCJkaXJlY3RpdmUiLCJjYXJmQ29udHJvbGxlciIsIiR3aW5kb3ciLCJTb2NrZXQiLCJwcm9ibGVtU2VydmljZSIsImluaXRDYXJmIiwiaWRQcm9ibGVtIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImdldGNhcmYiLCJzdWNjZXNzIiwiZGF0YSIsImxvY2FsU3Rha2Vob2xkZXJzIiwic3Rha2Vob2xkZXJzIiwic3Rha2Vob2xkZXJMaXN0IiwiY2FyZkxpc3QiLCJjYXJmIiwiY2FyZlByaW9yaXR5TGlzdCIsImxvY2FsUHJpb3JpdHlMaXN0IiwiaW5Qcm9jZXNzaW5nIiwicmVzZXRDYXJmIiwiX2lkIiwicG1zIiwidmFsdWVzIiwicHJpb3JpdHkiLCJyZXF1aXJlbWVudCIsInZhbHVlTGlzdCIsImFkZHBtc3ZhbHVlIiwibGVuZ3RoIiwiZW1pdCIsInJlbW92ZUNBUkYiLCJpbmRleCIsIm9iaiIsInNlbGVjdFBNU1ZhbHVlIiwidW5kZWZpbmVkIiwiZm9yRWFjaCIsImNhcmZQTVNWYWx1ZSIsInBtc192YWx1ZSIsInNldFByaW90aXR5IiwiYWRkTGlzdFZhbHVlIiwibmV3dmFsdWUiLCJpIiwic3BsaWNlIiwiYWRkU3Rha2Vob2xkZXIiLCJuZXdTdGFrZWhvbGRlciIsIm9uIiwiaWQiLCJjaGF0RFNDIiwiJHRpbWVvdXQiLCJvcGVuQ2hhdCIsImlzT3BlbkNoYXQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZm9jdXMiLCJpbml0SGlzdG9yeUNoYXQiLCJuaWNrbmFtZSIsInBob3RvIiwiZ2V0aGlzdG9yeWNoYXQiLCJoaXN0b3J5Y2hhdCIsInRtcCIsIkRhdGUiLCJ0aW1lIiwibXNuIiwibXNnIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJtZXNzYWdlcyIsInNob3dSZXBsYXkiLCJyZXBsYXkiLCJzZW5kTWVzc2FnZSIsImNoYXRtc2ciLCJuZXdtc2ciLCJ1c2VyTGlzdCIsImNvbnRyb2xsZXJDb2xsYWJvcmF0b3JzIiwiaW5pdENvbGxhYm9yYXRvcnMiLCJ1c2VyZW1haWwiLCJnZXRjb2xsYWJvcmF0b3JzIiwiY29sbGFib3JhdG9ycyIsInNlYXJjaENhbGxhYm9yYXRpb24iLCJlbWFpbCIsImFkZENvbGxhYm9yYXRvciIsImludml0ZSIsImlkcHJvYmxlbSIsInJlbW92ZUNvbGxhYm9yYXRvciIsInBlb3BsZSIsInJlbW92ZWNvbGxhYm9yYXRvcnMiLCJkc2NSZXBvcnRDb250cm9sbGVyIiwiYnVpZFJlcG9ydCIsImVsZW1lbnQiLCJodG1sIiwicGRmIiwianNQREYiLCJhZGRIVE1MIiwicGFnZXNwbGl0IiwiZGlzcG9zZSIsInNhdmUiLCJldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlciIsImluaXRFdmFsdWF0aW9uIiwiZ2V0ZXZhbHVhdGlvbiIsImV2YWx1YXRpb25mcmFtZXdvcmtMaXN0IiwiZXZhbHVhdGlvbmZyYW1ld29yayIsInNhdmVEaXNjdXRpb24iLCJzdGFrZWhvbGRlciIsInNldE9wZW5FZGl0RGlzY3V0aW9uIiwiY3VycmVudFN0YWtlaG9sZGVyIiwib3BlbkVkaXQiLCJvbmlvbmxheWVyIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicHJvYmxlbXMiLCJzb2x1dGlvbnMiLCJzdGFrZWhvbGRlck9uaW9uIiwiY29uc29sZSIsImxvZyIsIm1lbnVQcm9ibGVtYUNvbnRyb2xsZXIiLCJBdXRoIiwiJHN0YXRlIiwiZ2V0Q3VycmVudFByb2JsZW0iLCJnZXRwcm9ibGVtIiwicHJvYmxlbSIsImluaXRzb2NrZXRwcm9ibGVtIiwic3lzdGVtUmV0dXJuIiwiZ28iLCJmb3JtQWRkQ29sbGFib3JhdG9ycyIsImZvcm1Qcm9ibGVtUmVwb3J0IiwiZWRpdERlc2NyaXB0aW9uUHJvYmxlbSIsImRvTG9nb3V0IiwibG9nb3V0IiwiZWRpdFByb2JsZW1hQ29udHJvbGxlciIsImxvY2FsY29kZSIsInNldFVwZGF0ZSIsInVwZGF0ZVRydWUiLCJwcm9ibGVtVXBkYXRlIiwidXBkYXRlIiwic2F2ZURlc2NyaXB0aW9uIiwicmV0b3JubyIsIiRpbmplY3RyZSIsInByb2JsZW1SZXBvcnRDb250cm9sbGVyIiwiaW5pdFByb2JsZW1QZXBvcnQiLCJnZXRwcm9ibGVtcmVwb3J0IiwiJGh0dHAiLCIkbG9jYXRpb24iLCJuZXdwcm9ibGVtIiwicG9zdCIsIkFQSV9ST1VURV9ORVdQUk9CTEVNIiwiZ2V0IiwiQVBJX1JPVVRFX0dFVFBST0JMRU1SRVBPUlQiLCJBUElfUk9VVEVfR0VUUFJPQkxFTSIsImdldHVzZXJwcm9ibGVtcyIsIkFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVMiLCJBUElfUk9VVEVfR0VUQ09MTEFCT1JBVE9SUyIsIkFQSV9ST1VURV9JTlZJVEUiLCJnZXRvbmlvbiIsIkFQSV9ST1VURV9HRVRPTklPTiIsIkFQSV9ST1VURV9HRVRFVkFMVUFUSU9OIiwiZ2V0c2VtaW90aWMiLCJBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksiLCJBUElfUk9VVEVfR0VUQ0FSRiIsInJlbW92ZXByb2JsZW0iLCJBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSIsImdldHByb2JsZW1zY29sbGFib3JhdG9yIiwiQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiIsIkFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IiLCJBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQiLCJzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIiLCJpbml0U2VtaW90aWNGcmFtZXdvcmsiLCJzZW1pb3RpY2ZyYW1ld29yayIsInNhdmVTb2NpYWxXb3JsZCIsInRleHQiLCJmbGFnU2F2ZSIsInNhdmVQcmFnbWF0aWMiLCJzYXZlU2VtYW50aWMiLCJzYXZlU3ludGF0aWMiLCJzYXZlRW1waXJpY2FsIiwic2F2ZVBoeXNpY2FsIiwic29jaWFsd29ybGQiLCJwcmFnbWF0aWMiLCJzZW1pb3RpY3JhbWV3b3JrIiwic3ludGF0aWMiLCJlbXBpcmljYWwiLCJwaHlzaWNhbCIsInN0YWtlaG9sZGVyQ29udHJvbGxlciIsIiRtZERpYWxvZyIsImludGl0T25pb24iLCJzYXZlU3Rha2Vob2xkZXIiLCJzZXRPcGVuRWRpdCIsInJlbW92ZVBvc3RJdCIsImRlbFBvc3RJdCIsImV2IiwiY29uZmlybSIsInBhcmVudCIsImJvZHkiLCJ0aXRsZSIsImNvbnRlbnQiLCJhcmlhTGFiZWwiLCJvayIsImNhbmNlbCIsInRhcmdldEV2ZW50IiwidGhlbiIsImFkZFBvc3RJdCIsImUiLCJjYW1hZGEiLCJ4IiwicGFnZVgiLCJ5IiwiYWNlbmRlIiwic2V0QXR0cmlidXRlIiwiYXBhZ2EiLCJtb3ZlIiwidXBkYXRlQ29kZU9uaW9uIiwiemluZGV4Iiwic3R5bGUiLCJkaXNwbGF5Iiwic3RhcnRQcm9ibGVtQ29udHJvbGxlciIsImdldFByb2JsZW1zIiwidXNlcmlkIiwicmVwbGFjZSIsInN1YnN0cmluZyIsInByb2JsZW1MaXN0IiwicHJvYmxlbUNvbGxhYm9yYXRvckxpc3QiLCJsb2dpbkluUHJvZ3Jlc3MiLCJkZWxldGVQcm9ibGVtIiwicHJvYmxlbWlkIiwicmV2b212ZVByb2JsZW0iLCJzdGFydE5ld1Byb2JsZW0iLCJlZGl0UHJvYmxlbSIsInNldEl0ZW0iLCJlZGl0UHJvZmlsZSIsIm5ld1Byb2JsZW0iLCJEaWFsb2dDb250cm9sbGVyIiwiJHNjb3BlIiwiYWRkTmV3UHJvYmxlbSIsInZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIiLCJpbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lIiwiayIsInN1Z2VzdGlvblZhbHVlc0FycmF5Iiwic3VnZXN0aW9uVmFsdWVzIiwiaiIsIm5ld1ZhbHVlcyIsInNldFN1Z2dlc3Rpb25TaG93IiwibGVhdmVTdWdnZXN0aW9uU2hvdyIsInJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uIiwidmFsdWUiLCJuZXdMaXN0Iiwic2V0VmFsdWVJZGVudGljYXRpb24iLCJ2YWx1ZXNMaXN0Iiwic3BsaXQiLCJmaW5kVmFsdWUiLCJsaXN0IiwibmV3dmFsdWVzIiwicHJvZmlsZUNvbnRyb2xsZXIiLCJzaWdudXBTZXJ2aWNlIiwic3RhcnRQcm9maWxlIiwic2F2ZVBob3RvIiwibXlpbWFnZSIsInVzZXJQaG90byIsInVwbG9hZFBob3RvIiwidXBsb2FkSW5Qcm9ncmVzcyIsInVwbG9hZFByb2dyZXNzIiwibXlJbWFnZSIsIm15Q3JvcHBlZEltYWdlIiwiaGFuZGxlRmlsZVNlbGVjdCIsImV2dCIsImZpbGUiLCJjdXJyZW50VGFyZ2V0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiJGFwcGx5IiwidGFyZ2V0IiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsInF1ZXJ5U2VsZWN0b3IiLCJzaWdudXBDb250cm9sbGVyIiwiQXV0aFRva2VuIiwiJGZpbHRlciIsIiRzdGF0ZVBhcmFtcyIsInNhdmVVc2VyIiwidXNlciIsImNyZWF0ZSIsInJlc2N1ZVBhc3N3b3JkIiwidXNlckVtYWlsIiwiY2hhbmdlUGFzc3dvcmQiLCJBUElfUk9VVEVfVVNFUiIsIkFQSV9ST1VURV9SRVNDVUVQQVNTV09SRCIsIm15dG9rZW5VUkwiLCJzZWFyY2giLCJBUElfUk9VVEVfU0VUTkVXUEFTU1dPUkQiLCJteXRva2VuIiwicGFzc3dvcmQiLCJBUElfUk9VVEVfVVBEQVRFUEhPVE8iLCJhcHBDb25maWciLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJuZW9uUmVkTWFwIiwiZXh0ZW5kUGFsZXR0ZSIsIjUwIiwiMTAwIiwiMjAwIiwiMzAwIiwiNDAwIiwiNTAwIiwiNjAwIiwiNzAwIiwiODAwIiwiOTAwIiwiQTEwMCIsIkEyMDAiLCJBNDAwIiwiQTcwMCIsImNvbnRyYXN0RGVmYXVsdENvbG9yIiwiY29udHJhc3REYXJrQ29sb3JzIiwiY29udHJhc3RMaWdodENvbG9ycyIsImRlZmluZVBhbGV0dGUiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiYWNjZW50UGFsZXR0ZSIsIiRxIiwiYXV0aEZhY3RvcnkiLCJsb2dpbiIsInNldFRva2VuIiwidG9rZW4iLCJpc0xvZ2dlZEluIiwiZ2V0VG9rZW4iLCJnZXRVc2VyIiwicmVqZWN0IiwiYXV0aFRva2VuRmFjdG9yeSIsInJlbW92ZUl0ZW0iLCJpbnRlcmNlcHRvckZhY3RvcnkiLCJyZXF1ZXN0IiwiaGVhZGVycyIsIiRkb2N1bWVudCIsImxpbmsiLCJzY29wZSIsImF0dHIiLCJtb3VzZW1vdmUiLCJldmVudCIsImlkX2RpdiIsInBhZ2VZIiwiY3NzIiwidG9wIiwibGVmdCIsIm1vdXNldXAiLCJ1bmJpbmQiLCJwcmV2ZW50RGVmYXVsdCIsImJpbmQiLCJsb2dpbkNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiZ2V0TG9jYWxDb2RlIiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwiZG9Mb2dpbiIsImVycm9yIiwibGFuZ3VhZ2UiLCJ1c2VyRGF0YSIsImxvZ2dlZEluIiwiJG9uIiwic29ja2V0IiwiaW8iLCJldmVudE5hbWUiLCJjYWxsYmFjayIsInJlbW92ZUxpc3RlbmVyIl0sIm1hcHBpbmdzIjoiQ0FHQSxXQUNBLFlBRUFBLFNBQ0FDLE9BQUEsT0FBQSxZQUFBLGVBQUEsY0FBQSxtQkFBQSxVQUFBLGNBQUEsWUFBQSxhQUFBLFlBQUEsWUFBQSwyQkFDQUMsUUFBQSxnQkFBQSxTQUFBQyxHQUNBQSxFQUFBQyxhQUFBQyxLQUFBLHlCQ05BLFdBRUEsWUFjQSxTQUFBQyxHQUFBQyxHQWdCQSxRQUFBQyxHQUFBQSxHQUNBQyxLQUFBQyxRQUFBRixFQUNBRCxFQUFBSSxNQUVBQyxXQUFBLGtCQUNBQyxhQUFBLEtBQ0FDLFlBQUEsNEJBQ0FDLE9BQUEsS0FDQUMsaUJBQUEsRUFDQUMsU0FBQSxZQUNBQyxVQUFBLE1BekJBLEdBQUFDLElBQ0FULFFBQUEsR0FDQUYsYUFBQUEsRUFFQSxPQUFBVyxHQWpCQW5CLFFBQUFDLE9BQUEsbUJBQ0FXLFdBQUEsbUJBQUEsV0FBQSxXQUFBLFNBQUFMLEVBQUFELEdBQ0EsR0FBQWMsR0FBQVgsSUFDQVcsR0FBQVYsUUFBQUosRUFBQUksUUFDQVUsRUFBQUMsV0FBQSxXQUNBZCxFQUFBZSxXQUdBQyxRQUFBLFdBQUFqQixHQUVBQSxFQUFBa0IsU0FBQSxlQ2RBLFdBQ0EsWUFNQSxTQUFBQyxHQUFBQyxFQUFBQyxHQUdBRCxFQUFBRSxNQUFBLFFBQ0FDLElBQUEsSUFDQWYsWUFBQSw0QkFDQUYsV0FBQSwwQkFFQWdCLE1BQUEsY0FDQUMsSUFBQSxRQUNBQyxPQUNBQyxlQUNBakIsWUFBQSw2QkFDQUYsV0FBQSw0QkFJQWdCLE1BQUEsZUFDQUMsSUFBQSxTQUNBQyxPQUNBQyxlQUNBakIsWUFBQSwwQkFDQUYsV0FBQSw2QkFJQWdCLE1BQUEsdUJBQ0FDLElBQUEsaUJBQ0FDLE9BQ0FDLGVBQ0FqQixZQUFBLGtDQUNBRixXQUFBLDZCQUlBZ0IsTUFBQSxnQkFDQUMsSUFBQSxnQkFDQWYsWUFBQSxnQ0FDQUYsV0FBQSxpQ0FHQWdCLE1BQUEsV0FDQUMsSUFBQSxXQUNBZixZQUFBLDJCQUNBRixXQUFBLDRCQUdBZ0IsTUFBQSxhQUNBQyxJQUFBLGFBQ0FmLFlBQUEsaUNBQ0FGLFdBQUEsa0NBRUFnQixNQUFBLGVBQ0FDLElBQUEsd0JBQ0FmLFlBQUEsK0JBQ0FGLFdBQUEsMkJBRUFnQixNQUFBLFdBQ0FDLElBQUEsV0FDQWYsWUFBQSwyQkFDQUYsV0FBQSxnQ0FFQWdCLE1BQUEsdUJBQ0FDLElBQUEsZUFDQUMsT0FDQUUsdUJBQ0FsQixZQUFBLHNDQUNBRixXQUFBLGtDQUlBZ0IsTUFBQSx5QkFDQUMsSUFBQSxpQkFDQUMsT0FDQUUsdUJBQ0FsQixZQUFBLGlDQUNBRixXQUFBLG9DQUlBZ0IsTUFBQSx3QkFDQUMsSUFBQSxnQkFDQUMsT0FDQUcsZ0JBQ0FuQixZQUFBLGdDQUNBRixXQUFBLGtDQUlBZ0IsTUFBQSwrQkFDQUMsSUFBQSx1QkFDQUMsT0FDQUcsZ0JBQ0FuQixZQUFBLHVDQUNBRixXQUFBLDBDQUtBZ0IsTUFBQSw2QkFDQUMsSUFBQSxxQkFDQUMsT0FDQUcsZ0JBQ0FuQixZQUFBLHFDQUNBRixXQUFBLHdDQUlBZ0IsTUFBQSxnQkFDQUMsSUFBQSxRQUNBQyxPQUNBRyxnQkFDQW5CLFlBQUEsd0JBQ0FGLFdBQUEsMkJBSUFnQixNQUFBLGVBQ0FDLElBQUEsT0FDQUMsT0FDQUcsZ0JBQ0FuQixZQUFBLHVCQUNBRixXQUFBLCtDQUlBZSxFQUFBTyxVQUFBLFVBbElBbEMsUUFDQUMsT0FBQSxPQUNBQyxPQUFBdUIsR0M2TUlBLEVBQU9ELFNBQVcsaUJBQWtCLHlCQ2xOeEMsV0FFQSxZQVdBLFNBQUFXLEdBQUFDLEdBQ0FBLEVBQUFDLHNCQUNBQyxPQUFBLHFCQUNBQyxPQUFBLFVBRUFILEVBQUFJLGtCQUFBLE1BQ0FKLEVBQUFLLHlCQUFBLFdBQ0FMLEVBQUFNLGtCQUdBLFFBQUFDLEdBQUFDLEdBR0EsUUFBQUMsR0FBQUMsR0FDQUYsRUFBQUcsSUFBQUQsR0FIQSxHQUFBMUIsR0FBQVgsSUFDQVcsR0FBQXlCLFFBQUFBLEVBTUEsUUFBQUcsS0FDQSxPQUNBbEMsWUFBQSxtQ0FDQW1DLFNBQUEsS0E5QkFqRCxRQUNBQyxPQUFBLE9BQ0FDLE9BQUFpQyxHQUNBdkIsV0FBQSxxQkFBQStCLEdBQ0FPLFVBQUEsaUJBQUFGLEdBRUFiLEVBQUFYLFNBQUEsc0JBQ0FtQixFQUFBbkIsU0FBQSxpQkNYQSxXQUVBLFlBS0EsU0FBQTJCLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFoRCxHQXlCQSxRQUFBaUQsS0FDQW5DLEVBQUFvQyxVQUFBSixFQUFBSyxhQUFBQyxRQUFBLGFBQ0FKLEVBQUFLLFFBQUF2QyxFQUFBb0MsV0FDQUksUUFBQSxTQUFBQyxHQUNBQSxFQUFBRCxVQUNBeEMsRUFBQTBDLGtCQUFBRCxFQUFBRSxhQUNBM0MsRUFBQTRDLGdCQUFBNUMsRUFBQTBDLGtCQUNBMUMsRUFBQTZDLFNBQUFKLEVBQUFLLEtBQ0E5QyxFQUFBK0MsaUJBQUEvQyxFQUFBZ0QscUJBR0FoRCxFQUFBaUQsY0FBQSxFQUdBLFFBQUFDLEtBQ0FsRCxFQUFBOEMsTUFDQUssSUFBQSxHQUNBQyxJQUFBLEdBQ0FDLFVBQ0FDLFNBQUEsR0FDQUMsWUFBQSxHQUNBWixpQkFFQTNDLEVBQUF3RCxhQVdBLFFBQUFDLEdBQUFYLEdBRUEsS0FBQUEsRUFBQU0sSUFDQWxFLEVBQUFFLGFBQUEsY0FFQTBELEVBQUFPLE9BQUFLLE9BQUEsRUFDQXhFLEVBQUFFLGFBQUEsNEJBRUEwRCxFQUFBSCxhQUFBZSxPQUFBLEVBQ0F4RSxFQUFBRSxhQUFBLHFDQUVBLEtBQUEwRCxFQUFBUSxTQUNBcEUsRUFBQUUsYUFBQSwwQ0FFQTZDLEVBQUEwQixLQUFBLG1CQUFBYixHQUNBOUMsRUFBQTRDLG1CQUNBNUMsRUFBQStDLHFCQVlBLFFBQUFhLEdBQUFDLEVBQUFmLEdBQ0EsR0FBQWdCLElBQ0FELE1BQUFBLEVBQ0FmLEtBQUFBLEVBRUFiLEdBQUEwQixLQUFBLHNCQUFBRyxHQUlBLFFBQUFDLEdBQUFYLEdBQ0FZLFNBQUFaLEdBQ0F4RSxRQUFBcUYsUUFBQWpFLEVBQUFrRSxhQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQWYsS0FBQUEsR0FDQXBELEVBQUE4QyxLQUFBTyxlQUNBckQsRUFBQXdELFVBQUFXLEVBQUFkLFNBRkEsU0FTQSxRQUFBZSxHQUFBZCxHQUNBdEQsRUFBQThDLEtBQUFRLFNBQUFBLEVBR0EsUUFBQWUsR0FBQUMsR0FDQSxHQUFBLElBQUF0RSxFQUFBOEMsS0FBQU8sT0FBQUssT0FDQTFELEVBQUE4QyxLQUFBTyxPQUFBcEUsS0FBQXFGLE9BQ0EsQ0FDQSxJQUFBLEdBQUFDLEdBQUEsRUFBQUEsRUFBQXZFLEVBQUE4QyxLQUFBTyxPQUFBSyxPQUFBYSxJQUNBLEdBQUFELEdBQUF0RSxFQUFBOEMsS0FBQU8sT0FBQWtCLEdBRUEsV0FEQXZFLEdBQUE4QyxLQUFBTyxPQUFBbUIsT0FBQUQsRUFBQSxFQUlBdkUsR0FBQThDLEtBQUFPLE9BQUFwRSxLQUFBcUYsSUFJQSxRQUFBRyxHQUFBQyxHQUNBLEdBQUEsSUFBQTFFLEVBQUE4QyxLQUFBSCxhQUFBZSxPQUNBMUQsRUFBQThDLEtBQUFILGFBQUExRCxLQUFBeUYsT0FDQSxDQUNBLElBQUEsR0FBQUgsR0FBQSxFQUFBQSxFQUFBdkUsRUFBQThDLEtBQUFILGFBQUFlLE9BQUFhLElBQ0EsR0FBQUcsR0FBQTFFLEVBQUE4QyxLQUFBSCxhQUFBNEIsR0FFQSxXQURBdkUsR0FBQThDLEtBQUFILGFBQUE2QixPQUFBRCxFQUFBLEVBSUF2RSxHQUFBOEMsS0FBQUgsYUFBQTFELEtBQUF5RixJQXRJQSxHQUFBMUUsR0FBQVgsSUFDQVcsR0FBQW9DLFVBQUEsR0FDQXBDLEVBQUFpRCxjQUFBLEVBQ0FqRCxFQUFBd0QsYUFDQXhELEVBQUE0QyxtQkFDQTVDLEVBQUEwQyxxQkFDQTFDLEVBQUF5RCxZQUFBQSxFQUNBekQsRUFBQTRELFdBQUFBLEVBQ0E1RCxFQUFBK0QsZUFBQUEsRUFDQS9ELEVBQUFvRSxZQUFBQSxFQUNBcEUsRUFBQXFFLGFBQUFBLEVBQ0FyRSxFQUFBeUUsZUFBQUEsRUFDQXpFLEVBQUE4QyxNQUNBTSxJQUFBLEdBQ0FDLFVBQ0FDLFNBQUEsR0FDQUMsWUFBQSxHQUNBWixpQkFFQTNDLEVBQUFtQyxTQUFBQSxFQUNBbkMsRUFBQTZDLFlBQ0E3QyxFQUFBK0Msb0JBNkJBZCxFQUFBMEMsR0FBQSxxQkFBQSxTQUFBN0IsR0FDQTlDLEVBQUE2QyxTQUFBNUQsS0FBQTZELEdBQ0FJLElBQ0FsRCxFQUFBNEMsZ0JBQUE1QyxFQUFBMEMsa0JBQ0ExQyxFQUFBK0MsaUJBQUEvQyxFQUFBZ0Qsb0JBMkJBZixFQUFBMEMsR0FBQSx3QkFBQSxTQUFBQyxHQUNBNUUsRUFBQTZDLFNBQUEyQixPQUFBSSxFQUFBLEtBd0RBNUUsRUFBQWdELG1CQUFBLE1BQUEsU0FBQSxRQUVBaEQsRUFBQWtFLGVBRUFkLElBQUEsY0FDQUMsUUFDQSxXQUNBLFdBSUFELElBQUEsY0FDQUMsUUFDQSxlQUNBLFNBQ0EsZUFDQSxXQUlBRCxJQUFBLFdBQ0FDLFFBQ0Esd0JBSUFELElBQUEsT0FDQUMsUUFDQSxhQUNBLDJCQUlBRCxJQUFBLGFBQ0FDLFFBQ0EsbUJBQ0EsYUFDQSxjQUlBRCxJQUFBLGVBQ0FDLFFBQ0EsZ0JBQ0EsU0FDQSx1QkFDQSxlQUlBRCxJQUFBLGFBQ0FDLFFBQ0EsZUFDQSxZQUNBLGNBSUFELElBQUEsaUJBQ0FDLFFBQ0EsY0FDQSxVQUNBLGNBQ0EsZ0JBSUFELElBQUEsaUJBQ0FDLFFBQ0EsV0FDQSxnQkFDQSxVQUNBLGtCQUlBRCxJQUFBLGNBQ0FDLFFBQ0EsaUJBN05BekUsUUFBQUMsT0FBQSxPQUNBVyxXQUFBLGlCQUFBdUMsR0ZvZUlBLEVBQWUzQixTQUFXLFVBQVcsU0FBVSxpQkFBa0IsZUd4ZXJFLFdBRUEsWUFNQSxTQUFBeUUsR0FBQUMsRUFBQTdDLEVBQUFDLEVBQUFGLEdBZUEsUUFBQStDLEtBQ0EvRSxFQUFBZ0YsWUFBQWhGLEVBQUFnRixXQUNBQyxTQUFBQyxlQUFBLFdBQUFDLFFBR0EsUUFBQUMsS0FDQXBGLEVBQUFvQyxVQUFBSixFQUFBSyxhQUFBQyxRQUFBLGFBQ0F0QyxFQUFBcUYsU0FBQXJELEVBQUFLLGFBQUFDLFFBQUEsWUFDQXRDLEVBQUFzRixNQUFBdEQsRUFBQUssYUFBQUMsUUFBQSxTQUNBSixFQUFBcUQsZUFBQXZGLEVBQUFvQyxXQUNBSSxRQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQUQsUUFDQSxJQUFBLEdBQUErQixHQUFBLEVBQUFBLEVBQUE5QixFQUFBK0MsWUFBQTlCLE9BQUFhLElBQUEsQ0FDQSxHQUFBa0IsR0FBQSxHQUFBQyxNQUFBakQsRUFBQStDLFlBQUFqQixHQUFBb0IsTUFDQUMsR0FDQVAsU0FBQTVDLEVBQUErQyxZQUFBakIsR0FBQWMsU0FDQVEsSUFBQXBELEVBQUErQyxZQUFBakIsR0FBQXNCLElBQ0FGLEtBQUFGLEVBQUFLLFVBQUEsS0FBQUwsRUFBQU0sV0FBQSxHQUFBLElBQUFOLEVBQUFPLGNBQUEsS0FBQVAsRUFBQVEsV0FBQSxJQUFBUixFQUFBUyxhQUFBLEtBRUFsRyxHQUFBbUcsU0FBQWxILEtBQUEyRyxNQUlBM0QsRUFBQTBCLEtBQUEsY0FHQSxRQUFBeUMsS0FDQXBHLEVBQUFxRyxPQUNBckcsRUFBQXFHLFFBQUEsRUFFQXJHLEVBQUFxRyxRQUFBLEVBaUJBLFFBQUFDLEdBQUFDLEdBQ0F2QyxTQUFBdUMsR0FBQUEsRUFBQTdDLE9BQUEsSUFHQXpCLEVBQUEwQixLQUFBLGdCQUFBNEMsR0FDQXZHLEVBQUF3RyxPQUFBLElBakVBLEdBQUF4RyxHQUFBWCxJQUNBVyxHQUFBd0csT0FBQSxHQUNBeEcsRUFBQW1HLFlBQ0FuRyxFQUFBcUcsUUFBQSxFQUNBckcsRUFBQXFGLFNBQUEsR0FDQXJGLEVBQUF5RyxZQUNBekcsRUFBQW9GLGdCQUFBQSxFQUNBcEYsRUFBQW9HLFdBQUFBLEVBQ0FwRyxFQUFBc0csWUFBQUEsRUFDQXRHLEVBQUFzRixNQUFBLEdBQ0F0RixFQUFBK0UsU0FBQUEsRUFDQS9FLEVBQUFnRixZQUFBLEVBb0NBL0MsRUFBQTBDLEdBQUEsa0JBQUEsU0FBQWIsR0FDQSxHQUFBMkIsR0FBQSxHQUFBQyxNQUFBNUIsRUFBQUEsRUFBQUosT0FBQSxHQUFBaUMsS0FDQTNGLEdBQUFtRyxTQUFBbEgsTUFDQW9HLFNBQUF2QixFQUFBQSxFQUFBSixPQUFBLEdBQUEyQixTQUNBUSxJQUFBL0IsRUFBQUEsRUFBQUosT0FBQSxHQUFBbUMsSUFDQUYsS0FBQUYsRUFBQUssVUFBQSxLQUFBTCxFQUFBTSxXQUFBLEdBQUEsSUFBQU4sRUFBQU8sY0FBQSxLQUFBUCxFQUFBUSxXQUFBLElBQUFSLEVBQUFTLGFBQUEsU0FJQWpFLEVBQUEwQyxHQUFBLGVBQUEsU0FBQThCLEdBQ0F6RyxFQUFBeUcsU0FBQUEsSUEvREE3SCxRQUNBQyxPQUFBLE9BQ0FXLFdBQUEsVUFBQXFGLEdId2pCR0EsRUFBUXpFLFNBQVcsV0FBWSxTQUFVLGlCQUFrQixjSTdqQjlELFdBRUEsWUFNQSxTQUFBc0csR0FBQTFFLEVBQUFDLEVBQUFDLEVBQUFoRCxHQVVBLFFBQUF5SCxLQUNBM0csRUFBQW9DLFVBQUFKLEVBQUFLLGFBQUFDLFFBQUEsYUFDQXRDLEVBQUE0RyxVQUFBNUUsRUFBQUssYUFBQUMsUUFBQSxhQUNBSixFQUFBMkUsaUJBQUE3RyxFQUFBb0MsV0FDQUksUUFBQSxTQUFBQyxHQUNBQSxFQUFBRCxRQUNBeEMsRUFBQThHLGNBQUFyRSxFQUFBcUUsY0FHQTVILEVBQUFFLGFBQUFxRCxFQUFBbkQsV0FLQSxRQUFBeUgsR0FBQUMsR0FDQSxJQUFBLEdBQUF6QyxHQUFBLEVBQUFBLEVBQUF2RSxFQUFBOEcsY0FBQXBELE9BQUFhLElBQ0EsR0FBQXlDLEdBQUFoSCxFQUFBOEcsY0FBQXZDLEdBQUF5QyxNQUNBLE9BQUEsQ0FHQSxRQUFBLEVBR0EsUUFBQUMsR0FBQUQsR0FDQSxHQUFBaEgsRUFBQTRHLFdBQUFJLEVBQ0E5SCxFQUFBRSxhQUFBWSxFQUFBNEcsVUFBQSwyQkFFQSxJQUFBRyxFQUFBQyxHQUNBOUgsRUFBQUUsYUFBQSwyQkFDQSxDQUNBLEdBQUE4SCxJQUNBQyxVQUFBbkgsRUFBQW9DLFVBQ0E0RSxNQUFBQSxFQUVBOUUsR0FBQWdGLE9BQUFBLEdBQ0ExRSxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFELFFBQ0F4QyxFQUFBOEcsY0FBQXJFLEVBQUFxRSxjQUVBNUgsRUFBQUUsYUFBQXFELEVBQUFuRCxZQU9BLFFBQUE4SCxHQUFBQyxHQUNBLEdBQUF2RCxJQUNBcUQsVUFBQW5ILEVBQUFvQyxVQUNBNEUsTUFBQUssRUFBQUwsTUFFQTlFLEdBQUFvRixvQkFBQXhELEdBQ0F0QixRQUFBLFNBQUFDLEdBQ0FBLEVBQUFELFNBQ0F0RCxFQUFBRSxhQUFBLHdDQUNBWSxFQUFBOEcsY0FBQXJFLEVBQUFxRSxlQUVBNUgsRUFBQUUsYUFBQXFELEVBQUFuRCxXQWpFQSxHQUFBVSxHQUFBWCxJQUNBVyxHQUFBb0MsVUFBQSxHQUNBcEMsRUFBQThHLGlCQUNBOUcsRUFBQTRHLFVBQUEsR0FDQTVHLEVBQUEyRyxrQkFBQUEsRUFDQTNHLEVBQUFpSCxnQkFBQUEsRUFDQWpILEVBQUFvSCxtQkFBQUEsRUFaQXhJLFFBQ0FDLE9BQUEsT0FDQVcsV0FBQSwwQkFBQWtILEdKcXVCSUEsRUFBd0J0RyxTQUFXLFVBQVcsU0FBVSxpQkFBa0IsZUs1dUI5RSxXQUVBLFlBTUEsU0FBQW1ILEtBTUEsUUFBQUMsR0FBQUMsR0FDQSxHQUFBQyxHQUFBekMsU0FBQUMsZUFBQSxrQkFDQXlDLEVBQUEsR0FBQUMsT0FBQSxJQUFBLEtBQ0FELEdBQUFFLFFBQ0FILEVBQUEsRUFBQSxHQUNBSSxXQUFBLEdBRUEsU0FBQUMsR0FDQUosRUFBQUssS0FBQSxjQVpBLEdBQUFoSSxHQUFBWCxJQUNBVyxHQUFBbUgsVUFBQSxvQkFDQW5ILEVBQUF3SCxXQUFBQSxFQVJBNUksUUFDQUMsT0FBQSxPQUNBVyxXQUFBLHNCQUFBK0gsTUNQQSxXQUVBLFlBTUEsU0FBQVUsR0FBQWpHLEVBQUFFLEVBQUFELEVBQUEvQyxHQVFBLFFBQUFnSixLQUNBbEksRUFBQW1ILFVBQUFuRixFQUFBSyxhQUFBQyxRQUFBLGFBQ0FKLEVBQUFpRyxjQUFBbkksRUFBQW1ILFdBQ0EzRSxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFELFFBQ0F4QyxFQUFBb0ksd0JBQUEzRixFQUFBNEYsb0JBRUFuSixFQUFBRSxhQUFBcUQsRUFBQW5ELFdBc0JBLFFBQUFnSixHQUFBQyxHQUNBdEcsRUFBQTBCLEtBQUEscUJBQUE0RSxHQVFBLFFBQUFDLEdBQUFDLEdBQ0FBLEVBQUFDLFVBQUEsRUE3Q0EsR0FBQTFJLEdBQUFYLElBQ0FXLEdBQUFvSSwyQkFDQXBJLEVBQUFrSSxlQUFBQSxFQUNBbEksRUFBQXdJLHFCQUFBQSxFQUNBeEksRUFBQXNJLGNBQUFBLEVBY0FyRyxFQUFBMEMsR0FBQSx1QkFBQSxTQUFBbEMsR0FDQTdELFFBQUFxRixRQUFBakUsRUFBQW9JLHdCQUFBLFNBQUFDLEdBQ0FBLEVBQUFNLFlBQUFsRyxFQUFBa0csWUFDQS9KLFFBQUFxRixRQUFBb0UsRUFBQTFGLGFBQUEsU0FBQTRGLEdBQ0FBLEVBQUFwRixLQUFBVixFQUFBVSxNQUNBb0YsRUFBQUssS0FBQW5HLEVBQUFtRyxLQUNBTCxFQUFBSSxXQUFBbEcsRUFBQWtHLFdBQ0FKLEVBQUFNLFlBQUFwRyxFQUFBb0csWUFDQU4sRUFBQUcsU0FBQWpHLEVBQUFpRyxTQUNBSCxFQUFBTyxTQUFBckcsRUFBQXFHLFNBQ0FQLEVBQUFRLFVBQUF0RyxFQUFBc0csaUJBV0E5RyxFQUFBMEMsR0FBQSxzQkFBQSxTQUFBcUUsR0FDQUMsUUFBQUMsSUFBQUYsS0E5Q0FwSyxRQUNBQyxPQUFBLE9BQ0FXLFdBQUEsZ0NBQUF5SSxHTnkwQkVBLEVBQThCN0gsU0FBVyxVQUFXLGlCQUFrQixTQUFVLGVPbDFCbEYsV0FDQSxZQU1BLFNBQUErSSxHQUFBQyxFQUFBQyxFQUFBckgsRUFBQUUsRUFBQWhELEVBQUErQyxHQVlBLFFBQUFxSCxLQUNBdEosRUFBQXFGLFNBQUFyRCxFQUFBSyxhQUFBQyxRQUFBLFlBQ0F0QyxFQUFBb0MsVUFBQUosRUFBQUssYUFBQUMsUUFBQSxhQUNBSixFQUFBcUgsV0FBQXZKLEVBQUFvQyxXQUNBSSxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFELFFBQ0F4QyxFQUFBd0osUUFBQS9HLEVBQUErRyxRQUVBdEssRUFBQUUsYUFBQXFELEVBQUFuRCxVQUdBLElBQUFtSyxJQUNBdEMsVUFBQW5ILEVBQUFvQyxVQUNBaUQsU0FBQXJGLEVBQUFxRixTQUVBcEQsR0FBQTBCLEtBQUEsY0FBQThGLEdBRUEsUUFBQUMsS0FDQUwsRUFBQU0sR0FBQSxnQkFJQSxRQUFBQyxLQUNBUCxFQUFBTSxHQUFBLHlCQUdBLFFBQUFFLEtBQ0FSLEVBQUFNLEdBQUEsYUFHQSxRQUFBRyxLQUNBVCxFQUFBTSxHQUFBLHVCQUdBLFFBQUFJLEtBQ0FYLEVBQUFZLFNBQ0FYLEVBQUFNLEdBQUEsY0E5Q0EsR0FBQTNKLEdBQUFYLElBRUFXLEdBQUE0SixxQkFBQUEsRUFDQTVKLEVBQUE4Six1QkFBQUEsRUFDQTlKLEVBQUErSixTQUFBQSxFQUNBL0osRUFBQTBKLGFBQUFBLEVBQ0ExSixFQUFBNkosa0JBQUFBLEVBQ0E3SixFQUFBc0osa0JBQUFBLEVBQ0F0SixFQUFBcUYsU0FkQXpHLFFBQ0FDLE9BQUEsT0FDQVcsV0FBQSx3QkFBQTJKLEdQNDRCSUEsRUFBdUIvSSxTQUFXLE9BQVEsU0FBVSxVQUFXLGlCQUFrQixXQUFZLGFRajVCakcsV0FFQSxZQU1BLFNBQUE2SixHQUFBaEksRUFBQTZDLEVBQUE1RixFQUFBOEMsRUFBQUUsR0FZQSxRQUFBb0gsS0FFQXRKLEVBQUFxRixTQUFBckQsRUFBQUssYUFBQUMsUUFBQSxZQUNBdEMsRUFBQW9DLFVBQUFKLEVBQUFLLGFBQUFDLFFBQUEsYUFDQXRDLEVBQUFrSyxVQUFBbEksRUFBQUssYUFBQUMsUUFBQSxhQUdBSixFQUFBcUgsV0FBQXZKLEVBQUFvQyxXQUNBSSxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFELFFBQ0F4QyxFQUFBd0osUUFBQS9HLEVBQUErRyxRQUVBdEssRUFBQUUsYUFBQXFELEVBQUFuRCxVQUdBLElBQUFtSyxJQUNBdEMsVUFBQW5ILEVBQUFvQyxVQUNBaUQsU0FBQXJGLEVBQUFxRixTQUVBcEQsR0FBQTBCLEtBQUEsY0FBQThGLEdBR0EsUUFBQVUsS0FDQUMsR0FBQSxFQVVBLFFBQUFDLEdBQUFiLEdBQ0FBLEVBQUFjLE9BQUFGLEVBQ0FaLEVBQUFVLFVBQUFsSyxFQUFBa0ssVUFDQWpJLEVBQUEwQixLQUFBLG9CQUFBNkYsR0FDQVksSUFDQUEsR0FBQSxFQUNBdEYsRUFBQXFGLEVBQUEsTUFJQSxRQUFBSSxHQUFBZixHQUNBQSxFQUFBVSxVQUFBbEssRUFBQWtLLFVBQ0FWLEVBQUFjLE9BQUFGLEVBQ0FuSSxFQUFBMEIsS0FBQSxvQkFBQTZGLEdBeERBLEdBQUF4SixHQUFBWCxLQUNBK0ssR0FBQSxDQUNBcEssR0FBQXdKLFFBQUEsR0FDQXhKLEVBQUFxSyxjQUFBQSxFQUNBckssRUFBQXNKLGtCQUFBQSxFQUNBdEosRUFBQXVLLGdCQUFBQSxFQUNBdkssRUFBQXFGLFNBQ0FyRixFQUFBa0ssVUFBQSxHQTZCQWpJLEVBQUEwQyxHQUFBLHNCQUFBLFNBQUE2RixHQUNBeEssRUFBQWtLLFlBQUFNLEVBQUFOLFlBQ0FsSyxFQUFBd0osUUFBQVgsWUFBQTJCLEVBQUEzQixhQUVBN0ksRUFBQXdKLFFBQUFjLE9BQUFGLElBOUNBeEwsUUFBQUMsT0FBQSxPQUNBVyxXQUFBLHdCQUFBeUssR0FDQUEsRUFBQVEsV0FBQSxTQUFBLFVSczlCQVIsRUFBdUI3SixTQUFXLFNBQVUsV0FBWSxXQUFZLFVBQVcscUJTeDlCL0UsV0FFQSxZQU9BLFNBQUFzSyxHQUFBMUksRUFBQUUsRUFBQWhELEVBQUFtSyxHQVFBLFFBQUFzQixLQUVBM0ssRUFBQW9DLFVBQUFKLEVBQUFLLGFBQUFDLFFBQUEsYUFFQUosRUFBQTBJLGlCQUFBNUssRUFBQW9DLFdBQ0FJLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUQsUUFDQXhDLEVBQUF3SixRQUFBL0csRUFBQStHLFFBRUF0SyxFQUFBRSxhQUFBcUQsRUFBQW5ELFdBTUEsUUFBQW9LLEtBQ0FMLEVBQUFNLEdBQUEsd0JBdEJBLEdBQUEzSixHQUFBWCxJQUNBVyxHQUFBb0MsVUFDQXBDLEVBQUF3SixRQUNBeEosRUFBQTJLLGtCQUFBQSxFQUNBM0ssRUFBQTBKLGFBQUFBLEVBWEE5SyxRQUNBQyxPQUFBLE9BQ0FXLFdBQUEsMEJBQUFrTCxHVDgvQktBLEVBQXdCdEssU0FBVyxVQUFXLGlCQUFrQixXQUFZLGFVeGdDakYsV0FDQSxZQVFBLFNBQUE4QixHQUFBMkksRUFBQUMsR0FvQ0EsUUFBQUMsR0FBQXRJLEdBQ0EsTUFBQW9JLEdBQUFHLEtBQUFDLEVBQUF4SSxHQUdBLFFBQUFtSSxHQUFBbkksR0FDQSxNQUFBb0ksR0FBQUssSUFBQUMsRUFBQSxjQUFBMUksR0FHQSxRQUFBOEcsR0FBQTlHLEdBQ0EsTUFBQW9JLEdBQUFLLElBQUFFLEVBQUEsY0FBQTNJLEdBR0EsUUFBQTRJLEdBQUE1SSxHQUNBLE1BQUFvSSxHQUFBSyxJQUFBSSxFQUFBLFVBQUE3SSxHQUdBLFFBQUFvRSxHQUFBcEUsR0FDQSxNQUFBb0ksR0FBQUssSUFBQUssRUFBQSxjQUFBOUksR0FHQSxRQUFBeUUsR0FBQXpFLEdBQ0EsTUFBQW9JLEdBQUFHLEtBQUFRLEVBQUEvSSxHQUdBLFFBQUFnSixHQUFBaEosR0FDQSxNQUFBb0ksR0FBQUssSUFBQVEsRUFBQSxjQUFBakosR0FHQSxRQUFBMEYsR0FBQTFGLEdBQ0EsTUFBQW9JLEdBQUFLLElBQUFTLEVBQUEsY0FBQWxKLEdBR0EsUUFBQW1KLEdBQUFuSixHQUNBLE1BQUFvSSxHQUFBSyxJQUFBVyxFQUFBLGNBQUFwSixHQUdBLFFBQUFGLEdBQUFFLEdBQ0EsTUFBQW9JLEdBQUFLLElBQUFZLEVBQUEsY0FBQXJKLEdBR0EsUUFBQXNKLEdBQUF0SixHQUNBLE1BQUFvSSxHQUFBSyxJQUFBYyxFQUFBLGNBQUF2SixHQUdBLFFBQUF3SixHQUFBeEosR0FDQSxNQUFBb0ksR0FBQUssSUFBQWdCLEVBQUEsVUFBQXpKLEdBR0EsUUFBQTZFLEdBQUE3RSxHQUNBLE1BQUFvSSxHQUFBSyxJQUFBaUIsRUFBQSxjQUFBMUosRUFBQTBFLFVBQUEsVUFBQTFFLEVBQUF1RSxPQUdBLFFBQUF6QixHQUFBOUMsR0FDQSxNQUFBb0ksR0FBQUssSUFBQWtCLEVBQUEsY0FBQTNKLEdBdkZBLEdBQUE2SSxHQUFBLDJCQUNBWSxFQUFBLHVDQUNBakIsRUFBQSwwQkFDQUcsRUFBQSwwQkFDQUQsRUFBQSxnQ0FDQUksRUFBQSxnQ0FDQUMsRUFBQSxzQkFDQUUsRUFBQSx3QkFDQUMsRUFBQSw2QkFDQUUsRUFBQSwyQkFDQUMsRUFBQSx1QkFDQUUsRUFBQSw2QkFDQUcsRUFBQSxrQ0FDQUMsRUFBQSwyQkFFQXJNLEdBQ0FnTCxXQUFBQSxFQUNBTSxnQkFBQUEsRUFDQTlCLFdBQUFBLEVBQ0ExQyxpQkFBQUEsRUFDQUssT0FBQUEsRUFDQXVFLFNBQUFBLEVBQ0F0RCxjQUFBQSxFQUNBeUQsWUFBQUEsRUFDQXJKLFFBQUFBLEVBQ0F3SixjQUFBQSxFQUNBRSx3QkFBQUEsRUFDQTNFLG9CQUFBQSxFQUNBL0IsZUFBQUEsRUFDQXFGLGlCQUFBQSxFQUdBLE9BQUE3SyxHQXhDQW5CLFFBQ0FDLE9BQUEsT0FDQXNCLFFBQUEsaUJBQUErQixHQUVBQSxFQUFBOUIsU0FBQSxRQUFBLGdCQ0hBLFdBRUEsWUFNQSxTQUFBaU0sR0FBQXBLLEVBQUFELEVBQUFFLEVBQUFoRCxHQWFBLFFBQUFvTixLQUNBdE0sRUFBQW1ILFVBQUFuRixFQUFBSyxhQUFBQyxRQUFBLGFBQ0FKLEVBQUEwSixZQUFBNUwsRUFBQW1ILFdBQ0EzRSxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFELFFBQ0F4QyxFQUFBdU0sa0JBQUE5SixFQUFBOEosa0JBRUFyTixFQUFBRSxhQUFBcUQsRUFBQW5ELFdBU0EsUUFBQWtOLEdBQUFDLEVBQUFDLEdBQ0EsR0FBQTVJLElBQ0EySSxLQUFBQSxFQUNBbkMsT0FBQW9DLEVBRUF6SyxHQUFBMEIsS0FBQSxvQkFBQUcsR0FPQSxRQUFBNkksR0FBQUYsRUFBQUMsR0FDQSxHQUFBNUksSUFDQTJJLEtBQUFBLEVBQ0FuQyxPQUFBb0MsRUFFQXpLLEdBQUEwQixLQUFBLGtCQUFBRyxHQU9BLFFBQUE4SSxHQUFBSCxFQUFBQyxHQUNBLEdBQUE1SSxJQUNBMkksS0FBQUEsRUFDQW5DLE9BQUFvQyxFQUVBekssR0FBQTBCLEtBQUEsaUJBQUFHLEdBT0EsUUFBQStJLEdBQUFKLEVBQUFDLEdBQ0EsR0FBQTVJLElBQ0EySSxLQUFBQSxFQUNBbkMsT0FBQW9DLEVBRUF6SyxHQUFBMEIsS0FBQSxpQkFBQUcsR0FPQSxRQUFBZ0osR0FBQUwsRUFBQUMsR0FDQSxHQUFBNUksSUFDQTJJLEtBQUFBLEVBQ0FuQyxPQUFBb0MsRUFFQXpLLEdBQUEwQixLQUFBLGtCQUFBRyxHQU9BLFFBQUFpSixHQUFBTixFQUFBQyxHQUNBLEdBQUE1SSxJQUNBMkksS0FBQUEsRUFDQW5DLE9BQUFvQyxFQUVBekssR0FBQTBCLEtBQUEsaUJBQUFHLEdBNUZBLEdBQUE5RCxHQUFBWCxJQUNBVyxHQUFBbUgsVUFBQSxHQUNBbkgsRUFBQXdNLGdCQUFBQSxFQUNBeE0sRUFBQTJNLGNBQUFBLEVBQ0EzTSxFQUFBNE0sYUFBQUEsRUFDQTVNLEVBQUE2TSxhQUFBQSxFQUNBN00sRUFBQThNLGNBQUFBLEVBQ0E5TSxFQUFBK00sYUFBQUEsRUFDQS9NLEVBQUF1TSxrQkFBQSxHQUNBdk0sRUFBQXNNLHNCQUFBQSxFQWNBckssRUFBQTBDLEdBQUEsc0JBQUEsU0FBQThILEdBQ0F6TSxFQUFBdU0sa0JBQUFTLFlBQUFQLElBV0F4SyxFQUFBMEMsR0FBQSxvQkFBQSxTQUFBOEgsR0FDQXpNLEVBQUF1TSxrQkFBQVUsVUFBQVIsSUFXQXhLLEVBQUEwQyxHQUFBLG1CQUFBLFNBQUE4SCxHQUNBek0sRUFBQXVNLGtCQUFBVyxpQkFBQVQsSUFXQXhLLEVBQUEwQyxHQUFBLG1CQUFBLFNBQUE4SCxFQUFBQyxHQUNBMU0sRUFBQXVNLGtCQUFBWSxTQUFBVixJQVdBeEssRUFBQTBDLEdBQUEsb0JBQUEsU0FBQThILEdBQ0F6TSxFQUFBdU0sa0JBQUFhLFVBQUFYLElBV0F4SyxFQUFBMEMsR0FBQSxtQkFBQSxTQUFBOEgsR0FDQXpNLEVBQUF1TSxrQkFBQWMsU0FBQVosSUExRkE3TixRQUNBQyxPQUFBLE9BQ0FXLFdBQUEsOEJBQUE2TSxHWHV0Q0FBLEVBQTRCak0sU0FBVyxTQUFVLFVBQVcsaUJBQWtCLGVZN3RDOUUsV0FFQSxZQU9BLFNBQUFrTixHQUFBckwsRUFBQUQsRUFBQUUsRUFBQXFMLEVBQUFyTyxHQWlCQSxRQUFBc08sS0FDQXhOLEVBQUFtSCxVQUFBbkYsRUFBQUssYUFBQUMsUUFBQSxhQUNBSixFQUFBdUosU0FBQXpMLEVBQUFtSCxXQUNBM0UsUUFBQSxTQUFBQyxHQUNBQSxFQUFBRCxRQUNBeEMsRUFBQTRDLGdCQUFBSCxFQUFBRSxhQUVBekQsRUFBQUUsYUFBQXFELEVBQUFuRCxXQUdBVSxFQUFBaUQsY0FBQSxFQWtCQSxRQUFBd0ssR0FBQWxGLEdBQ0F0RyxFQUFBMEIsS0FBQSxxQkFBQTRFLEdBYUEsUUFBQW1GLEdBQUE5SSxHQUNBM0MsRUFBQTBCLEtBQUEscUJBQUFpQixHQVNBLFFBQUErSSxHQUFBOUosRUFBQTBFLEdBRUEsR0FBQXpFLElBQ0FELE1BQUFBLEVBQ0EwRSxZQUFBQSxFQUVBdEcsR0FBQTBCLEtBQUEsdUJBQUFHLEdBR0EsUUFBQThKLEdBQUFDLEVBQUFoSyxFQUFBMEUsR0FDQSxHQUFBdUYsR0FBQVAsRUFBQU8sVUFDQUMsT0FBQW5QLFFBQUE2SSxRQUFBeEMsU0FBQStJLE9BQ0FDLE1BQUEsdUJBQ0FDLFFBQUEsVUFBQTNGLEVBQUFLLE1BQ0F1RixVQUFBLHNCQUNBQyxHQUFBLFFBQ0FDLE9BQUEsVUFDQUMsWUFBQVQsRUFDQU4sR0FBQWhPLEtBQUF1TyxHQUFBUyxLQUFBLFdBQ0FaLEVBQUE5SixFQUFBMEUsS0FRQSxRQUFBaUcsR0FBQUMsRUFBQUMsR0FFQSxHQUFBaEssSUFFQWlFLFdBQUErRixFQUNBOUYsS0FBQSxHQUNBQyxZQUFBLEdBQ0FILFVBQUEsRUFDQWlHLEVBQUFGLEVBQUFHLE1BQUEsS0FDQUMsRUFBQUosRUFBQSxNQUFBLEtBR0F4TSxHQUFBMEIsS0FBQSxvQkFBQWUsR0FHQSxRQUFBb0ssR0FBQWxLLEdBQ0FLLFNBQUFDLGVBQUEsT0FBQU4sR0FBQW1LLGFBQUEsUUFBQSwrQkFDQTlKLFNBQUFDLGVBQUEsU0FBQU4sR0FBQW1LLGFBQUEsVUFBQSxPQUNBOUosU0FBQUMsZUFBQU4sR0FBQW1LLGFBQUEsVUFBQSxPQUdBLFFBQUFDLEdBQUFwSyxHQUNBSyxTQUFBQyxlQUFBLE9BQUFOLEdBQUFtSyxhQUFBLFFBQUEsMEJBQ0E5SixTQUFBQyxlQUFBLFNBQUFOLEdBQUFtSyxhQUFBLFVBQUEsT0FDQTlKLFNBQUFDLGVBQUFOLEdBQUFtSyxhQUFBLFVBQUEsT0F0SEEsR0FBQS9PLEdBQUFYLElBQ0FXLEdBQUFtSCxVQUFBLEdBQ0FuSCxFQUFBNEMsbUJBQ0E1QyxFQUFBdUksWUFBQSxHQUNBdkksRUFBQXdOLFdBQUFBLEVBQ0F4TixFQUFBaVAsTUFBQSxFQUNBalAsRUFBQWlELGNBQUEsRUFDQWpELEVBQUF5TixnQkFBQUEsRUFDQXpOLEVBQUEwTixZQUFBQSxFQUNBMU4sRUFBQTROLFVBQUFBLEVBQ0E1TixFQUFBd08sVUFBQUEsRUFDQXhPLEVBQUE4TyxPQUFBQSxFQUNBOU8sRUFBQWdQLE1BQUFBLEVBQ0FoUCxFQUFBa1AsbUJBZUFqTixFQUFBMEMsR0FBQSx1QkFBQSxTQUFBbEMsR0FDQTdELFFBQUFxRixRQUFBakUsRUFBQTRDLGdCQUFBLFNBQUEyRixHQUNBQSxFQUFBcEYsS0FBQVYsRUFBQVUsTUFDQW9GLEVBQUFBLFlBQUE5RixFQUFBOEYsWUFDQUEsRUFBQUssS0FBQW5HLEVBQUFtRyxLQUNBTCxFQUFBTSxZQUFBcEcsRUFBQW9HLFlBQ0FOLEVBQUFHLFNBQUFqRyxFQUFBaUcsU0FDQUgsRUFBQW9HLEVBQUFsTSxFQUFBa00sRUFDQXBHLEVBQUFzRyxFQUFBcE0sRUFBQW9NLEVBQ0F0RyxFQUFBNEcsT0FBQSxRQVVBbE4sRUFBQTBDLEdBQUEsdUJBQUEsU0FBQUMsR0FDQWhHLFFBQUFxRixRQUFBakUsRUFBQTRDLGdCQUFBLFNBQUEyRixHQUNBQSxFQUFBcEYsTUFBQXlCLElBQ0EyRCxFQUFBRyxVQUFBLEVBQ0FILEVBQUE0RyxPQUFBLFVBVUFsTixFQUFBMEMsR0FBQSx5QkFBQSxTQUFBQyxHQUNBLEdBQUEyRCxHQUFBdEQsU0FBQUMsZUFBQSxjQUFBbEYsRUFBQTRDLGdCQUFBZ0MsR0FBQXpCLElBQ0FvRixHQUFBNkcsTUFBQUMsUUFBQSxPQUNBclAsRUFBQTRDLGdCQUFBNEIsT0FBQUksRUFBQSxLQTBCQTNDLEVBQUEwQyxHQUFBLHNCQUFBLFNBQUE2RixHQUNBeEssRUFBQTRDLGdCQUFBM0QsS0FBQXVMLEtBbEdBNUwsUUFDQUMsT0FBQSxPQUNBVyxXQUFBLHdCQUFBOE4sR1prMkNBQSxFQUFzQmxOLFNBQVcsU0FBVSxVQUFXLGlCQUFrQixZQUFhLGVhMzJDckYsV0FFQSxZQU1BLFNBQUFrUCxHQUFBL0IsRUFBQWxFLEVBQUFELEVBQUFuSCxFQUFBRCxFQUFBRSxFQUFBaEQsR0FtQkEsUUFBQXFRLEtBQ0F2UCxFQUFBd1AsT0FBQXhOLEVBQUFLLGFBQUFDLFFBQUEsVUFDQXRDLEVBQUFxRixTQUFBckQsRUFBQUssYUFBQUMsUUFBQSxZQUNBdEMsRUFBQTRHLFVBQUE1RSxFQUFBSyxhQUFBQyxRQUFBLGFBQ0F0QyxFQUFBc0YsTUFBQXRELEVBQUFLLGFBQUFDLFFBQUEsU0FJQUosRUFBQW1KLGdCQUFBckwsRUFBQTRHLFdBQ0FwRSxRQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQUQsUUFBQSxDQUNBLElBQUEsR0FBQStCLEdBQUEsRUFBQUEsRUFBQTlCLEVBQUFxRyxTQUFBcEYsT0FBQWEsSUFDQTlCLEVBQUFxRyxTQUFBdkUsR0FBQXNFLFlBQUFwRyxFQUFBcUcsU0FBQXZFLEdBQUFzRSxZQUFBNEcsUUFBQSxnQkFBQSxJQUFBQyxVQUFBLEVBQUEsSUFFQTFQLEdBQUEyUCxZQUFBbE4sRUFBQXFHLGFBRUE1SixHQUFBRSxhQUFBcUQsRUFBQW5ELFdBR0E0QyxFQUFBK0osd0JBQUFqTSxFQUFBNEcsV0FDQXBFLFFBQUEsU0FBQUMsR0FDQSxHQUFBQSxFQUFBRCxRQUFBLENBQ0EsSUFBQSxHQUFBK0IsR0FBQSxFQUFBQSxFQUFBOUIsRUFBQXFHLFNBQUFwRixPQUFBYSxJQUNBOUIsRUFBQXFHLFNBQUF2RSxHQUFBc0UsWUFBQXBHLEVBQUFxRyxTQUFBdkUsR0FBQXNFLFlBQUE0RyxRQUFBLGdCQUFBLElBQUFDLFVBQUEsRUFBQSxJQUVBMVAsR0FBQTRQLHdCQUFBbk4sRUFBQXFHLGFBRUE1SixHQUFBRSxhQUFBcUQsRUFBQW5ELFdBR0FVLEVBQUE2UCxpQkFBQSxFQUdBLFFBQUFDLEdBQUFDLEdBQ0E3TixFQUFBNkosY0FBQWdFLEdBQ0F2TixRQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQUQsU0FDQSxJQUFBLEdBQUErQixHQUFBLEVBQUFBLEVBQUF2RSxFQUFBMlAsWUFBQWpNLE9BQUFhLElBQ0EsR0FBQXZFLEVBQUEyUCxZQUFBcEwsR0FBQXBCLEtBQUE0TSxFQUFBLENBQ0EvUCxFQUFBMlAsWUFBQW5MLE9BQUFELEVBQUEsRUFDQSxZQUlBckYsR0FBQUUsYUFBQXFELEVBQUFuRCxXQUtBLFFBQUEwUSxHQUFBbkMsRUFBQXJFLEdBRUEsR0FBQXNFLEdBQUFQLEVBQUFPLFVBQ0FDLE9BQUFuUCxRQUFBNkksUUFBQXhDLFNBQUErSSxPQUNBQyxNQUFBLG1CQUNBQyxRQUFBLFVBQUExRSxFQUFBeUUsT0FDQUUsVUFBQSxrQkFDQUMsR0FBQSxtQkFDQUMsT0FBQSxVQUNBQyxZQUFBVCxFQUNBTixHQUFBaE8sS0FBQXVPLEdBQUFTLEtBQUEsV0FDQXVCLEVBQUF0RyxFQUFBckcsT0FJQSxRQUFBOE0sR0FBQWxGLEdBQ0FBLEVBQUF5RSxPQUFBeFAsRUFBQXdQLE9BQ0F0TixFQUFBNkksV0FBQUEsR0FDQXZJLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUQsUUFDQXhDLEVBQUFrUSxZQUFBek4sRUFBQStHLFNBRUF0SyxFQUFBRSxhQUFBcUQsRUFBQW5ELFdBS0EsUUFBQTRRLEdBQUExRyxHQUNBeEgsRUFBQUssYUFBQThOLFFBQUEsWUFBQTNHLEVBQUFyRyxJQUNBLElBQUFzRyxJQUNBdEMsVUFBQXFDLEVBQUFyRyxJQUNBa0MsU0FBQXJGLEVBQUFxRixTQUVBcEQsR0FBQTBCLEtBQUEsY0FBQThGLEdBQ0FKLEVBQUFNLEdBQUEsd0JBR0EsUUFBQUksS0FDQVgsRUFBQVksU0FDQVgsRUFBQU0sR0FBQSxjQUVBLFFBQUF5RyxLQUNBL0csRUFBQU0sR0FBQSxXQUdBLFFBQUEwRyxHQUFBeEMsR0FDQU4sRUFBQWhPLE1BQ0FDLFdBQUE4USxFQUNBNVEsWUFBQSw4QkFDQXFPLE9BQUFuUCxRQUFBNkksUUFBQXhDLFNBQUErSSxNQUNBTSxZQUFBVCxJQUlBLFFBQUF5QyxHQUFBQyxFQUFBaEQsR0FDQWdELEVBQUFyUSxLQUFBLFdBQ0FxTixFQUFBck4sUUFFQXFRLEVBQUFsQyxPQUFBLFdBQ0FkLEVBQUFjLFVBR0FrQyxFQUFBQyxjQUFBLFNBQUFoSCxHQUNBeEosRUFBQWlRLGdCQUFBekcsR0FDQStELEVBQUFjLFVBbElBLEdBQUFyTyxHQUFBWCxJQUNBVyxHQUFBcUYsU0FBQSxHQUNBckYsRUFBQXdQLE9BQUEsR0FDQXhQLEVBQUE0RyxVQUFBLEdBQ0E1RyxFQUFBMlAsZUFDQTNQLEVBQUE0UCwyQkFDQTVQLEVBQUE2UCxpQkFBQSxFQUNBN1AsRUFBQXVQLFlBQUFBLEVBQ0F2UCxFQUFBZ1EsZUFBQUEsRUFDQWhRLEVBQUFpUSxnQkFBQUEsRUFDQWpRLEVBQUFrUSxZQUFBQSxFQUNBbFEsRUFBQStKLFNBQUFBLEVBQ0EvSixFQUFBcVEsV0FBQUEsRUFDQXJRLEVBQUFvUSxZQUFBQSxFQUNBcFEsRUFBQXNGLE1icytDWWdMLEVBQWlCbFEsU0FBVyxTQUFVLGFhMS9DbER4QixRQUNBQyxPQUFBLE9BQ0FXLFdBQUEseUJBQUE4UCxHYjAvQ0lBLEVBQXVCbFAsU0FBVyxZQUFhLFNBQVUsT0FBUSxTQUFVLFVBQVcsaUJBQWtCLGVjOS9DNUcsV0FFQSxZQUtBLFNBQUFxUSxHQUFBek8sRUFBQUUsRUFBQWhELEVBQUErQyxHQXlDQSxRQUFBeU8sS0FDQTFRLEVBQUFtSCxVQUFBbkYsRUFBQUssYUFBQUMsUUFBQSxhQUNBSixFQUFBdUosU0FBQXpMLEVBQUFtSCxXQUNBM0UsUUFBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFELFFBQUEsQ0FDQSxHQUFBQyxFQUFBRSxhQUFBZSxPQUFBLEVBQUEsQ0FDQSxJQUFBLEdBQUFpTixHQUFBLEVBQUFBLEVBQUEzUSxFQUFBNFEscUJBQUFsTixPQUFBaU4sSUFDQTNRLEVBQUE2USxpQkFBQTdRLEVBQUE0USxxQkFBQUQsR0FBQSxJQUVBM1EsR0FBQTZRLGdCQUFBN1EsRUFBQTRRLHFCQUFBNVEsRUFBQTRRLHFCQUFBbE4sT0FBQSxJQUFBLEdBQ0EsS0FBQSxHQUFBYSxHQUFBLEVBQUFBLEVBQUE5QixFQUFBRSxhQUFBZSxPQUFBYSxJQUNBLElBQUEsR0FBQXVNLEdBQUEsRUFBQUEsRUFBQTlRLEVBQUE0QyxnQkFBQWMsT0FBQW9OLElBQUEsQ0FDQSxHQUFBdkksSUFDQXBGLElBQUFWLEVBQUFFLGFBQUE0QixHQUFBcEIsSUFDQXdGLFdBQUFsRyxFQUFBRSxhQUFBNEIsR0FBQW9FLFdBQ0F0RixPQUFBWixFQUFBRSxhQUFBNEIsR0FBQWxCLE9BQ0F1RixLQUFBbkcsRUFBQUUsYUFBQTRCLEdBQUFxRSxLQUNBQyxZQUFBcEcsRUFBQUUsYUFBQTRCLEdBQUFzRSxZQUNBSCxTQUFBakcsRUFBQUUsYUFBQTRCLEdBQUFtRSxTQUNBaUcsRUFBQWxNLEVBQUFFLGFBQUE0QixHQUFBb0ssRUFDQUUsRUFBQXBNLEVBQUFFLGFBQUE0QixHQUFBc0ssRUFDQWtDLGFBRUF0TyxHQUFBRSxhQUFBNEIsR0FBQW9FLFlBQUEzSSxFQUFBNEMsZ0JBQUFrTyxHQUFBbkksWUFDQTNJLEVBQUE0QyxnQkFBQWtPLEdBQUFuTyxhQUFBMUQsS0FBQXNKLElBTUF2SSxFQUFBaUQsY0FBQSxNQUVBL0QsR0FBQUUsYUFBQXFELEVBQUFuRCxXQW1CQSxRQUFBMFIsR0FBQXpJLEdBQ0FBLEVBQUFHLFVBQUEsRUFHQSxRQUFBdUksR0FBQTFJLEdBQ0FBLEVBQUFHLFVBQUEsRUFHQSxRQUFBd0ksR0FBQUMsRUFBQTVJLEdBRUEsSUFBQSxHQURBNkksTUFDQTdNLEVBQUEsRUFBQUEsRUFBQWdFLEVBQUFsRixPQUFBSyxPQUFBYSxJQUNBZ0UsRUFBQWxGLE9BQUFrQixJQUFBNE0sR0FDQUMsRUFBQW5TLEtBQUFzSixFQUFBbEYsT0FBQWtCLEdBR0FnRSxHQUFBbEYsT0FBQStOLEVBQ0FuUCxFQUFBMEIsS0FBQSxxQkFBQTRFLEdBR0EsUUFBQThJLEdBQUE5SSxHQUNBLEdBQUEsS0FBQUEsRUFBQXdJLFdBQUEvTSxTQUFBdUUsRUFBQXdJLFVBQ0E3UixFQUFBRSxhQUFBLCtCQUNBLENBRUEsSUFBQSxHQURBa1MsR0FBQS9JLEVBQUF3SSxVQUFBUSxNQUFBLEtBQ0FoTixFQUFBLEVBQUFBLEVBQUErTSxFQUFBNU4sT0FBQWEsSUFDQWlOLEVBQUFqSixFQUFBbEYsT0FBQWlPLEVBQUEvTSxJQUNBckYsRUFBQUUsYUFBQSxvQkFBQWtTLEVBQUEvTSxJQUVBZ0UsRUFBQWxGLE9BQUFwRSxLQUFBcVMsRUFBQS9NLEdBR0FnRSxHQUFBd0ksVUFBQSxHQUNBeEksRUFBQUcsVUFBQSxFQUNBekcsRUFBQTBCLEtBQUEscUJBQUE0RSxJQUtBLFFBQUFpSixHQUFBQyxFQUFBTixHQUNBLElBQUEsR0FBQTVNLEdBQUEsRUFBQUEsRUFBQWtOLEVBQUEvTixPQUFBYSxJQUNBLEdBQUE0TSxJQUFBTSxFQUFBbE4sR0FDQSxPQUFBLENBR0EsUUFBQSxFQXRJQSxHQUFBdkUsR0FBQVgsSUFDQVcsR0FBQWlELGNBQUEsRUFDQWpELEVBQUFvQyxVQUFBLEdBQ0FwQyxFQUFBNEcsVUFBQSxHQUNBNUcsRUFBQTBSLFVBQUEsR0FDQTFSLEVBQUEwUSw2QkFBQUEsRUFDQTFRLEVBQUFnUixrQkFBQUEsRUFDQWhSLEVBQUFpUixvQkFBQUEsRUFDQWpSLEVBQUFrUix3QkFBQUEsRUFDQWxSLEVBQUFxUixxQkFBQUEsRUFDQXJSLEVBQUE2USxnQkFBQSxHQUNBN1EsRUFBQTRDLGtCQUVBK0YsV0FBQSxZQUNBaEcsa0JBR0FnRyxXQUFBLFNBQ0FoRyxrQkFHQWdHLFdBQUEsU0FDQWhHLGtCQUdBZ0csV0FBQSxlQUNBaEcsa0JBR0FnRyxXQUFBLFdBQ0FoRyxrQkFHQTNDLEVBQUE0USxzQkFDQSxpQkFBQSxpQkFBQSxXQUFBLFlBQUEsa0JBQUEsY0FBQSxjQUNBLGNBQUEsaUJBQUEsU0FBQSxhQUFBLDBCQUFBLG1CQUFBLFNBQ0EsU0FBQSxnQkFBQSxXQUFBLGNBQUEsY0FBQSwyQ0FDQSxpQkFBQSxZQUFBLG1CQUFBLFlBQUEsY0FBQSxnQkF1Q0EzTyxFQUFBMEMsR0FBQSx1QkFBQSxTQUFBbEMsR0FDQTdELFFBQUFxRixRQUFBakUsRUFBQTRDLGdCQUFBLFNBQUEyRixHQUNBQSxFQUFBcEYsS0FBQVYsRUFBQVUsTUFDQW9GLEVBQUFBLFlBQUE5RixFQUFBOEYsWUFDQUEsRUFBQUssS0FBQW5HLEVBQUFtRyxLQUNBTCxFQUFBTSxZQUFBcEcsRUFBQW9HLFlBQ0FOLEVBQUFHLFNBQUFqRyxFQUFBaUcsU0FDQUgsRUFBQW9HLEVBQUFsTSxFQUFBa00sRUFDQXBHLEVBQUFzRyxFQUFBcE0sRUFBQW9NLEVBQ0F0RyxFQUFBd0ksa0JBM0ZBblMsUUFDQUMsT0FBQSxPQUNBVyxXQUFBLHFDQUFBaVIsR2RrcERBQSxFQUFtQ3JRLFNBQVcsVUFBVyxpQkFBa0IsV0FBWSxhZXRwRHZGLFdBRUEsWUFNQSxTQUFBdVIsR0FBQTNQLEVBQUFxSCxFQUFBa0gsRUFBQXFCLEdBU0EsUUFBQWxJLEtBQ0FMLEVBQUFNLEdBQUEsZ0JBa0JBLFFBQUFrSSxLQUNBN1IsRUFBQXdQLE9BQUF4TixFQUFBSyxhQUFBQyxRQUFBLFVBQ0EwQixTQUFBaEUsRUFBQXdQLE9BSUEsUUFBQXNDLEdBQUFDLEdBQ0EsR0FBQUMsSUFDQXhDLE9BQUF4TixFQUFBSyxhQUFBQyxRQUFBLFVBQ0FnRCxNQUFBeU0sRUFHQUgsR0FBQUssWUFBQUQsR0FDQXhQLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUQsUUFDQVIsRUFBQUssYUFBQThOLFFBQUEsUUFBQTRCLEdBRUE3UyxTQUFBRSxhQUFBLFdBNUNBLEdBQUFZLEdBQUFYLElBQ0FXLEdBQUE2UixhQUFBQSxFQUNBN1IsRUFBQWtTLGtCQUFBLEVBQ0FsUyxFQUFBbVMsZUFBQSxFQUNBblMsRUFBQXdQLE9BQ0F4UCxFQUFBOFIsVUFBQUEsRUFDQTlSLEVBQUEwSixhQUFBQSxFQU1BMUosRUFBQW9TLFFBQUEsR0FDQXBTLEVBQUFxUyxlQUFBLEVBRUEsSUFBQUMsR0FBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFELEVBQUFFLGNBQUFDLE1BQUEsR0FDQUMsRUFBQSxHQUFBQyxXQUNBRCxHQUFBRSxPQUFBLFNBQUFOLEdBQ0FoQyxFQUFBdUMsT0FBQSxTQUFBdkMsR0FDQUEsRUFBQTZCLFFBQUFHLEVBQUFRLE9BQUFDLFVBR0FMLEVBQUFNLGNBQUFULEdBRUE1VCxTQUFBNkksUUFBQXhDLFNBQUFpTyxjQUFBLGVBQUF2TyxHQUFBLFNBQUEyTixHQTlCQTFULFFBQ0FDLE9BQUEsT0FDQVcsV0FBQSxvQkFBQW1TLEdma3RESUEsRUFBa0J2UixTQUFXLFVBQVcsU0FBVSxTQUFVLG9CZ0I1dERoRSxXQUNBLFlBTUEsU0FBQStTLEdBQUEzUixFQUFBUSxFQUFBNFAsRUFBQXZJLEVBQUFuSyxFQUFBa1UsRUFBQWhLLEVBQUFpSyxFQUFBQyxHQVNBLFFBQUFDLEdBQUFDLEdBQ0E1QixFQUFBNkIsT0FBQUQsR0FDQWhSLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUQsU0FDQXRELEVBQUFFLGFBQUFpVSxFQUFBLGFBQUEsa0JBQUFHLEVBQUFuTyxVQUNBZ0UsRUFBQU0sR0FBQSxlQUVBekssRUFBQUUsYUFBQSx5QkFLQSxRQUFBcUMsR0FBQUMsR0FDQUYsRUFBQUcsSUFBQUQsR0FHQSxRQUFBZ1MsR0FBQUMsR0FDQS9CLEVBQUE4QixlQUFBQyxHQUNBblIsUUFBQSxTQUFBQyxHQUNBQSxFQUFBRCxTQUNBdEQsRUFBQUUsYUFBQSxxQ0FBQXVVLEVBQUEzTSxPQUNBcUMsRUFBQU0sR0FBQSxlQUVBekssRUFBQUUsYUFBQSxXQUtBLFFBQUF3VSxHQUFBSixHQUNBNUIsRUFBQWdDLGVBQUFKLEdBQ0FoUixRQUFBLFNBQUFDLEdBQ0FBLEVBQUFELFNBQ0F0RCxFQUFBRSxhQUFBLDREQUNBaUssRUFBQU0sR0FBQSxlQUVBekssRUFBQUUsYUFBQSxXQTNDQSxHQUFBWSxHQUFBWCxJQUNBVyxHQUFBVixRQUFBLEdBQ0FVLEVBQUF1VCxTQUFBQSxFQUNBdlQsRUFBQTBULGVBQUFBLEVBQ0ExVCxFQUFBNFQsZUFBQUEsRUFDQTVULEVBQUF5QixRQUFBQSxFQUNBekIsRUFBQTZQLGlCQUFBLEVBWkFqUixRQUNBQyxPQUFBLE9BQ0FXLFdBQUEsbUJBQUEyVCxHQUNBQSxFQUFBL1MsU0FBQSxhQUFBLFVBQUEsZ0JBQUEsU0FBQSxXQUFBLFlBQUEsT0FBQSxVQUFBLG1CQ0xBLFdBQ0EsWUFRQSxTQUFBd1IsR0FBQS9HLEVBQUFDLEdBaUJBLFFBQUEySSxHQUFBaFIsR0FDQSxNQUFBb0ksR0FBQUcsS0FBQTZJLEVBQUFwUixHQUdBLFFBQUFpUixHQUFBalIsR0FDQSxNQUFBb0ksR0FBQUcsS0FBQThJLEVBQUFyUixHQUdBLFFBQUFtUixHQUFBblIsR0FDQSxHQUFBc1IsR0FBQWpKLEVBQUFrSixRQUNBLE9BQUFuSixHQUFBSyxJQUFBK0ksRUFBQSxZQUFBRixFQUFBRyxRQUFBLGFBQUF6UixFQUFBMFIsVUFHQSxRQUFBbEMsR0FBQXhQLEdBQ0EsTUFBQW9JLEdBQUFHLEtBQUFvSixFQUFBM1IsR0E3QkEsR0FBQW9SLEdBQUEsZUFDQUMsRUFBQSxxQkFDQUcsRUFBQSwrQkFDQUcsRUFBQSxzQkFHQXJVLEdBQ0EwVCxPQUFBQSxFQUNBQyxlQUFBQSxFQUNBRSxlQUFBQSxFQUNBM0IsWUFBQUEsRUFHQSxPQUFBbFMsR0FyQkFuQixRQUNBQyxPQUFBLE9BQ0FzQixRQUFBLGdCQUFBeVIsR0FFQUEsRUFBQXhSLFNBQUEsUUFBQSxnQkNIQSxXQUVBLFlBNkJBLFNBQUFpVSxHQUFBQyxHQUVBLEdBQUFDLEdBQUFELEVBQUFFLGNBQUEsUUFDQUMsR0FBQSxTQUNBQyxJQUFBLFNBQ0FDLElBQUEsU0FDQUMsSUFBQSxTQUNBQyxJQUFBLFNBQ0FDLElBQUEsU0FDQUMsSUFBQSxTQUNBQyxJQUFBLFNBQ0FDLElBQUEsU0FDQUMsSUFBQSxTQUNBQyxLQUFBLFNBQ0FDLEtBQUEsU0FDQUMsS0FBQSxTQUNBQyxLQUFBLFNBQ0FDLHFCQUFBLFFBRUFDLG9CQUFBLEtBQUEsTUFDQSxNQUFBLE1BQUEsTUFBQSxRQUNBQyxvQkFBQXpSLFFBR0FzUSxHQUFBb0IsY0FBQSxPQUFBbkIsR0FFQUQsRUFBQXFCLE1BQUEsV0FDQUMsZUFBQSxRQUNBQyxjQUFBLFNBdkRBalgsUUFDQUMsT0FBQSxPQUNBQyxPQUFBdVYsR0FFQUEsRUFBQWpVLFNBQUEscUJBQUEsd0JDWEEsV0FFQSxZQUVBeEIsU0FDQUMsT0FBQSxrQkFDQXNCLFFBQUEsUUFBQSxRQUFBLEtBQUEsWUFBQSxTQUFBMEssRUFBQWlMLEVBQUExQyxHQUNBLEdBQUEyQyxLQWlDQSxPQWhDQUEsR0FBQUMsTUFBQSxTQUFBaFAsRUFBQW1OLEdBQ0EsTUFBQXRKLEdBQUFHLEtBQUEsY0FDQWhFLE1BQUFBLEVBQ0FtTixTQUFBQSxJQUVBM1IsUUFBQSxTQUFBQyxHQUVBLE1BREEyUSxHQUFBNkMsU0FBQXhULEVBQUF5VCxPQUNBelQsS0FJQXNULEVBQUEvTCxPQUFBLFdBQ0FvSixFQUFBNkMsWUFHQUYsRUFBQUksV0FBQSxXQUNBLE1BQUEvQyxHQUFBZ0QsWUFDQSxHQUVBLEdBSUFMLEVBQUFNLFFBQUEsU0FBQXpSLEdBQ0EsTUFBQXdPLEdBQUFnRCxXQUNBdkwsRUFBQUssSUFBQSxtQkFBQXRHLEdBR0FrUixFQUFBUSxRQUFBaFgsUUFBQSx1QkFJQXlXLEtBRUE1VixRQUFBLGFBQUEsVUFBQSxTQUFBNkIsR0FFQSxHQUFBdVUsS0FnQkEsT0FkQUEsR0FBQUgsU0FBQSxXQUNBLE1BQUFwVSxHQUFBSyxhQUFBQyxRQUFBLFVBR0FpVSxFQUFBTixTQUFBLFNBQUFDLEdBRUFBLEVBQ0FsVSxFQUFBSyxhQUFBOE4sUUFBQSxRQUFBK0YsR0FHQWxVLEVBQUFLLGFBQUFtVSxXQUFBLFVBSUFELEtBRUFwVyxRQUFBLG1CQUFBLEtBQUEsWUFBQSxZQUFBLFNBQUEyVixFQUFBaEwsRUFBQXNJLEdBQ0EsR0FBQXFELEtBUUEsT0FQQUEsR0FBQUMsUUFBQSxTQUFBNVgsR0FDQSxHQUFBb1gsR0FBQTlDLEVBQUFnRCxVQUlBLE9BSEFGLEtBQ0FwWCxFQUFBNlgsUUFBQSxrQkFBQVQsR0FFQXBYLEdBRUEyWCxRQ3RFQTdYLFFBQUFDLE9BQUEsY0FDQWlELFVBQUEsYUFBQSxZQUFBLFNBQUEsU0FBQThVLEVBQUEzVSxHQUNBLE9BQ0FKLFNBQUEsSUFDQTROLFNBQUEsRUFDQW9ILEtBQUEsU0FBQUMsRUFBQXJQLEVBQUFzUCxHQVlBLFFBQUFDLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQUQsRUFBQWxFLE9BQUFuTyxFQUNBLFFBQUFzUyxJQUNBQSxFQUFBLElBRUFKLEVBQUF2TyxZQUFBSSxXQUFBdU8sRUFFQXJJLEVBQUFvSSxFQUFBRSxNQUNBeEksRUFBQXNJLEVBQUFySSxNQUVBbkgsRUFBQTJQLEtBQ0FDLElBQUF4SSxFQUFBLEtBQ0F5SSxLQUFBM0ksRUFBQSxPQVFBbUksRUFBQXZPLFlBQUFvRyxFQUFBQSxFQUFBLEtBQ0FtSSxFQUFBdk8sWUFBQXNHLEVBQUFBLEVBQUEsS0FLQSxRQUFBMEksS0FDQVgsRUFBQVksT0FBQSxZQUFBUixHQUNBSixFQUFBWSxPQUFBLFVBQUFELEdBdkNBOVAsRUFBQTlDLEdBQUEsWUFBQSxTQUFBc1MsR0FFQSxlQUFBQSxFQUFBbEUsT0FBQW5PLEdBQUE4SyxVQUFBLEVBQUEsTUFFQXVILEVBQUFRLGlCQUNBYixFQUFBYyxLQUFBLFlBQUFWLEdBQ0FKLEVBQUFjLEtBQUEsVUFBQUgsV0NWQSxXQUVBLFlBTUEsU0FBQUksR0FBQW5XLEVBQUFvVyxFQUFBdk8sRUFBQUQsRUFBQXBILEVBQUFxUixFQUFBblUsR0FPQSxRQUFBdUMsR0FBQUMsR0FDQUYsRUFBQUcsSUFBQUQsR0FHQSxRQUFBbVcsS0FDQSxNQUFBQyxNQUFBQyxTQUFBRCxLQUFBRSxNQUFBLEdBQUFGLEtBQUFDLFVBZUEsUUFBQUUsR0FBQXpFLEdBQ0F4VCxFQUFBaUQsY0FBQSxFQUNBakQsRUFBQWtZLE1BQUEsR0FDQTlPLEVBQUE0TSxNQUFBeEMsRUFBQXhNLE1BQUF3TSxFQUFBVyxVQUNBM1IsUUFBQSxTQUFBQyxHQUNBVCxFQUFBSyxhQUFBOE4sUUFBQSxZQUFBMU4sRUFBQXVFLE9BQ0FoRixFQUFBSyxhQUFBOE4sUUFBQSxTQUFBMU4sRUFBQW1DLElBQ0E1QyxFQUFBSyxhQUFBOE4sUUFBQSxZQUFBMU4sRUFBQW1DLEdBQUEsSUFBQWlULEtBQ0E3VixFQUFBSyxhQUFBOE4sUUFBQSxXQUFBMU4sRUFBQTRDLFVBQ0FyRixFQUFBeUIsUUFBQWdCLEVBQUEwVixVQUNBblksRUFBQWlELGNBQUEsRUFDQW1HLEVBQUFpTixRQUFBNVQsRUFBQW1DLElBQ0EySixLQUFBLFNBQUE2SixHQUNBbFosRUFBQUUsYUFBQWlVLEVBQUEsYUFBQSxrQkFBQSxLQUFBNVEsRUFBQTRDLFVBQ0E1QyxFQUFBRCxTQUNBUixFQUFBSyxhQUFBOE4sUUFBQSxRQUFBaUksRUFBQTNWLEtBQUE2QyxPQUNBK0QsRUFBQU0sR0FBQSxpQkFHQXpLLEVBQUFFLGFBQUEscUNBT0EsUUFBQTJLLEtBQ0FYLEVBQUFZLFNBQ0FYLEVBQUEsUUF0REEsR0FBQXJKLEdBQUFYLElBQ0FXLEdBQUFpRCxjQUFBLEVBQ0FqRCxFQUFBeUIsUUFBQUEsRUFDQXpCLEVBQUErSixTQUFBQSxFQUNBL0osRUFBQWlZLFFBQUFBLEVBWUFqWSxFQUFBcVksU0FBQWpQLEVBQUErTSxhQUVBeUIsRUFBQVUsSUFBQSxvQkFBQSxXQUNBdFksRUFBQXFZLFNBQUFqUCxFQUFBK00sYUFDQS9NLEVBQUFpTixVQUNBOUgsS0FBQSxTQUFBOUwsR0FDQXpDLEVBQUF3VCxLQUFBL1EsRUFBQUEsU0EzQkE3RCxRQUNBQyxPQUFBLE9BQ0FXLFdBQUEsa0JBQUFtWSxHckIya0VRQSxFQUFnQnZYLFNBQVcsYUFBYyxhQUFjLFNBQVUsT0FBUSxVQUFXLFVBQVcsZXNCamxFdkcsV0FFQSxZQUVBeEIsU0FDQUMsT0FBQSxPQUNBa0IsUUFBQSxVQUNBLFlBQUEsV0FDQSxTQUFBK0ssRUFBQWhHLEdBRUF6RixLQUFBa1osT0FBQUMsS0FLQW5aLEtBQUFzRixHQUFBLFNBQUE4VCxFQUFBQyxHQUNBclosS0FBQWtaLFFBQ0FsWixLQUFBa1osT0FBQTVULEdBQUE4VCxFQUFBLFNBQUFoVyxHQUNBcUMsRUFBQSxXQUNBNFQsRUFBQWpXLFFBTUFwRCxLQUFBc0UsS0FBQSxTQUFBOFUsRUFBQWhXLEdBQ0FwRCxLQUFBa1osUUFDQWxaLEtBQUFrWixPQUFBNVUsS0FBQThVLEVBQUFoVyxJQUlBcEQsS0FBQXNaLGVBQUEsU0FBQUYsR0FDQXBaLEtBQUFrWixRQUNBbFosS0FBQWtaLE9BQUFJLGVBQUFGIiwiZmlsZSI6ImFwcC5kc2MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJyxbJ25nSW1nQ3JvcCcsJ3RvYXN0U2VydmljZScsJ3RleHRBbmd1bGFyJywnbHVlZ2cuZGlyZWN0aXZlcycsICdEcm9wRFNDJywnYXV0aFNlcnZpY2UnLCd1aS5yb3V0ZXInLCduZ01hdGVyaWFsJywnbmdNZEljb25zJywnbmdDb29raWVzJywncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxyXG4gICAgICAgIC5jb25maWcoZnVuY3Rpb24oJGh0dHBQcm92aWRlcikge1xyXG4gICAgICAgICAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoSW50ZXJjZXB0b3InKTtcclxuICAgICAgICB9KVxyXG5cclxufSkoKTtcclxuXHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI3LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ3RvYXN0U2VydmljZScsW10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3RvYXN0Q29udHJvbGxlcicsIGZ1bmN0aW9uKCRtZFRvYXN0LHRvYXN0QXBwKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlID0gIHRvYXN0QXBwLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHNlbGYuY2xvc2VUb2FzdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJG1kVG9hc3QuaGlkZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZhY3RvcnkoICd0b2FzdEFwcCcsIHRvYXN0QXBwICk7XHJcblxyXG4gICAgdG9hc3RBcHAuJGluamVjdCA9IFsgJyRtZFRvYXN0JyBdO1xyXG5cclxuICAgIGZ1bmN0aW9uIHRvYXN0QXBwICgkbWRUb2FzdCkge1xyXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xyXG4gICAgICAgICAgICBtZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2VcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xyXG5cclxuICAgICAgICAvKmZ1bmN0aW9uIGVycm9yTWVzc2FnZShlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAgICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAgICAgICAudGV4dENvbnRlbnQoZXJyb3JNZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgICAgICAgLmhpZGVEZWxheSg4MDApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSovXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVycm9yTWVzc2FnZShlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd0b2FzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2RzY3RvYXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJPS1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodEFjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJ0b3AgcmlnaHRcIixcclxuICAgICAgICAgICAgICAgICAgICBoaWRlRGVsYXk6IDUwMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbmZpZyhyb3V0ZXMpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJvdXRlcygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcblxyXG5cclxuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnaW5pdCcsIHtcclxuICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvaW5pdHBhZ2UuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LmxvZ2luJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnbG9naW4nLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10YWInOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvdXNlcmxvZ2luLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbG9naW5Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LnNpZ251cCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3NpZ251cCcsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9zaWdudXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LnJlc2N1ZXBhc3N3b3JkJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAncmVzY3VlcGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10YWInOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcmVzY3VlcGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdzdGFydHByb2JsZW0nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvc3RhcnRwcm9ibGVtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc3RhcnRwcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YXJ0UHJvYmxlbUNvbnRyb2xsZXIgYXMgdm0nXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2ZpbGUnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvcHJvZmlsZScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Byb2ZpbGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvZmlsZUNvbnRyb2xsZXIgYXMgdm0nXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2RzY3JlcG9ydCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9kc2NyZXBvcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Byb2JsZW1yZXBvcnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9ibGVtUmVwb3J0Q29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCduZXdwYXNzd29yZCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9uZXdwYXNzd29yZC86bXl0b2tlbicsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL25ld3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cENvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbScsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9wcm9ibGVtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvYmxlbS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtZW51UHJvYmxlbUNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5kZXNjcmlwdGlvbicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9kZXNjcmlwdGlvbicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdwcm9ibGVtLWRlc2NyaXB0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Byb2JsZW1kZXNjcmlwdGlvbi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2VkaXRQcm9ibGVtQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5jb2xsYWJvcmF0b3JzJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2NvbGxhYm9yYXRvcnMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAncHJvYmxlbS1kZXNjcmlwdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9jb2xsYWJvcmF0b3JzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY29udHJvbGxlckNvbGxhYm9yYXRvcnMgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0uc3Rha2Vob2xkZXJzJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3N0YWtlaG9sZGVycycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc3Rha2Vob2xkZXJzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc3Rha2Vob2xkZXJDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmV2YWx1YXRpb25mcmFtZXdvcmsnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvZXZhbHVhdGlvbmZyYW1ld29yaycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvZXZhbHVhdGlvbmZyYW1ld29yay5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5zZW1pb3RpY2ZyYW1ld29yaycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9zZW1pb3RpY2ZyYW1ld29yaycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc2VtaW90aWNmcmFtZXdvcmsuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0uY2FyZicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9jYXJmJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2RzYy1hcnRpZmFjdCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9jYXJmLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY2FyZkNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0udmlmJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3ZpZicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvdmlmLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9sb2dpbicpO1xyXG5cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiIsbnVsbCwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxOS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoaW5pdExhbmd1YWdlKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2xhbmd1YWdlQ29udHJvbGxlcicsbGFuZ3VhZ2VDb250cm9sbGVyKVxyXG4gICAgLmRpcmVjdGl2ZSgnY2hhbmdlTGFuZ3VhZ2UnLGNoYW5nZUxhbmd1YWdlKTtcclxuXHJcbmluaXRMYW5ndWFnZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlUHJvdmlkZXInXTtcclxubGFuZ3VhZ2VDb250cm9sbGVyLiRpbmplY3QgPSBbJyR0cmFuc2xhdGUnXTtcclxuXHJcbmZ1bmN0aW9uIGluaXRMYW5ndWFnZSAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVN0YXRpY0ZpbGVzTG9hZGVyKHtcclxuICAgICAgICAgICAgcHJlZml4OiAnYXBwL2xhbmd1YWdlL2xhbmctJyxcclxuICAgICAgICAgICAgc3VmZml4OiAnLmpzb24nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3koJ2VzY2FwZWQnKTtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlTG9jYWxTdG9yYWdlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxhbmd1YWdlQ29udHJvbGxlciAoJHRyYW5zbGF0ZSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgIGZ1bmN0aW9uIHNldExhbmcobGFuZ0tleSkge1xyXG4gICAgICAgICAgICAkdHJhbnNsYXRlLnVzZShsYW5nS2V5KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlTGFuZ3VhZ2UoKXtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdGVtcGxhdGVVcmwgOiBcImFwcC9sYW5ndWFnZS9jaGFuZ2VMYW5ndWFnZS5odG1sXCIsXHJcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxNC8wNy8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoXCJjYXJmQ29udHJvbGxlclwiLGNhcmZDb250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjYXJmQ29udHJvbGxlcigkd2luZG93LFNvY2tldCxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCl7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmlkUHJvYmxlbSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYudmFsdWVMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzID0gW107XHJcbiAgICAgICAgc2VsZi5hZGRwbXN2YWx1ZSA9IGFkZHBtc3ZhbHVlO1xyXG4gICAgICAgIHNlbGYucmVtb3ZlQ0FSRiA9IHJlbW92ZUNBUkY7XHJcbiAgICAgICAgc2VsZi5zZWxlY3RQTVNWYWx1ZSA9IHNlbGVjdFBNU1ZhbHVlO1xyXG4gICAgICAgIHNlbGYuc2V0UHJpb3RpdHkgPSBzZXRQcmlvdGl0eTtcclxuICAgICAgICBzZWxmLmFkZExpc3RWYWx1ZSA9IGFkZExpc3RWYWx1ZTtcclxuICAgICAgICBzZWxmLmFkZFN0YWtlaG9sZGVyID0gYWRkU3Rha2Vob2xkZXI7XHJcbiAgICAgICAgc2VsZi5jYXJmID0ge1xyXG4gICAgICAgICAgICBwbXM6IFwiXCIsXHJcbiAgICAgICAgICAgIHZhbHVlczogW10sXHJcbiAgICAgICAgICAgIHByaW9yaXR5OiBcIlwiLFxyXG4gICAgICAgICAgICByZXF1aXJlbWVudDogXCJcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuaW5pdENhcmYgPSBpbml0Q2FyZjtcclxuICAgICAgICBzZWxmLmNhcmZMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5jYXJmUHJpb3JpdHlMaXN0ID0gW107XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRDYXJmKCl7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGNhcmYoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9jYWxTdGFrZWhvbGRlcnMgPSBkYXRhLnN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmZMaXN0ID0gZGF0YS5jYXJmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBzZWxmLmxvY2FsUHJpb3JpdHlMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzZXRDYXJmKCl7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZiA9IHtcclxuICAgICAgICAgICAgICAgIF9pZDogXCJcIixcclxuICAgICAgICAgICAgICAgIHBtczogXCJcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlczogW10sXHJcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogXCJcIixcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzZWxmLnZhbHVlTGlzdCA9IFtdO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RDQVJGYWRkJywgZnVuY3Rpb24gKGNhcmYpIHtcclxuICAgICAgICAgICAgc2VsZi5jYXJmTGlzdC5wdXNoKGNhcmYpO1xyXG4gICAgICAgICAgICByZXNldENhcmYoKTtcclxuICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBzZWxmLmxvY2FsUHJpb3JpdHlMaXN0O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRwbXN2YWx1ZShjYXJmKXtcclxuXHJcbiAgICAgICAgICAgIGlmKGNhcmYucG1zID09PSBcIlwiKXtcclxuICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBQTVNcIik7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgaWYoY2FyZi52YWx1ZXMubGVuZ3RoIDwgMSApe1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBvbmUgb3IgbW9yZSBWYWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhcmYuc3Rha2Vob2xkZXJzLmxlbmd0aCA8IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZWxlY3Qgb25lIG9yIG1vcmUgU3Rha2Vob2xkZXIocylcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhcmYucHJpb3JpdHkgPT09IFwiXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IHByaW9yaXR5IFtMb3csIE1lZGl1bSBvciBIaWdoXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0Q0FSRmFkZCcsIGNhcmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZlByaW9yaXR5TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENBUkZyZW1vdmUnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgc2VsZi5jYXJmTGlzdC5zcGxpY2UoaWQsMSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNBUkYoaW5kZXgsY2FyZil7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICBjYXJmOiBjYXJmXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDQVJGcmVtb3ZlJywgb2JqKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZWxlY3RQTVNWYWx1ZShwbXMpe1xyXG4gICAgICAgICAgICBpZihwbXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuY2FyZlBNU1ZhbHVlLCBmdW5jdGlvbiAocG1zX3ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBtc192YWx1ZS5wbXMgPT0gcG1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi52YWx1ZUxpc3QgPSBwbXNfdmFsdWUudmFsdWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldFByaW90aXR5KHByaW9yaXR5KXtcclxuICAgICAgICAgICAgc2VsZi5jYXJmLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRMaXN0VmFsdWUobmV3dmFsdWUpe1xyXG4gICAgICAgICAgIGlmKHNlbGYuY2FyZi52YWx1ZXMubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMucHVzaChuZXd2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmNhcmYudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICBpZiAobmV3dmFsdWUgPT0gc2VsZi5jYXJmLnZhbHVlc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBzZWxmLmNhcmYudmFsdWVzLnB1c2gobmV3dmFsdWUpO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFN0YWtlaG9sZGVyKG5ld1N0YWtlaG9sZGVyKXtcclxuICAgICAgICAgICAgaWYoc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5wdXNoKG5ld1N0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld1N0YWtlaG9sZGVyID09IHNlbGYuY2FyZi5zdGFrZWhvbGRlcnNbaV0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5wdXNoKG5ld1N0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5sb2NhbFByaW9yaXR5TGlzdCA9IFsnTG93JywgJ01lZGl1bScsJ0hpZ2gnXTtcclxuXHJcbiAgICAgICAgc2VsZi5jYXJmUE1TVmFsdWUgPSBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJJbnRlcmFjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJZGVudGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk5vcm1zXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiQXNzb2NpYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udmVyc2F0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiR3JvdXBzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVsYXRpb25zaGlwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVHJ1c3RcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJMZWFybmluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJNZXRhLWNvbW11bmljYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJQbGF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkFlc3RoZXRpY3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJFbW90aW9uIGFuZCBBZmZlY3Rpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJQcm90ZWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkluZm9ybWVkIGNvbnNlcnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJSZXB1dGF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU2VjdXJpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJFeHBsb2l0YXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQWNjZXNzaWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk9iamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlByb3BlcnR5IChvd25lcnNoaXApXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVXNhYmlsaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiVGVwb3JhbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBdmFpbGFiaWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBd2FyZW5lc3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQcmVzZW5jZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlRlcnJpdG9yaWFsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlBvcnRhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJpdmFjeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNjYWxhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVmlzaWJpbGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkNsYXNzaWZpY2F0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkF1dG9ub215XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29sbGFib3JhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNoYXJpbmdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBZGFwdGFiaWxpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJTdWJzaXN0ZW5jZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJSZWNpcHJvY2l0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDE1LzA3LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2NoYXREU0MnLGNoYXREU0MpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNoYXREU0MoJHRpbWVvdXQsIFNvY2tldCwgcHJvYmxlbVNlcnZpY2UsICR3aW5kb3cpIHtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYubmV3bXNnID0gXCJcIjtcclxuICAgICAgICBzZWxmLm1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgc2VsZi5yZXBsYXkgPSBmYWxzZTtcclxuICAgICAgICBzZWxmLm5pY2tuYW1lID0gXCJcIjtcclxuICAgICAgICBzZWxmLnVzZXJMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5pbml0SGlzdG9yeUNoYXQgPSBpbml0SGlzdG9yeUNoYXQ7XHJcbiAgICAgICAgc2VsZi5zaG93UmVwbGF5ID0gc2hvd1JlcGxheTtcclxuICAgICAgICBzZWxmLnNlbmRNZXNzYWdlID0gc2VuZE1lc3NhZ2U7XHJcbiAgICAgICAgc2VsZi5waG90byA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5vcGVuQ2hhdCA9IG9wZW5DaGF0O1xyXG4gICAgICAgIHNlbGYuaXNPcGVuQ2hhdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBvcGVuQ2hhdCgpe1xyXG4gICAgICAgICAgICBzZWxmLmlzT3BlbkNoYXQgPSAhc2VsZi5pc09wZW5DaGF0O1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZScpLmZvY3VzKClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRIaXN0b3J5Q2hhdCgpe1xyXG4gICAgICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgICAgICAgICAgc2VsZi5waG90byA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bob3RvJyk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGhpc3RvcnljaGF0KHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaGlzdG9yeWNoYXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShkYXRhLmhpc3RvcnljaGF0W2ldLnRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1zbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuaWNrbmFtZTogZGF0YS5oaXN0b3J5Y2hhdFtpXS5uaWNrbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGRhdGEuaGlzdG9yeWNoYXRbaV0ubXNnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IHRtcC5nZXREYXRlKCkgKyBcIi9cIiArICh0bXAuZ2V0TW9udGgoKSArIDEgKSsgXCIvXCIgKyB0bXAuZ2V0RnVsbFllYXIoKSArIFwiIFtcIiArIHRtcC5nZXRIb3VycygpICsgXCI6XCIgKyB0bXAuZ2V0TWludXRlcygpICsgXCJdIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKG1zbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2NoZWNrVXNlcnMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dSZXBsYXkoKXtcclxuICAgICAgICAgICAgaWYoc2VsZi5yZXBsYXkpe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5yZXBsYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlcGxheSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RDaGF0JywgZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICB2YXIgdG1wID0gbmV3IERhdGUob2JqW29iai5sZW5ndGggLTFdLnRpbWUpO1xyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmlja25hbWU6IG9ialtvYmoubGVuZ3RoIC0xXS5uaWNrbmFtZSxcclxuICAgICAgICAgICAgICAgIG1zZzogb2JqW29iai5sZW5ndGggLTFdLm1zZyxcclxuICAgICAgICAgICAgICAgIHRpbWU6IHRtcC5nZXREYXRlKCkgKyBcIi9cIiArICh0bXAuZ2V0TW9udGgoKSArIDEpICsgXCIvXCIgKyB0bXAuZ2V0RnVsbFllYXIoKSArIFwiIFtcIiArIHRtcC5nZXRIb3VycygpICsgXCI6XCIgKyB0bXAuZ2V0TWludXRlcygpICsgXCJdIFwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uQ2hlY2tVc2VycycsIGZ1bmN0aW9uICh1c2VyTGlzdCkge1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJMaXN0ID0gdXNlckxpc3Q7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKGNoYXRtc2cpe1xyXG4gICAgICAgICAgICBpZihjaGF0bXNnID09PSB1bmRlZmluZWQgfHwgY2hhdG1zZy5sZW5ndGggPCAyICl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENoYXQnLCBjaGF0bXNnKTtcclxuICAgICAgICAgICAgc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8qXHJcbnZhciBzZWxmID0gdGhpcztcclxuc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG5zZWxmLm1lc3NhZ2VzID0gW107XHJcbnNlbGYucmVwbGF5ID0gZmFsc2U7XHJcbnNlbGYubmlja25hbWUgPSBcIlwiO1xyXG5zZWxmLnVzZXJMaXN0ID0gW107XHJcbnNlbGYuaW5pdEhpc3RvcnlDaGF0ID0gaW5pdEhpc3RvcnlDaGF0O1xyXG5zZWxmLmNsb3NlID0gY2xvc2U7XHJcbnNlbGYuc2hvd1JlcGxheSA9IHNob3dSZXBsYXk7XHJcbnNlbGYuc2VuZE1lc3NhZ2UgPSBzZW5kTWVzc2FnZTtcclxuXHJcbmZ1bmN0aW9uIGNsb3NlKCkge1xyXG4gICAgJG1kU2lkZW5hdignY2hhdCcpLmNsb3NlKClcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRsb2cuZGVidWcoXCJjbG9zZSBjaGF0XCIpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0SGlzdG9yeUNoYXQoKXtcclxuICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgIHNlbGYucGhvdG8gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG90bycpO1xyXG4gICAgcHJvYmxlbVNlcnZpY2UuZ2V0aGlzdG9yeWNoYXQoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5oaXN0b3J5Y2hhdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShkYXRhLmhpc3RvcnljaGF0W2ldLnRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtc24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBkYXRhLmhpc3RvcnljaGF0W2ldLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGRhdGEuaGlzdG9yeWNoYXRbaV0ubXNnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxICkrIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKG1zbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIFNvY2tldC5lbWl0KCdjaGVja1VzZXJzJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dSZXBsYXkoKXtcclxuICAgIGlmKHNlbGYucmVwbGF5KXtcclxuICAgICAgICBzZWxmLnJlcGxheSA9IGZhbHNlO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgc2VsZi5yZXBsYXkgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5Tb2NrZXQub24oJ29uQnJvYWRjYXN0Q2hhdCcsIGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHZhciB0bXAgPSBuZXcgRGF0ZShvYmpbb2JqLmxlbmd0aCAtMV0udGltZSk7XHJcbiAgICBzZWxmLm1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgIG5pY2tuYW1lOiBvYmpbb2JqLmxlbmd0aCAtMV0ubmlja25hbWUsXHJcbiAgICAgICAgbXNnOiBvYmpbb2JqLmxlbmd0aCAtMV0ubXNnLFxyXG4gICAgICAgIHRpbWU6IHRtcC5nZXREYXRlKCkgKyBcIi9cIiArICh0bXAuZ2V0TW9udGgoKSArIDEpICsgXCIvXCIgKyB0bXAuZ2V0RnVsbFllYXIoKSArIFwiIFtcIiArIHRtcC5nZXRIb3VycygpICsgXCI6XCIgKyB0bXAuZ2V0TWludXRlcygpICsgXCJdIFwiXHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5Tb2NrZXQub24oJ29uQ2hlY2tVc2VycycsIGZ1bmN0aW9uICh1c2VyTGlzdCkge1xyXG4gICAgc2VsZi51c2VyTGlzdCA9IHVzZXJMaXN0O1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHNlbmRNZXNzYWdlKGNoYXRtc2cpe1xyXG4gICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENoYXQnLCBjaGF0bXNnKTtcclxuICAgIHNlbGYubmV3bXNnID0gXCJcIjtcclxufSovXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTAvMDcvMjAxNS5cclxuICovXHJcblxyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbnRyb2xsZXJDb2xsYWJvcmF0b3JzJywgY29udHJvbGxlckNvbGxhYm9yYXRvcnMpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXJDb2xsYWJvcmF0b3JzKCR3aW5kb3csU29ja2V0LHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwKXtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuaWRQcm9ibGVtID0gXCJcIjtcclxuICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnMgPSBbXTtcclxuICAgICAgICBzZWxmLnVzZXJlbWFpbCA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5pbml0Q29sbGFib3JhdG9ycyA9IGluaXRDb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgIHNlbGYuYWRkQ29sbGFib3JhdG9yID0gYWRkQ29sbGFib3JhdG9yO1xyXG4gICAgICAgIHNlbGYucmVtb3ZlQ29sbGFib3JhdG9yID0gcmVtb3ZlQ29sbGFib3JhdG9yO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0Q29sbGFib3JhdG9ycygpe1xyXG4gICAgICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJlbWFpbCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJlbWFpbCcpO1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRjb2xsYWJvcmF0b3JzKHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnMgPSBkYXRhLmNvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vU29ja2V0LmVtaXQoJ2NoZWNrVXNlcnMnKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZWFyY2hDYWxsYWJvcmF0aW9uKGVtYWlsKXtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHNlbGYuY29sbGFib3JhdG9ycy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZihlbWFpbCA9PSBzZWxmLmNvbGxhYm9yYXRvcnNbaV0uZW1haWwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZENvbGxhYm9yYXRvcihlbWFpbCl7XHJcbiAgICAgICAgICAgIGlmKHNlbGYudXNlcmVtYWlsID09IGVtYWlsKXtcclxuICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShzZWxmLnVzZXJlbWFpbCArIFwiIGlzIGVtYWlsIG9mIG93bmVyLlwiKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaENhbGxhYm9yYXRpb24oZW1haWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiVXN1YXJpbyBDYWRhc3RyYWRvLlwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludml0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWRwcm9ibGVtOiBzZWxmLmlkUHJvYmxlbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5pbnZpdGUoaW52aXRlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29sbGFib3JhdG9ycyA9IGRhdGEuY29sbGFib3JhdG9ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVDb2xsYWJvcmF0b3IocGVvcGxlKXtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgIGlkcHJvYmxlbTogc2VsZi5pZFByb2JsZW0sXHJcbiAgICAgICAgICAgICAgICBlbWFpbDogcGVvcGxlLmVtYWlsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UucmVtb3ZlY29sbGFib3JhdG9ycyhvYmopXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkNvbGFib3JhZG9yIGZvaSByZW1vdmlkbyBkbyBwcm9qZXRvLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb2xsYWJvcmF0b3JzID0gZGF0YS5jb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qU29ja2V0Lm9uKCdvbkNoZWNrVXNlcnMnLCBmdW5jdGlvbiAodXNlckxpc3QpIHtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCB1c2VyTGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyTGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgc2VsZi5jb2xsYWJvcmF0b3JzLmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyTGlzdFtpXSArICcgICAnICsgc2VsZi5jb2xsYWJvcmF0b3JzW2pdLm5pY2tuYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHVzZXJMaXN0W2ldID09PSBzZWxmLmNvbGxhYm9yYXRvcnNbal0ubmlja25hbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnNbal0ubmlja25hbWUgPSBzZWxmLmNvbGxhYm9yYXRvcnNbal0ubmlja25hbWUgKyAnIChvbmxpbmUpICc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pOyovXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyMi8wNy8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignZHNjUmVwb3J0Q29udHJvbGxlcicsZHNjUmVwb3J0Q29udHJvbGxlcik7XHJcblxyXG5mdW5jdGlvbiBkc2NSZXBvcnRDb250cm9sbGVyKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaWRwcm9ibGVtID0gJ2FqZmxhamZsamFsZmphbGpmJztcclxuICAgIHNlbGYuYnVpZFJlcG9ydCA9IGJ1aWRSZXBvcnQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYnVpZFJlcG9ydChlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGh0bWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFJlc3BvcnQnKTtcclxuICAgICAgICB2YXIgcGRmID0gbmV3IGpzUERGKCdsJywncHgnKTtcclxuICAgICAgICBwZGYuYWRkSFRNTChcclxuICAgICAgICAgICAgaHRtbCwgMCwgMCwge1xyXG4gICAgICAgICAgICAgICAgcGFnZXNwbGl0OiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGRpc3Bvc2Upe1xyXG4gICAgICAgICAgICAgICAgcGRmLnNhdmUoJ3Rlc3QucGRmJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2V2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyJyxldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlcik7XHJcblxyXG4gIGZ1bmN0aW9uIGV2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyICgkd2luZG93LHByb2JsZW1TZXJ2aWNlLFNvY2tldCx0b2FzdEFwcCl7XHJcblxyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHNlbGYuZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QgPVtdO1xyXG4gICAgICBzZWxmLmluaXRFdmFsdWF0aW9uID0gaW5pdEV2YWx1YXRpb247XHJcbiAgICAgIHNlbGYuc2V0T3BlbkVkaXREaXNjdXRpb24gPSBzZXRPcGVuRWRpdERpc2N1dGlvbjtcclxuICAgICAgc2VsZi5zYXZlRGlzY3V0aW9uID0gc2F2ZURpc2N1dGlvbjtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGluaXRFdmFsdWF0aW9uKCl7XHJcbiAgICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRldmFsdWF0aW9uKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLmV2YWx1YXRpb25mcmFtZXdvcmtMaXN0ID0gZGF0YS5ldmFsdWF0aW9uZnJhbWV3b3JrO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RGcmFtZVNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QsZnVuY3Rpb24oZXZhbHVhdGlvbmZyYW1ld29yayl7XHJcbiAgICAgICAgICAgICBpZiggZXZhbHVhdGlvbmZyYW1ld29yay5vbmlvbmxheWVyID09IGRhdGEub25pb25sYXllcil7XHJcbiAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGV2YWx1YXRpb25mcmFtZXdvcmsuc3Rha2Vob2xkZXJzLGZ1bmN0aW9uKHN0YWtlaG9sZGVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWtlaG9sZGVyLl9pZCA9PSBkYXRhLl9pZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub25pb25sYXllciA9IGRhdGEub25pb25sYXllcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZGF0YS5vcGVuRWRpdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnByb2JsZW1zID0gZGF0YS5wcm9ibGVtcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnNvbHV0aW9ucyA9IGRhdGEuc29sdXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmdW5jdGlvbiBzYXZlRGlzY3V0aW9uKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0RnJhbWVTYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBTb2NrZXQub24oJ29uVXBkYXRlU3Rha2Vob2xkZXInLCBmdW5jdGlvbiAoc3Rha2Vob2xkZXJPbmlvbikge1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhzdGFrZWhvbGRlck9uaW9uKTtcclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gc2V0T3BlbkVkaXREaXNjdXRpb24oY3VycmVudFN0YWtlaG9sZGVyKXtcclxuICAgICAgICAgIGN1cnJlbnRTdGFrZWhvbGRlci5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignbWVudVByb2JsZW1Db250cm9sbGVyJywgbWVudVByb2JsZW1hQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gbWVudVByb2JsZW1hQ29udHJvbGxlcihBdXRoLCAkc3RhdGUsICR3aW5kb3csIHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwLCBTb2NrZXQpe1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgLy9zZWxmLm9wZW5DaGF0ID0gYnVpbGRUb2dnbGVyKCdjaGF0Jyk7XHJcbiAgICAgICAgc2VsZi5mb3JtQWRkQ29sbGFib3JhdG9ycyA9IGZvcm1BZGRDb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgIHNlbGYuZWRpdERlc2NyaXB0aW9uUHJvYmxlbSA9IGVkaXREZXNjcmlwdGlvblByb2JsZW07XHJcbiAgICAgICAgc2VsZi5kb0xvZ291dCA9IGRvTG9nb3V0O1xyXG4gICAgICAgIHNlbGYuc3lzdGVtUmV0dXJuID0gc3lzdGVtUmV0dXJuO1xyXG4gICAgICAgIHNlbGYuZm9ybVByb2JsZW1SZXBvcnQgPSBmb3JtUHJvYmxlbVJlcG9ydDtcclxuICAgICAgICBzZWxmLmdldEN1cnJlbnRQcm9ibGVtID0gZ2V0Q3VycmVudFByb2JsZW07XHJcbiAgICAgICAgc2VsZi5uaWNrbmFtZTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q3VycmVudFByb2JsZW0oKXtcclxuICAgICAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHByb2JsZW0oc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbSA9IGRhdGEucHJvYmxlbTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBpbml0c29ja2V0cHJvYmxlbSA9IHtcclxuICAgICAgICAgICAgICAgIFwiaWRwcm9ibGVtXCI6IHNlbGYuaWRQcm9ibGVtLFxyXG4gICAgICAgICAgICAgICAgXCJuaWNrbmFtZVwiOiBzZWxmLm5pY2tuYW1lXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdpbml0UHJvYmxlbScsIGluaXRzb2NrZXRwcm9ibGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3lzdGVtUmV0dXJuKCl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnRwcm9ibGVtJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZm9ybUFkZENvbGxhYm9yYXRvcnMoKXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLmNvbGxhYm9yYXRvcnMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZvcm1Qcm9ibGVtUmVwb3J0KCl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnZHNjcmVwb3J0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBlZGl0RGVzY3JpcHRpb25Qcm9ibGVtKCkge1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2JsZW0uZGVzY3JpcHRpb24nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRvTG9nb3V0KCkge1xyXG4gICAgICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbigpe1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignZWRpdFByb2JsZW1Db250cm9sbGVyJyxlZGl0UHJvYmxlbWFDb250cm9sbGVyKTtcclxuZWRpdFByb2JsZW1hQ29udHJvbGxlci4kaW5qZWN0cmUgPSBbJyRzY29wZScsJ1NvY2tldCddO1xyXG5cclxuZnVuY3Rpb24gZWRpdFByb2JsZW1hQ29udHJvbGxlcihTb2NrZXQsICR0aW1lb3V0LHRvYXN0QXBwLCR3aW5kb3cscHJvYmxlbVNlcnZpY2UpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgdXBkYXRlVHJ1ZSA9IHRydWU7XHJcbiAgICBzZWxmLnByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi5wcm9ibGVtVXBkYXRlID0gcHJvYmxlbVVwZGF0ZTtcclxuICAgIHNlbGYuZ2V0Q3VycmVudFByb2JsZW0gPSBnZXRDdXJyZW50UHJvYmxlbTtcclxuICAgIHNlbGYuc2F2ZURlc2NyaXB0aW9uID0gc2F2ZURlc2NyaXB0aW9uO1xyXG4gICAgc2VsZi5uaWNrbmFtZTtcclxuICAgIHNlbGYubG9jYWxjb2RlID0gJyc7XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRQcm9ibGVtKCl7XHJcblxyXG4gICAgICAgIHNlbGYubmlja25hbWUgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpO1xyXG4gICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgc2VsZi5sb2NhbGNvZGUgPSAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxjb2RlJyk7XHJcblxyXG5cclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRwcm9ibGVtKHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW0gPSBkYXRhLnByb2JsZW07XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGluaXRzb2NrZXRwcm9ibGVtID0ge1xyXG4gICAgICAgICAgICBcImlkcHJvYmxlbVwiOiBzZWxmLmlkUHJvYmxlbSxcclxuICAgICAgICAgICAgXCJuaWNrbmFtZVwiOiBzZWxmLm5pY2tuYW1lXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnaW5pdFByb2JsZW0nLCBpbml0c29ja2V0cHJvYmxlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0VXBkYXRlKCl7XHJcbiAgICAgICAgdXBkYXRlVHJ1ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkF0dWFsaXphclByb2JsZW1hJywgZnVuY3Rpb24gKHJldG9ybm8pIHtcclxuICAgICAgICBpZihzZWxmLmxvY2FsY29kZSAhPT0gcmV0b3Juby5sb2NhbGNvZGUpIHtcclxuICAgICAgICAgICAgc2VsZi5wcm9ibGVtLmRlc2NyaXB0aW9uID0gcmV0b3Juby5kZXNjcmlwdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5wcm9ibGVtLnVwZGF0ZSA9IHVwZGF0ZVRydWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9ibGVtVXBkYXRlKHByb2JsZW0pIHtcclxuICAgICAgICBwcm9ibGVtLnVwZGF0ZSA9IHVwZGF0ZVRydWU7XHJcbiAgICAgICAgcHJvYmxlbS5sb2NhbGNvZGUgPSBzZWxmLmxvY2FsY29kZTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYXR1YWxpemFyUHJvYmxlbWEnLCBwcm9ibGVtKTtcclxuICAgICAgICBpZiAodXBkYXRlVHJ1ZSkge1xyXG4gICAgICAgICAgICB1cGRhdGVUcnVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KHNldFVwZGF0ZSwgMjAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVEZXNjcmlwdGlvbihwcm9ibGVtKSB7XHJcbiAgICAgICAgcHJvYmxlbS5sb2NhbGNvZGUgPSBzZWxmLmxvY2FsY29kZTtcclxuICAgICAgICBwcm9ibGVtLnVwZGF0ZSA9IHVwZGF0ZVRydWU7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2F0dWFsaXphclByb2JsZW1hJywgcHJvYmxlbSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG59XHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTIvMDgvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Byb2JsZW1SZXBvcnRDb250cm9sbGVyJyxwcm9ibGVtUmVwb3J0Q29udHJvbGxlcik7XHJcblxyXG5cclxuICAgICBmdW5jdGlvbiBwcm9ibGVtUmVwb3J0Q29udHJvbGxlcigkd2luZG93LHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwLCRzdGF0ZSl7XHJcblxyXG4gICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgIHNlbGYuaWRQcm9ibGVtO1xyXG4gICAgICAgICBzZWxmLnByb2JsZW07XHJcbiAgICAgICAgIHNlbGYuaW5pdFByb2JsZW1QZXBvcnQgPSBpbml0UHJvYmxlbVBlcG9ydDtcclxuICAgICAgICAgc2VsZi5zeXN0ZW1SZXR1cm4gPSBzeXN0ZW1SZXR1cm47XHJcblxyXG4gICAgICAgICBmdW5jdGlvbiBpbml0UHJvYmxlbVBlcG9ydCgpe1xyXG5cclxuICAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcblxyXG4gICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbXJlcG9ydChzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtID0gZGF0YS5wcm9ibGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICBmdW5jdGlvbiBzeXN0ZW1SZXR1cm4oKXtcclxuICAgICAgICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5zdGFrZWhvbGRlcnMnKTtcclxuICAgICAgICAgfVxyXG5cclxuICAgICB9XHJcblxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ3Byb2JsZW1TZXJ2aWNlJywgcHJvYmxlbVNlcnZpY2UpO1xyXG5cclxuICBwcm9ibGVtU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsJyRsb2NhdGlvbiddO1xyXG5cclxuICBmdW5jdGlvbiBwcm9ibGVtU2VydmljZSgkaHR0cCwkbG9jYXRpb24pIHtcclxuXHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNUyA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbXMnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVNDT0xMQUJPUkFUT1IgPSAnL2FwaS9wcm9ibGVtL2dldHByb2JsZW1zY29sbGFib3JhdG9yJztcclxuICAgIHZhciBBUElfUk9VVEVfTkVXUFJPQkxFTSA9ICcvYXBpL3Byb2JsZW0vbmV3cHJvYmxlbSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFBST0JMRU0gPSAnL2FwaS9wcm9ibGVtL2dldHByb2JsZW0nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRQUk9CTEVNUkVQT1JUID0gJy9hcGkvcHJvYmxlbS9nZXRwcm9ibGVtcmVwb3J0JztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUQ09MTEFCT1JBVE9SUyA9ICcvYXBpL3Byb2JsZW0vZ2V0Y29sbGFib3JhdG9ycyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0lOVklURSA9ICcvYXBpL3Byb2JsZW0vaW52aXRlJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUT05JT04gPSAnL2FwaS9wcm9ibGVtL2dldG9uaW9uJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VURVZBTFVBVElPTiA9ICcvYXBpL3Byb2JsZW0vZ2V0ZXZhbHVhdGlvbic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFNFTUlPVElDRlJBTUVXT1JLID0gJy9hcGkvcHJvYmxlbS9nZXRzZW1pb3RpYyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVENBUkYgPSAnL2FwaS9wcm9ibGVtL2dldGNhcmYnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9SRU1PVkVQUk9CTEVNID0gJy9hcGkvcHJvYmxlbS9yZW1vdmVwcm9ibGVtJztcclxuICAgIHZhciBBUElfUk9VVEVfUkVNT1ZFQ09MTEFCT1JBVE9SID0gJy9hcGkvcHJvYmxlbS9yZW1vdmVjb2xsYWJvcmF0b3InO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRISVNUT1JZQ0hBVCA9ICcvYXBpL3Byb2JsZW0vaGlzdG9yeWNoYXQnO1xyXG5cclxuICAgIHZhciBzZXJ2aWNlID0ge1xyXG4gICAgICBuZXdwcm9ibGVtICAgICAgIDogbmV3cHJvYmxlbSxcclxuICAgICAgZ2V0dXNlcnByb2JsZW1zICA6IGdldHVzZXJwcm9ibGVtcyxcclxuICAgICAgZ2V0cHJvYmxlbSAgICAgICA6IGdldHByb2JsZW0sXHJcbiAgICAgIGdldGNvbGxhYm9yYXRvcnMgOiBnZXRjb2xsYWJvcmF0b3JzLFxyXG4gICAgICBpbnZpdGUgICAgICAgICAgIDogaW52aXRlLFxyXG4gICAgICBnZXRvbmlvbiAgICAgICAgIDogZ2V0b25pb24sXHJcbiAgICAgIGdldGV2YWx1YXRpb24gICAgOiBnZXRldmFsdWF0aW9uLFxyXG4gICAgICBnZXRzZW1pb3RpYyAgICAgIDogZ2V0c2VtaW90aWMsXHJcbiAgICAgIGdldGNhcmYgICAgICAgICAgOiBnZXRjYXJmLFxyXG4gICAgICByZW1vdmVwcm9ibGVtICAgIDogcmVtb3ZlcHJvYmxlbSxcclxuICAgICAgZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3I6IGdldHByb2JsZW1zY29sbGFib3JhdG9yLFxyXG4gICAgICByZW1vdmVjb2xsYWJvcmF0b3JzIDogcmVtb3ZlY29sbGFib3JhdG9ycyxcclxuICAgICAgZ2V0aGlzdG9yeWNoYXQ6IGdldGhpc3RvcnljaGF0LFxyXG4gICAgICBnZXRwcm9ibGVtcmVwb3J0IDogZ2V0cHJvYmxlbXJlcG9ydFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gc2VydmljZTtcclxuXHJcbiAgICBmdW5jdGlvbiBuZXdwcm9ibGVtKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfTkVXUFJPQkxFTSwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0cHJvYmxlbXJlcG9ydChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUUFJPQkxFTVJFUE9SVCArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0cHJvYmxlbShkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUUFJPQkxFTSArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0dXNlcnByb2JsZW1zKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVMgKyAnP2VtYWlsPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Y29sbGFib3JhdG9ycyhkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUQ09MTEFCT1JBVE9SUyArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW52aXRlKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfSU5WSVRFLCBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0b25pb24oZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVE9OSU9OICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRldmFsdWF0aW9uIChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VURVZBTFVBVElPTiArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0c2VtaW90aWMgKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRTRU1JT1RJQ0ZSQU1FV09SSyArICc/aWRwcm9ibGVtPScgKyBkYXRhIClcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRjYXJmKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRDQVJGICsgJz9pZHByb2JsZW09JyArIGRhdGEgKVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZXByb2JsZW0oZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX1JFTU9WRVBST0JMRU0gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldHByb2JsZW1zY29sbGFib3JhdG9yKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVNDT0xMQUJPUkFUT1IgKyAnP2VtYWlsPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlY29sbGFib3JhdG9ycyhkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfUkVNT1ZFQ09MTEFCT1JBVE9SICsgJz9pZHByb2JsZW09JyArIGRhdGEuaWRwcm9ibGVtICsgJyZlbWFpbD0nICsgZGF0YS5lbWFpbCApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldGhpc3RvcnljaGF0KGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRISVNUT1JZQ0hBVCArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXInLHNlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlcik7XHJcblxyXG5mdW5jdGlvbiBzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIoU29ja2V0LCR3aW5kb3csIHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwKXtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmlkcHJvYmxlbSA9IFwiXCI7XHJcbiAgICBzZWxmLnNhdmVTb2NpYWxXb3JsZCA9IHNhdmVTb2NpYWxXb3JsZDtcclxuICAgIHNlbGYuc2F2ZVByYWdtYXRpYyA9IHNhdmVQcmFnbWF0aWM7XHJcbiAgICBzZWxmLnNhdmVTZW1hbnRpYyA9IHNhdmVTZW1hbnRpYztcclxuICAgIHNlbGYuc2F2ZVN5bnRhdGljID0gc2F2ZVN5bnRhdGljO1xyXG4gICAgc2VsZi5zYXZlRW1waXJpY2FsID0gc2F2ZUVtcGlyaWNhbDtcclxuICAgIHNlbGYuc2F2ZVBoeXNpY2FsID0gc2F2ZVBoeXNpY2FsO1xyXG4gICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yayA9IFwiXCI7XHJcbiAgICBzZWxmLmluaXRTZW1pb3RpY0ZyYW1ld29yayA9IGluaXRTZW1pb3RpY0ZyYW1ld29yaztcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0U2VtaW90aWNGcmFtZXdvcmsoKXtcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHNlbWlvdGljKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrID0gZGF0YS5zZW1pb3RpY2ZyYW1ld29yaztcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlU29jaWFsV29ybGQnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuc29jaWFsd29ybGQgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVNvY2lhbFdvcmxkKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVTb2NpYWxXb3JsZCcsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVByYWdtYXRpYycsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5wcmFnbWF0aWMgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVByYWdtYXRpYyh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlUHJhZ21hdGljJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlU2VtYW50aWMnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuc2VtaW90aWNyYW1ld29yayA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlU2VtYW50aWModGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVNlbWFudGljJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlU3ludGF0aWMnLCBmdW5jdGlvbiAodGV4dCxmbGFnU2F2ZSkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuc3ludGF0aWMgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVN5bnRhdGljKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVTeW50YXRpYycsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZUVtcGlyaWNhbCcsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5lbXBpcmljYWwgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZUVtcGlyaWNhbCh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlRW1waXJpY2FsJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlUGh5c2ljYWwnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsucGh5c2ljYWwgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVBoeXNpY2FsKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVQaHlzaWNhbCcsIG9iaik7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdzdGFrZWhvbGRlckNvbnRyb2xsZXInLHN0YWtlaG9sZGVyQ29udHJvbGxlcik7XHJcblxyXG5cclxuZnVuY3Rpb24gc3Rha2Vob2xkZXJDb250cm9sbGVyKFNvY2tldCwkd2luZG93LHByb2JsZW1TZXJ2aWNlLCRtZERpYWxvZyx0b2FzdEFwcCl7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pZHByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXTtcclxuICAgIHNlbGYuc3Rha2Vob2xkZXIgPSBcIlwiO1xyXG4gICAgc2VsZi5pbnRpdE9uaW9uID0gaW50aXRPbmlvbjtcclxuICAgIHNlbGYubW92ZSA9IGZhbHNlO1xyXG4gICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgc2VsZi5zYXZlU3Rha2Vob2xkZXIgPSBzYXZlU3Rha2Vob2xkZXI7XHJcbiAgICBzZWxmLnNldE9wZW5FZGl0ID0gc2V0T3BlbkVkaXQ7XHJcbiAgICBzZWxmLmRlbFBvc3RJdCA9IGRlbFBvc3RJdDtcclxuICAgIHNlbGYuYWRkUG9zdEl0ID0gYWRkUG9zdEl0O1xyXG4gICAgc2VsZi5hY2VuZGUgPSBhY2VuZGU7XHJcbiAgICBzZWxmLmFwYWdhID0gYXBhZ2E7XHJcbiAgICBzZWxmLnVwZGF0ZUNvZGVPbmlvbiA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGludGl0T25pb24oKXtcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldG9uaW9uKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IGRhdGEuc3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uU2F2ZScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5zdGFrZWhvbGRlckxpc3QsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICBpZiAoc3Rha2Vob2xkZXIuX2lkID09IGRhdGEuX2lkKXtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnN0YWtlaG9sZGVyID0gZGF0YS5zdGFrZWhvbGRlcjtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGRhdGEub3BlbkVkaXQ7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci54ID0gZGF0YS54O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnppbmRleCA9IDEwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVN0YWtlaG9sZGVyKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uU2F2ZScsIHN0YWtlaG9sZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25FZGl0JywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuc3Rha2Vob2xkZXJMaXN0LCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgaWYoc3Rha2Vob2xkZXIuX2lkID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuemluZGV4ID0gOTk5OTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldE9wZW5FZGl0KGlkKXtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25FZGl0JywgaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblJlbW92ZScsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHZhciBzdGFrZWhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Rha2Vob2xkZXJcIiArc2VsZi5zdGFrZWhvbGRlckxpc3RbaWRdLl9pZCk7XHJcbiAgICAgICAgc3Rha2Vob2xkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdC5zcGxpY2UoaWQsMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVQb3N0SXQoaW5kZXgsc3Rha2Vob2xkZXIpIHtcclxuXHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcjogc3Rha2Vob2xkZXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblJlbW92ZScsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVsUG9zdEl0KGV2LGluZGV4LHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpKVxyXG4gICAgICAgICAgICAudGl0bGUoJ0RldGV0ZSBTdGFrZWhvbGRlcj8nKVxyXG4gICAgICAgICAgICAuY29udGVudCgnVGl0bGU6ICcgKyBzdGFrZWhvbGRlci5uYW1lKVxyXG4gICAgICAgICAgICAuYXJpYUxhYmVsKCdSZW1vdmUgU3Rha2Vob2xkZXInKVxyXG4gICAgICAgICAgICAub2soJ1llcyEnKVxyXG4gICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWwnKVxyXG4gICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVBvc3RJdChpbmRleCxzdGFrZWhvbGRlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uQWRkJywgZnVuY3Rpb24gKHJldG9ybm8pIHtcclxuICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdC5wdXNoKHJldG9ybm8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUG9zdEl0KGUsY2FtYWRhKSB7XHJcblxyXG4gICAgICAgIHZhciBuZXdTdGFrZWhvbGRlciA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcIm9uaW9ubGF5ZXJcIjogY2FtYWRhLFxyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJcIixcclxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcIm9wZW5FZGl0XCI6IHRydWUsXHJcbiAgICAgICAgICAgIFwieFwiOiBlLnBhZ2VYICsgJ3B4JyxcclxuICAgICAgICAgICAgXCJ5XCI6IChlLnBhZ2VZKSArICdweCdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvbkFkZCcsIG5ld1N0YWtlaG9sZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhY2VuZGUoaWQpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIitpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICd0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZ2VuZFwiK2lkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMC43XCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMC43XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwYWdhKGlkKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYW1lXCIraWQpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAndGV4dC1kZWNvcmF0aW9uOiBub25lOycpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVnZW5kXCIraWQpLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgXCIxLjBcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgXCIxLjBcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7IiwiXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignc3RhcnRQcm9ibGVtQ29udHJvbGxlcicsc3RhcnRQcm9ibGVtQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gc3RhcnRQcm9ibGVtQ29udHJvbGxlcigkbWREaWFsb2csICRzdGF0ZSxBdXRoLFNvY2tldCwgJHdpbmRvdywgcHJvYmxlbVNlcnZpY2UsdG9hc3RBcHAgKSB7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLm5pY2tuYW1lID0gXCJcIjtcclxuICAgICAgICBzZWxmLnVzZXJpZCA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi51c2VyZW1haWwgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYucHJvYmxlbUxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLnByb2JsZW1Db2xsYWJvcmF0b3JMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5sb2dpbkluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYuZ2V0UHJvYmxlbXMgPSBnZXRQcm9ibGVtcztcclxuICAgICAgICBzZWxmLnJldm9tdmVQcm9ibGVtID0gcmV2b212ZVByb2JsZW07XHJcbiAgICAgICAgc2VsZi5zdGFydE5ld1Byb2JsZW0gPSBzdGFydE5ld1Byb2JsZW07XHJcbiAgICAgICAgc2VsZi5lZGl0UHJvYmxlbSA9IGVkaXRQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZG9Mb2dvdXQgPSBkb0xvZ291dDtcclxuICAgICAgICBzZWxmLm5ld1Byb2JsZW0gPSBuZXdQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZWRpdFByb2ZpbGUgPSBlZGl0UHJvZmlsZTtcclxuICAgICAgICBzZWxmLnBob3RvO1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UHJvYmxlbXMoKXtcclxuICAgICAgICAgICAgc2VsZi51c2VyaWQgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKTtcclxuICAgICAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIHNlbGYudXNlcmVtYWlsID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmVtYWlsJyk7XHJcbiAgICAgICAgICAgIHNlbGYucGhvdG8gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG90bycpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXR1c2VycHJvYmxlbXMoc2VsZi51c2VyZW1haWwpXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgZGF0YS5wcm9ibGVtcy5sZW5ndGg7IGkrKyApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbiA9IGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24ucmVwbGFjZSgvKDwoW14+XSspPikvaWcsXCJcIikuc3Vic3RyaW5nKDAsNDYwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW1MaXN0ID0gZGF0YS5wcm9ibGVtcztcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHByb2JsZW1zY29sbGFib3JhdG9yKHNlbGYudXNlcmVtYWlsKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGRhdGEucHJvYmxlbXMubGVuZ3RoOyBpKysgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLFwiXCIpLnN1YnN0cmluZygwLDQ2MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtQ29sbGFib3JhdG9yTGlzdCA9IGRhdGEucHJvYmxlbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmxvZ2luSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlUHJvYmxlbShwcm9ibGVtaWQpe1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5yZW1vdmVwcm9ibGVtKHByb2JsZW1pZClcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBzZWxmLnByb2JsZW1MaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGYucHJvYmxlbUxpc3RbaV0uX2lkID09IHByb2JsZW1pZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtTGlzdC5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJldm9tdmVQcm9ibGVtKGV2LHByb2JsZW0pIHtcclxuICAgICAgICAgICAgLy8gQXBwZW5kaW5nIGRpYWxvZyB0byBkb2N1bWVudC5ib2R5IHRvIGNvdmVyIHNpZGVuYXYgaW4gZG9jcyBhcHBcclxuICAgICAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgICAgICAucGFyZW50KGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSlcclxuICAgICAgICAgICAgICAgIC50aXRsZSgnRGV0ZXRlIFByb2JsZW0/JylcclxuICAgICAgICAgICAgICAgIC5jb250ZW50KCdUaXRsZTogJyArIHByb2JsZW0udGl0bGUpXHJcbiAgICAgICAgICAgICAgICAuYXJpYUxhYmVsKCdSZW1vdmUgUHJvYmxlbScpXHJcbiAgICAgICAgICAgICAgICAub2soJ0Rlc2VqbyByZW1vdmVyIScpXHJcbiAgICAgICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWwnKVxyXG4gICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KGV2KTtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZVByb2JsZW0ocHJvYmxlbS5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0TmV3UHJvYmxlbShuZXdwcm9ibGVtKXtcclxuICAgICAgICAgICAgbmV3cHJvYmxlbS51c2VyaWQgPSBzZWxmLnVzZXJpZDtcclxuICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UubmV3cHJvYmxlbShuZXdwcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVkaXRQcm9ibGVtKGRhdGEucHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZWRpdFByb2JsZW0ocHJvYmxlbSkge1xyXG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvYmxlbWlkXCIscHJvYmxlbS5faWQpO1xyXG4gICAgICAgICAgICB2YXIgaW5pdHNvY2tldHByb2JsZW0gPSB7XHJcbiAgICAgICAgICAgICAgICBcImlkcHJvYmxlbVwiOnByb2JsZW0uX2lkLFxyXG4gICAgICAgICAgICAgICAgXCJuaWNrbmFtZVwiOiBzZWxmLm5pY2tuYW1lXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdpbml0UHJvYmxlbScsIGluaXRzb2NrZXRwcm9ibGVtKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLnN0YWtlaG9sZGVycycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZG9Mb2dvdXQoKSB7XHJcbiAgICAgICAgICAgIEF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBlZGl0UHJvZmlsZSgpIHtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9maWxlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBuZXdQcm9ibGVtKGV2KSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogRGlhbG9nQ29udHJvbGxlcixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL25ld3Byb2JsZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBEaWFsb2dDb250cm9sbGVyKCRzY29wZSwgJG1kRGlhbG9nKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5ld1Byb2JsZW0gPSBmdW5jdGlvbihwcm9ibGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFydE5ld1Byb2JsZW0ocHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyMi8wNy8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcigndmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlcicsIHZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIpO1xyXG5cclxuZnVuY3Rpb24gdmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lQ29udHJvbGxlcigkd2luZG93LHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwLFNvY2tldCl7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgc2VsZi5pZFByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi51c2VyZW1haWwgPSBcIlwiO1xyXG4gICAgc2VsZi5uZXd2YWx1ZXMgPSBcIlwiO1xyXG4gICAgc2VsZi5pbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lID0gaW5pdFZhbHVlSWRlbnRpZmljYXRpb25GcmFtZTtcclxuICAgIHNlbGYuc2V0U3VnZ2VzdGlvblNob3cgPSBzZXRTdWdnZXN0aW9uU2hvdztcclxuICAgIHNlbGYubGVhdmVTdWdnZXN0aW9uU2hvdyA9IGxlYXZlU3VnZ2VzdGlvblNob3c7XHJcbiAgICBzZWxmLnJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uID0gcmVtb3ZlVmFsdWVJZGVudGljYXRpb247XHJcbiAgICBzZWxmLnNldFZhbHVlSWRlbnRpY2F0aW9uID0gc2V0VmFsdWVJZGVudGljYXRpb247XHJcbiAgICBzZWxmLnN1Z2VzdGlvblZhbHVlcyA9IFwiXCI7XHJcbiAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdCA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiQ29tbXVuaXR5XCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJNYXJrZXRcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIlNvdXJjZVwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiQ29udHJpYnV0aW9uXCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJUZWNobmljb1wiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuICAgIHNlbGYuc3VnZXN0aW9uVmFsdWVzQXJyYXkgPSBbXHJcbiAgICAgICAgJ0FjZXNzaWJpbGlkYWRlJywnQWRhcHRhYmlsaWRhZGUnLCdFc3TDqXRpY2EnLCdBdXRvbm9taWEnLCAnRGlzcG9uaWJpbGlkYWRlJywgJ0NvbnNjacOqbmNpYScsICdDb2xhYm9yYcOnw6NvJyxcclxuICAgICAgICAnQ29udmVyc2HDp8OjbycsICdFbW/Dp8OjbyBlIEFmZXRvJywgJ0dydXBvcycsICdJZGVudGlkYWRlJywgJ0NvbnNlbnRpbWVudG8gaW5mb3JtYWRvJywgJ01ldGEtY29tdW5pY2HDp8OjbycsICdOb3JtYXMnLFxyXG4gICAgICAgICdPYmpldG8nLCAnUG9ydGFiaWxpZGFkZScsICdQcmVzZW7Dp2EnLCAnUHJpdmFjaWRhZGUnLCAnUHJvcHJpZWRhZGUnLCAnUmVjaXByb2NpZGFkZSwgUmVsYWNpb25hbWVudG8sIFJlcHV0YcOnw6NvJyxcclxuICAgICAgICAnRXNjYWxhYmlsaWRhZGUnLCAnU2VndXJhbsOnYScsICdDb21wYXJ0aWxoYW1lbnRvJywgJ0NvbmZpYW7Dp2EnLCAnVXNhYmlsaWRhZGUnLCAnVmlzaWJpbGlkYWRlJ107XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdFZhbHVlSWRlbnRpZmljYXRpb25GcmFtZSgpe1xyXG4gICAgICAgIHNlbGYuaWRwcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0b25pb24oc2VsZi5pZHByb2JsZW0pXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3Rha2Vob2xkZXJzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrID0gMTsgayA8IHNlbGYuc3VnZXN0aW9uVmFsdWVzQXJyYXkubGVuZ3RoOyBrKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3VnZXN0aW9uVmFsdWVzICs9IHNlbGYuc3VnZXN0aW9uVmFsdWVzQXJyYXlba10gKyAgXCIsIFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN1Z2VzdGlvblZhbHVlc1tzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5W3NlbGYuc3VnZXN0aW9uVmFsdWVzQXJyYXkubGVuZ3RoLTFdXSArICcuJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkYXRhLnN0YWtlaG9sZGVycy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IHNlbGYuc3Rha2Vob2xkZXJMaXN0Lmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YWtlaG9sZGVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0uX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25pb25sYXllciA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLm9uaW9ubGF5ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS52YWx1ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuRWRpdCA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLm9wZW5FZGl0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5IDogZGF0YS5zdGFrZWhvbGRlcnNbaV0ueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlcyA6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN0YWtlaG9sZGVyc1tpXS5vbmlvbmxheWVyID09IHNlbGYuc3Rha2Vob2xkZXJMaXN0W2pdLm9uaW9ubGF5ZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3Rbal0uc3Rha2Vob2xkZXJzLnB1c2goc3Rha2Vob2xkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25TYXZlJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5zdGFrZWhvbGRlckxpc3QsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICBpZiAoc3Rha2Vob2xkZXIuX2lkID09IGRhdGEuX2lkKXtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnN0YWtlaG9sZGVyID0gZGF0YS5zdGFrZWhvbGRlcjtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGRhdGEub3BlbkVkaXQ7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci54ID0gZGF0YS54O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5ld1ZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXRTdWdnZXN0aW9uU2hvdyhzdGFrZWhvbGRlcil7XHJcbiAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxlYXZlU3VnZ2VzdGlvblNob3coc3Rha2Vob2xkZXIpe1xyXG4gICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlVmFsdWVJZGVudGljYXRpb24odmFsdWUsc3Rha2Vob2xkZXIpe1xyXG4gICAgICAgIHZhciBuZXdMaXN0ID0gW107XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHN0YWtlaG9sZGVyLnZhbHVlcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKHN0YWtlaG9sZGVyLnZhbHVlc1tpXSAhPSB2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICBuZXdMaXN0LnB1c2goc3Rha2Vob2xkZXIudmFsdWVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdGFrZWhvbGRlci52YWx1ZXMgPSBuZXdMaXN0O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblNhdmUnLCBzdGFrZWhvbGRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0VmFsdWVJZGVudGljYXRpb24oc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICBpZigoc3Rha2Vob2xkZXIubmV3VmFsdWVzID09PSBcIlwiKSB8fCAoc3Rha2Vob2xkZXIubmV3VmFsdWVzID09PSB1bmRlZmluZWQpKXtcclxuICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCdWYWxvciBuw6NvIGVzcGVjaWZpY2Fkby4nKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdmFyIHZhbHVlc0xpc3QgPSBzdGFrZWhvbGRlci5uZXdWYWx1ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCB2YWx1ZXNMaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKGZpbmRWYWx1ZShzdGFrZWhvbGRlci52YWx1ZXMsIHZhbHVlc0xpc3RbaV0pKXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJEdXBsaWNhdGUgdmFsdWU6IFwiICsgdmFsdWVzTGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci52YWx1ZXMucHVzaCh2YWx1ZXNMaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPSBcIlwiO1xyXG4gICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25TYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZFZhbHVlKGxpc3QsIHZhbHVlKXtcclxuICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZih2YWx1ZSA9PT0gbGlzdFtpXSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjgvMDcvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Byb2ZpbGVDb250cm9sbGVyJyxwcm9maWxlQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvZmlsZUNvbnRyb2xsZXIoJHdpbmRvdywkc3RhdGUsICRzY29wZSxzaWdudXBTZXJ2aWNlKXtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5zdGFydFByb2ZpbGUgPSBzdGFydFByb2ZpbGU7XHJcbiAgICAgICAgc2VsZi51cGxvYWRJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLnVwbG9hZFByb2dyZXNzID0gMDtcclxuICAgICAgICBzZWxmLnVzZXJpZDtcclxuICAgICAgICBzZWxmLnNhdmVQaG90byA9IHNhdmVQaG90bztcclxuICAgICAgICBzZWxmLnN5c3RlbVJldHVybiA9IHN5c3RlbVJldHVybjtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3lzdGVtUmV0dXJuKCl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnRwcm9ibGVtJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLm15SW1hZ2U9Jyc7XHJcbiAgICAgICAgc2VsZi5teUNyb3BwZWRJbWFnZT0nJztcclxuXHJcbiAgICAgICAgdmFyIGhhbmRsZUZpbGVTZWxlY3QgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICAgdmFyIGZpbGUgPSBldnQuY3VycmVudFRhcmdldC5maWxlc1swXTtcclxuICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm15SW1hZ2UgPSBldnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLGhhbmRsZUZpbGVTZWxlY3QpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzdGFydFByb2ZpbGUoKXtcclxuICAgICAgICAgICAgc2VsZi51c2VyaWQgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmlkXCIpO1xyXG4gICAgICAgICAgICBpZihzZWxmLnVzZXJpZCAhPT0gdW5kZWZpbmVkKXtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZVBob3RvKG15aW1hZ2Upe1xyXG4gICAgICAgICAgICB2YXIgdXNlclBob3RvID17XHJcbiAgICAgICAgICAgICAgICB1c2VyaWQgOiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmlkXCIpLFxyXG4gICAgICAgICAgICAgICAgcGhvdG8gOiBteWltYWdlXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNpZ251cFNlcnZpY2UudXBsb2FkUGhvdG8odXNlclBob3RvKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGhvdG9cIixteWltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiLS0tLS1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3NpZ251cENvbnRyb2xsZXInLCBzaWdudXBDb250cm9sbGVyKTtcclxuICAgIHNpZ251cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHRyYW5zbGF0ZScsJyR3aW5kb3cnLCdzaWdudXBTZXJ2aWNlJywnJHN0YXRlJywndG9hc3RBcHAnLCdBdXRoVG9rZW4nLCdBdXRoJywnJGZpbHRlcicsJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICBmdW5jdGlvbiBzaWdudXBDb250cm9sbGVyKCR0cmFuc2xhdGUsICR3aW5kb3csIHNpZ251cFNlcnZpY2UsJHN0YXRlLHRvYXN0QXBwLEF1dGhUb2tlbixBdXRoLCRmaWx0ZXIsJHN0YXRlUGFyYW1zKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubWVzc2FnZSAgPSAnJztcclxuICAgIHNlbGYuc2F2ZVVzZXIgICA9IHNhdmVVc2VyO1xyXG4gICAgc2VsZi5yZXNjdWVQYXNzd29yZCA9IHJlc2N1ZVBhc3N3b3JkO1xyXG4gICAgc2VsZi5jaGFuZ2VQYXNzd29yZCA9IGNoYW5nZVBhc3N3b3JkO1xyXG4gICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgIHNlbGYubG9naW5JblByb2dyZXNzID0gZmFsc2U7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVVzZXIodXNlcikge1xyXG4gICAgICBzaWdudXBTZXJ2aWNlLmNyZWF0ZSh1c2VyKVxyXG4gICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdXRUxDT01FX1NZU1RFTScpICsgdXNlci5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVtYWlsIErDoSBjYWRhc3RyYWRvXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNldExhbmcobGFuZ0tleSkge1xyXG4gICAgICAgICAgJHRyYW5zbGF0ZS51c2UobGFuZ0tleSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJlc2N1ZVBhc3N3b3JkKHVzZXJFbWFpbCl7XHJcbiAgICAgICAgICBzaWdudXBTZXJ2aWNlLnJlc2N1ZVBhc3N3b3JkKHVzZXJFbWFpbClcclxuICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRW1haWwgY29tIGluc3RydcOnw7VlcyBlbnZpYWRvIHBhcmEgXCIgKyB1c2VyRW1haWwuZW1haWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0LmxvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQodXNlcil7XHJcbiAgICAgICAgICBzaWdudXBTZXJ2aWNlLmNoYW5nZVBhc3N3b3JkKHVzZXIpXHJcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbmhhIGFsdGVyYWRhIGNvbSBzdWNlc3NvLiBGYcOnYSBsb2dpbiBjb20gYSBub3ZhIHNlbmhhLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVycm9yXCIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ3NpZ251cFNlcnZpY2UnLCBzaWdudXBTZXJ2aWNlKTtcclxuXHJcbiAgc2lnbnVwU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsJyRsb2NhdGlvbiddO1xyXG5cclxuICBmdW5jdGlvbiBzaWdudXBTZXJ2aWNlKCRodHRwLCRsb2NhdGlvbikge1xyXG5cclxuICAgIHZhciBBUElfUk9VVEVfVVNFUiA9ICcvYXBpL3NpZ251cC8nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9SRVNDVUVQQVNTV09SRCA9ICcvYXBpL3Jlc2N1ZXBhc3N3ZC8nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9TRVRORVdQQVNTV09SRCA9ICcvYXBpL3Jlc2N1ZXBhc3N3ZC9uZXdwYXNzd2QvJztcclxuICAgIHZhciBBUElfUk9VVEVfVVBEQVRFUEhPVE8gPSAnL2FwaS9wcm9maWxlL3Bob3RvLyc7XHJcblxyXG5cclxuICAgIHZhciBzZXJ2aWNlID0ge1xyXG4gICAgICBjcmVhdGUgICAgICAgICA6IGNyZWF0ZSxcclxuICAgICAgcmVzY3VlUGFzc3dvcmQgOiByZXNjdWVQYXNzd29yZCxcclxuICAgICAgY2hhbmdlUGFzc3dvcmQgOiBjaGFuZ2VQYXNzd29yZCxcclxuICAgICAgdXBsb2FkUGhvdG86IHVwbG9hZFBob3RvXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBzZXJ2aWNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX1VTRVIsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2N1ZVBhc3N3b3JkKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfUkVTQ1VFUEFTU1dPUkQsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKGRhdGEpe1xyXG4gICAgICB2YXIgbXl0b2tlblVSTCA9ICRsb2NhdGlvbi5zZWFyY2goKTtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfU0VUTkVXUEFTU1dPUkQgKyAnP215dG9rZW49JyArIG15dG9rZW5VUkwubXl0b2tlbisnJnBhc3N3b3JkPScrZGF0YS5wYXNzd29yZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBsb2FkUGhvdG8oZGF0YSkge1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfVVBEQVRFUEhPVE8sIGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjUvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbmZpZyhhcHBDb25maWcpO1xyXG5cclxuICAgIGFwcENvbmZpZy4kaW5qZWN0ID0gWyckbWRUaGVtaW5nUHJvdmlkZXInLCckbG9jYXRpb25Qcm92aWRlciddO1xyXG5cclxuICAgLyogZnVuY3Rpb24gYXBwQ29uZmlnICgkbWRUaGVtaW5nUHJvdmlkZXIsJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuXHJcbiAgICAgICAgIC8vJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG4gICAgICAgIHZhciBjdXN0b21HcmVlbk1hcCA9ICRtZFRoZW1pbmdQcm92aWRlci5leHRlbmRQYWxldHRlKCd0ZWFsJywge1xyXG4gICAgICAgICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxyXG4gICAgICAgICAgICAnY29udHJhc3REYXJrQ29sb3JzJzogWyc1MCddLFxyXG4gICAgICAgICAgICAnNTAnOiAnRTBGMkYxJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnY3VzdG9tR3JlZW4nLCBjdXN0b21HcmVlbk1hcCk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcclxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCdjdXN0b21HcmVlbicsIHtcclxuICAgICAgICAgICAgICAgICdkZWZhdWx0JzogJzUwMCcsXHJcbiAgICAgICAgICAgICAgICAnaHVlLTEnOiAnNTAnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hY2NlbnRQYWxldHRlKCd0ZWFsJyk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdpbnB1dCcsICdkZWZhdWx0JylcclxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCdncmVlbicpO1xyXG5cclxuICAgIH07Ki9cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBDb25maWcoJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XHJcbiAgICAgICAgLy8gRXh0ZW5kIHRoZSByZWQgdGhlbWUgd2l0aCBhIGZldyBkaWZmZXJlbnQgY29sb3JzXHJcbiAgICAgICAgdmFyIG5lb25SZWRNYXAgPSAkbWRUaGVtaW5nUHJvdmlkZXIuZXh0ZW5kUGFsZXR0ZSgndGVhbCcsIHtcclxuICAgICAgICAgICAgJzUwJzogJ0UwRjJGMScsXHJcbiAgICAgICAgICAgICcxMDAnOiAnQjJERkRCJyxcclxuICAgICAgICAgICAgJzIwMCc6ICc4MENCQzQnLFxyXG4gICAgICAgICAgICAnMzAwJzogJzREQjZBQycsXHJcbiAgICAgICAgICAgICc0MDAnOiAnMjZBNjlBJyxcclxuICAgICAgICAgICAgJzUwMCc6ICcwMDk2ODgnLFxyXG4gICAgICAgICAgICAnNjAwJzogJzAwODk3QicsXHJcbiAgICAgICAgICAgICc3MDAnOiAnMDA3OTZCJyxcclxuICAgICAgICAgICAgJzgwMCc6ICcwMDY5NUMnLFxyXG4gICAgICAgICAgICAnOTAwJzogJzAwNEQ0MCcsXHJcbiAgICAgICAgICAgICdBMTAwJzogJ0E3RkZFQicsXHJcbiAgICAgICAgICAgICdBMjAwJzogJzY0RkZEQScsXHJcbiAgICAgICAgICAgICdBNDAwJzogJzFERTlCNicsXHJcbiAgICAgICAgICAgICdBNzAwJzogJzAwQkZBNScsXHJcbiAgICAgICAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsICAgIC8vIHdoZXRoZXIsIGJ5IGRlZmF1bHQsIHRleHQgKGNvbnRyYXN0KVxyXG4gICAgICAgICAgICAvLyBvbiB0aGlzIHBhbGV0dGUgc2hvdWxkIGJlIGRhcmsgb3IgbGlnaHRcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnLCAnMTAwJywgLy9odWVzIHdoaWNoIGNvbnRyYXN0IHNob3VsZCBiZSAnZGFyaycgYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgJzIwMCcsICczMDAnLCAnNDAwJywgJ0ExMDAnXSxcclxuICAgICAgICAgICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiB1bmRlZmluZWRcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBSZWdpc3RlciB0aGUgbmV3IGNvbG9yIHBhbGV0dGUgbWFwIHdpdGggdGhlIG5hbWUgPGNvZGU+bmVvblJlZDwvY29kZT5cclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgndGVhbCcsIG5lb25SZWRNYXApO1xyXG4gICAgICAgIC8vIFVzZSB0aGF0IHRoZW1lIGZvciB0aGUgcHJpbWFyeSBpbnRlbnRpb25zXHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcclxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCd0ZWFsJylcclxuICAgICAgICAgICAgLmFjY2VudFBhbGV0dGUoJ2dyZWVuJyk7XHJcbiAgICB9XHJcblxyXG5cclxufSkoKTsiLCJcclxuKGZ1bmN0aW9uKCl7XHJcblxyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhdXRoU2VydmljZScsIFtdKVxyXG5cdFx0LmZhY3RvcnkoJ0F1dGgnLCBmdW5jdGlvbigkaHR0cCwgJHEsIEF1dGhUb2tlbikge1xyXG5cdFx0XHR2YXIgYXV0aEZhY3RvcnkgPSB7fTtcclxuXHRcdFx0YXV0aEZhY3RvcnkubG9naW4gPSBmdW5jdGlvbihlbWFpbCwgcGFzc3dvcmQpIHtcclxuXHRcdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2dpbicsIHtcclxuXHRcdFx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZFxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0XHRcdEF1dGhUb2tlbi5zZXRUb2tlbihkYXRhLnRva2VuKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhGYWN0b3J5LmxvZ291dCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdEF1dGhUb2tlbi5zZXRUb2tlbigpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXV0aEZhY3RvcnkuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXV0aEZhY3RvcnkuZ2V0VXNlciA9IGZ1bmN0aW9uKGlkKSB7XHJcblx0XHRcdFx0aWYoQXV0aFRva2VuLmdldFRva2VuKCkpIHtcclxuXHRcdFx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWUvP3VzZXJpZD0nICsgaWQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiAkcS5yZWplY3Qoe21lc3NhZ2U6IFwiVXNlciBoYXMgbm8gdG9rZW5cIn0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH07XHJcblx0XHRcdHJldHVybiBhdXRoRmFjdG9yeTtcclxuXHRcdH0pXHJcblx0XHQuZmFjdG9yeSgnQXV0aFRva2VuJywgZnVuY3Rpb24oJHdpbmRvdykge1xyXG5cclxuXHRcdFx0dmFyIGF1dGhUb2tlbkZhY3RvcnkgPSB7fTtcclxuXHJcblx0XHRcdGF1dGhUb2tlbkZhY3RvcnkuZ2V0VG9rZW4gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhUb2tlbkZhY3Rvcnkuc2V0VG9rZW4gPSBmdW5jdGlvbih0b2tlbikge1xyXG5cclxuXHRcdFx0XHRpZiAodG9rZW4pIHtcclxuXHRcdFx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0JHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gYXV0aFRva2VuRmFjdG9yeTtcclxuXHRcdH0pXHJcblx0XHQuZmFjdG9yeSgnQXV0aEludGVyY2VwdG9yJywgZnVuY3Rpb24oJHEsICRsb2NhdGlvbiwgQXV0aFRva2VuKSB7XHJcblx0XHRcdHZhciBpbnRlcmNlcHRvckZhY3RvcnkgPSB7fTtcclxuXHRcdFx0aW50ZXJjZXB0b3JGYWN0b3J5LnJlcXVlc3QgPSBmdW5jdGlvbihjb25maWcpIHtcclxuXHRcdFx0XHR2YXIgdG9rZW4gPSBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuXHRcdFx0XHRpZih0b2tlbikge1xyXG5cdFx0XHRcdFx0Y29uZmlnLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuJ10gPSB0b2tlbjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGNvbmZpZztcclxuXHRcdFx0fTtcclxuXHRcdFx0cmV0dXJuIGludGVyY2VwdG9yRmFjdG9yeTtcclxuXHRcdH0pO1xyXG59KSgpOyIsIlxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ0Ryb3BEU0MnLFtdKVxyXG4gICAgLmRpcmVjdGl2ZSgnZHJhZ2dhYmxlJywgZnVuY3Rpb24oJGRvY3VtZW50LFNvY2tldCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50Lm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGlmKGV2ZW50LnRhcmdldC5pZC5zdWJzdHJpbmcoMCwxMSkgPT0gXCJzdGFrZWhvbGRlclwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGRlZmF1bHQgZHJhZ2dpbmcgb2Ygc2VsZWN0ZWQgY29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ21vdXNlbW92ZScsIG1vdXNlbW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ21vdXNldXAnLCBtb3VzZXVwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbW91c2Vtb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgaWRfZGl2ID0gZXZlbnQudGFyZ2V0LmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlkX2RpdiA9PSAnc3ZnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkX2RpdiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdGFrZWhvbGRlci5vbmlvbmxheWVyID0gaWRfZGl2O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIHkgPSBldmVudC5wYWdlWTtcclxuICAgICAgICAgICAgICAgICAgICAgIHggPSBldmVudC5wYWdlWDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB5ICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAgeCArICdweCdcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgLypTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25Qb3NpdGlvbicsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBzdGFrZWhvbGRlci55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAgc3Rha2Vob2xkZXIueFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnN0YWtlaG9sZGVyLnggPSB4ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnN0YWtlaG9sZGVyLnkgPSB5ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgIC8vU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uUG9zaXRpb24nLCBzY29wZS5zdGFrZWhvbGRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbW91c2V1cCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ21vdXNlbW92ZScsIG1vdXNlbW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdtb3VzZXVwJywgbW91c2V1cCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjUvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdsb2dpbkNvbnRyb2xsZXInLGxvZ2luQ29udHJvbGxlcik7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxvZ2luQ29udHJvbGxlcigkdHJhbnNsYXRlLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEF1dGgsICR3aW5kb3csICRmaWx0ZXIsIHRvYXN0QXBwKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgICAgICAgICAgc2VsZi5kb0xvZ291dCA9IGRvTG9nb3V0O1xyXG4gICAgICAgICAgICBzZWxmLmRvTG9naW4gPSBkb0xvZ2luO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0TGFuZyhsYW5nS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgJHRyYW5zbGF0ZS51c2UobGFuZ0tleSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldExvY2FsQ29kZSgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgc2VsZi5sb2dnZWRJbiA9IEF1dGguaXNMb2dnZWRJbigpO1xyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ2dlZEluID0gQXV0aC5pc0xvZ2dlZEluKCk7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmdldFVzZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvTG9naW4odXNlcikge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5lcnJvciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgQXV0aC5sb2dpbih1c2VyLmVtYWlsLCB1c2VyLnBhc3N3b3JkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJlbWFpbFwiLGRhdGEuZW1haWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlcmlkXCIsZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsb2NhbGNvZGVcIixkYXRhLmlkICsgJy0nICsgZ2V0TG9jYWxDb2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibmlja25hbWVcIixkYXRhLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRMYW5nKGRhdGEubGFuZ3VhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRoLmdldFVzZXIoZGF0YS5pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHVzZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdXRUxDT01FX1NZU1RFTScpICsgXCI6IFwiICsgZGF0YS5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBob3RvXCIsdXNlckRhdGEuZGF0YS5waG90byk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3N0YXJ0cHJvYmxlbScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiVXN1w6FyaW8gZSBzZW5oYSBuw6NvIGNvbmZlcmVtLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvTG9nb3V0KCkge1xyXG4gICAgICAgICAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZSgnaW5pdCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDIxLzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5zZXJ2aWNlKCdTb2NrZXQnLFxyXG4gICAgICAgIFsnJGxvY2F0aW9uJywgJyR0aW1lb3V0JyxcclxuICAgIGZ1bmN0aW9uKCRsb2NhdGlvbiwgJHRpbWVvdXQpIHtcclxuICAgICAgICBpZiAodHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldCA9IGlvKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub24gPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQub24oZXZlbnROYW1lLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQgPSBmdW5jdGlvbihldmVudE5hbWUsIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50TmFtZSwgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbl0pXHJcblxyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
