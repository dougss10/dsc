!function(){"use strict";angular.module("app",["ngImgCrop","toastService","textAngular","luegg.directives","appRxDrag","DropDSC","authService","ui.router","ngMaterial","ngMdIcons","ngCookies","pascalprecht.translate"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor")}])}(),function(){"use strict";function e(e){function t(t){this.message=t,e.show({controller:"toastController",controllerAs:"vm",templateUrl:"views/pages/dsctoast.html",action:"OK",highlightAction:!0,position:"top right",hideDelay:2e3})}function o(t){this.message=t,e.show({controller:"toastController",controllerAs:"vm",templateUrl:"views/pages/dsctoast.html",action:"OK",highlightAction:!0,position:"bottom left",hideDelay:1e3})}var n={message:"",errorMessage:t,errorMessageBottom:o};return n}angular.module("toastService",[]).controller("toastController",["$mdToast","toastApp",function(e,t){var o=this;o.message=t.message,o.closeToast=function(){e.hide()}}]).factory("toastApp",e),e.$inject=["$mdToast"]}(),function(){"use strict";function e(e,t){e.state("init",{url:"/",templateUrl:"views/pages/initpage.html",controller:"loginController as vm"}).state("init.login",{url:"login",views:{"content-tab":{templateUrl:"views/pages/userlogin.html",controller:"loginController as vm"}}}).state("init.signup",{url:"signup",views:{"content-tab":{templateUrl:"views/pages/signup.html",controller:"signupController as vm"}}}).state("init.rescuepassword",{url:"rescuepassword",views:{"content-tab":{templateUrl:"views/pages/rescuepassword.html",controller:"signupController as vm"}}}).state("startproblem",{url:"/startproblem",templateUrl:"views/pages/startproblem.html",controller:"startProblemController as vm"}).state("profile",{url:"/profile",templateUrl:"views/pages/profile.html",controller:"profileController as vm"}).state("dscreport",{url:"/dscreport",templateUrl:"views/pages/problemreport.html",controller:"problemReportController as vm"}).state("newpassword",{url:"/newpassword/:mytoken",templateUrl:"views/pages/newpassword.html",controller:"signupController as vm"}).state("problem",{url:"/problem",templateUrl:"views/pages/problem.html",controller:"menuProblemController as vm"}).state("problem.stakeholders",{url:"/stakeholders",views:{"dsc-artifact":{templateUrl:"views/pages/stakeholders.html",controller:"stakeholderController as vm"}}}).state("problem.evaluationframework",{url:"/evaluationframework",views:{"dsc-artifact":{templateUrl:"views/pages/evaluationframework.html",controller:"evaluationframeworkController as vm"}}}).state("problem.semioticframework",{url:"/semioticframework",views:{"dsc-artifact":{templateUrl:"views/pages/semioticframework.html",controller:"semioticframeworkController as vm"}}}).state("problem.carf",{url:"/carf",views:{"dsc-artifact":{templateUrl:"views/pages/carf.html",controller:"carfController as vm"}}}).state("problem.vif",{url:"/vif",views:{"dsc-artifact":{templateUrl:"views/pages/vif.html",controller:"valueIdentificationFrameController as vm"}}}).state("problem.onion",{url:"/onion",views:{"dsc-artifact":{templateUrl:"views/pages/onion.html",controller:"onion3LayerController as vm"}}}),t.otherwise("/login")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.useStaticFilesLoader({prefix:"app/language/lang-",suffix:".json"}),e.preferredLanguage("en"),e.useSanitizeValueStrategy("escaped"),e.useLocalStorage()}function t(e){function t(t){e.use(t)}var o=this;o.setLang=t}function o(){return{templateUrl:"app/language/changeLanguage.html",restrict:"E"}}angular.module("app").config(e).controller("languageController",t).directive("changeLanguage",o),e.$inject=["$translateProvider"],t.$inject=["$translate"]}(),function(){"use strict";function e(e,t,o,n){function r(){d.idProblem=e.localStorage.getItem("problemid"),o.getcarf(d.idProblem).success(function(e){e.success&&(d.localStakeholders=e.stakeholders,d.stakeholderList=d.localStakeholders,d.carfList=e.carf,d.carfPriorityList=d.localPriorityList)}),d.inProcessing=!1}function i(){d.carf={_id:"",pms:"",values:[],priority:"",requirement:"",stakeholders:[]},d.valueList=[]}function a(e){""===e.pms?n.errorMessage("Select PMS"):e.values.length<1?n.errorMessage("Select one or more Value"):e.stakeholders.length<1?n.errorMessage("Select one or more Stakeholder(s)"):""===e.priority?n.errorMessage("Select priority [Low, Medium or High]"):(t.emit("broadcastCARFadd",e),d.stakeholderList=[],d.carfPriorityList=[])}function s(e,o){var n={index:e,carf:o};t.emit("broadcastCARFremove",n)}function l(e){void 0!==e&&angular.forEach(d.carfPMSValue,function(t){return t.pms==e?(d.carf.values=[],void(d.valueList=t.values)):void 0})}function c(e){d.carf.priority=e}function u(e){if(0===d.carf.values.length)d.carf.values.push(e);else{for(var t=0;t<d.carf.values.length;t++)if(e==d.carf.values[t])return void d.carf.values.splice(t,1);d.carf.values.push(e)}}function m(e){if(0===d.carf.stakeholders.length)d.carf.stakeholders.push(e);else{for(var t=0;t<d.carf.stakeholders.length;t++)if(e==d.carf.stakeholders[t])return void d.carf.stakeholders.splice(t,1);d.carf.stakeholders.push(e)}}var d=this;d.idProblem="",d.inProcessing=!0,d.valueList=[],d.stakeholderList=[],d.localStakeholders=[],d.addpmsvalue=a,d.removeCARF=s,d.selectPMSValue=l,d.setPriotity=c,d.addListValue=u,d.addStakeholder=m,d.carf={pms:"",values:[],priority:"",requirement:"",stakeholders:[]},d.initCarf=r,d.carfList=[],d.carfPriorityList=[],t.on("onBroadcastCARFadd",function(e){d.carfList.push(e),i(),d.stakeholderList=d.localStakeholders,d.carfPriorityList=d.localPriorityList}),t.on("onBroadcastCARFremove",function(e){d.carfList.splice(e,1)}),d.localPriorityList=["Low","Medium","High"],d.carfPMSValue=[{pms:"Interaction",values:["Identity","Norms"]},{pms:"Association",values:["Conversation","Groups","Relationship","Trust"]},{pms:"Learning",values:["Meta-communication"]},{pms:"Play",values:["Aesthetics","Emotion and Affection"]},{pms:"Protection",values:["Informed consert","Reputation","Security"]},{pms:"Exploitation",values:["Accessibility","Object","Property (ownership)","Usability"]},{pms:"Teporality",values:["Availability","Awareness","Presence"]},{pms:"Territoriality",values:["Portability","Privacy","Scalability","Visibility"]},{pms:"Classification",values:["Autonomy","Collaboration","Sharing","Adaptability"]},{pms:"Subsistence",values:["Reciprocity"]}]}angular.module("app").controller("carfController",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,n,r,i){function a(){g.usersOnLine.length>1&&(g.showUser=!g.showUser)}function s(){g.isOpenChat=!g.isOpenChat,document.getElementById("message").focus()}function l(){g.idProblem=i.localStorage.getItem("problemid"),g.nickname=i.localStorage.getItem("nickname"),g.photo=i.localStorage.getItem("photo"),r.gethistorychat(g.idProblem).success(function(e){if(e.success)for(var t=0;t<e.historychat.length;t++){var o=new Date(e.historychat[t].time),n={nickname:e.historychat[t].nickname,msg:e.historychat[t].msg,time:o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear()+" ["+o.getHours()+":"+o.getMinutes()+"] "};g.messages.push(n)}})}function c(e){for(var t=0;t<g.usersOnLine.length;t++)if(g.usersOnLine[t]===e)return;g.usersOnLine.push(e),g.usersOnLine.sort()}function u(){g.replay?g.replay=!1:g.replay=!0}function m(e){void 0===e||e.length<2||(n.emit("broadcastChat",e),g.newmsg="",g.contador=0)}function d(){g.contador=0}function p(t,o){13==t.keyCode&&(g.contador++,1==g.contador&&e(d,2e3),g.contador>1&&m(o))}var g=this;g.newmsg="",g.messages=[],g.replay=!1,g.nickname="",g.usersOnLine=[],g.initHistoryChat=l,g.showReplay=u,g.sendMessage=m,g.photo="",g.openChat=s,g.isOpenChat=!1,g.keypressChat=p,g.contador=0,g.showUsersOnLine=a,g.showUser=!1,n.on("onUserON",function(e){e!==g.nickname&&c(e)}),n.on("onNotifyON",function(e){return g.nickname!==e.nickname?(o.errorMessageBottom(e.nickname+", "+t("translate")(e.msg)),c(e.nickname),void n.emit("userON",g.nickname)):(g.usersOnLine=[],void g.usersOnLine.push(g.nickname))}),n.on("onNotifyOFF",function(e){e.nickname!==g.nickname&&o.errorMessageBottom(e.nickname+", "+t("translate")(e.msg));for(var n=0;n<g.usersOnLine.length;n++)e.nickname===g.usersOnLine[n]&&g.usersOnLine.splice(n,1)}),n.on("onBroadcastChat",function(e){var t=new Date(e[e.length-1].time);g.messages.push({nickname:e[e.length-1].nickname,msg:e[e.length-1].msg,time:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" ["+t.getHours()+":"+t.getMinutes()+"] "})}),n.on("onBroadcastChat",function(e){var t=new Date(e[e.length-1].time);g.messages.push({nickname:e[e.length-1].nickname,msg:e[e.length-1].msg,time:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" ["+t.getHours()+":"+t.getMinutes()+"] "})})}angular.module("app").controller("chatDSC",e),e.$inject=["$timeout","$filter","toastApp","Socket","problemService","$window"]}(),function(){"use strict";function e(){function e(e){var t=document.getElementById("projectResport"),o=new jsPDF("l","px");o.addHTML(t,0,0,{pagesplit:!0},function(e){o.save("test.pdf")})}var t=this;t.idproblem="ajflajfljalfjaljf",t.buidReport=e}angular.module("app").controller("dscReportController",e)}(),function(){"use strict";function e(e,t,o,n){function r(){s.idproblem=e.localStorage.getItem("problemid"),t.getevaluation(s.idproblem).success(function(e){e.success?s.evaluationframeworkList=e.evaluationframework:n.errorMessage(e.message)})}function i(e){o.emit("broadcastFrameSave",e)}function a(e){e.openEdit=!0}var s=this;s.evaluationframeworkList=[],s.initEvaluation=r,s.setOpenEditDiscution=a,s.saveFrame=i,o.on("onBroadcastFrameEdit",function(e){angular.forEach(s.evaluationframeworkList,function(t){t.onionlayer==e.onionlayer&&angular.forEach(t.stakeholders,function(t){t._id==e._id&&(t.name=e.name,t.onionlayer=e.onionlayer,t.description=e.description,t.openEdit=e.openEdit,t.problems=e.problems,t.solutions=e.solutions)})})}),o.on("onUpdateStakeholder",function(e){})}angular.module("app").controller("evaluationframeworkController",e),e.$inject=["$window","problemService","Socket","toastApp"]}(),function(){"use strict";function e(e,t,o,n,r,i,a,s,l){function c(e){e.localcode=w,l.emit("atualizarProblema",e)}function u(e){t.show({controller:m,templateUrl:"views/pages/problemdescription.html",parent:angular.element(document.body),targetEvent:e})}function m(e,t,o){function n(){t.nickname=i.localStorage.getItem("nickname"),t.idProblem=i.localStorage.getItem("problemid"),a.getproblem(y.idProblem).success(function(e){e.success?t.problem=e.problem:s.errorMessage(e.message)})}function r(){m=!0}function l(t){console.log(t);var o={update:m,description:t};c(o),m&&(m=!1,e(r,2e3))}function u(e){var t={update:!0,description:e};c(t)}var m=!0;t.problem,t.problemUpdate=l,t.getProblemEdit=n,t.saveDescription=u,t.nickname="",t.hide=function(){o.hide()},t.cancel=function(){o.cancel()}}function d(e){t.show({controller:p,templateUrl:"views/pages/collaborators.html",parent:angular.element(document.body),targetEvent:e})}function p(e,t){function o(){e.idProblem=i.localStorage.getItem("problemid"),e.useremail=i.localStorage.getItem("useremail"),a.getcollaborators(e.idProblem).success(function(t){t.success?e.collaborators=t.collaborators:s.errorMessage(t.message)})}function n(t){for(var o=0;o<e.collaborators.length;o++)if(t==e.collaborators[o].email)return!0;return!1}function r(t){if(e.useremail==t)s.errorMessage(e.useremail+" is email of owner.");else if(n(t))s.errorMessage("Usuario Cadastrado.");else{var o={idproblem:e.idProblem,email:t};a.invite(o).success(function(t){t.success?(e.collaborators=t.collaborators,e.email=""):s.errorMessage(t.message)})}}function l(e){e.isDeleted=!e.isDeleted}function c(t){t.idproblem=e.idProblem,a.removecollaborators(t).success(function(o){o.success?(e.collaborators=o.collaborators,e.isDeleteCollaborator=!e.isDeleteCollaborator,s.errorMessage("Colaborador "+t.nickname+" foi removido do projeto.")):s.errorMessage(o.message)})}e.idProblem="",e.collaborators=[],e.useremail="",e.initCollaborators=o,e.addCollaborator=r,e.removeCollaborator=c,e.alertDeleteCollaborator=l,e.email="",e.hide=function(){t.hide()},e.cancel=function(){t.cancel()}}function g(){y.nickname=i.localStorage.getItem("nickname"),y.idProblem=i.localStorage.getItem("problemid"),w=i.localStorage.getItem("localcode"),a.getproblem(y.idProblem).success(function(e){e.success?(y.problem=e.problem,angular.forEach(e.problem.artifacts,function(e){var t=e.split("_");y.dsc_artifacts.push({name:"problem."+t[2].toLowerCase(),label:n("translate")(e)})})):s.errorMessage(e.message)});var e={idproblem:y.idProblem,nickname:y.nickname};l.emit("initProblem",e)}function f(){l.emit("disconnectProblem",y.nickname),r.go("startproblem")}function h(){r.go("problem.collaborators")}function b(){r.go("dscreport")}function v(){r.go("problem.description")}function k(){l.emit("disconnectProblem",y.nickname),e.logout(),r.go("init.login")}var y=this;y.formAddCollaborators=h,y.editDescriptionProblem=v,y.doLogout=k,y.systemReturn=f,y.formProblemReport=b,y.getCurrentProblem=g,y.nickname,y.dsc_artifacts=[],y.formEditProblem=u,y.formInviteCollaborator=d;var w="";l.on("onAtualizarProblema",function(e){w!==e.localcode&&setDescrition(e.description)}),m.$inject=["$timeout","$scope","$mdDialog"],p.$inject=["$scope","$mdDialog"],y.selectedIndex=0;var S=null,L=null;o.$watch("selectedIndex",function(e){L=S,S=y.dsc_artifacts[e],y.selectedIndex=e})}angular.module("app").controller("menuProblemController",e),e.$inject=["Auth","$mdDialog","$scope","$filter","$state","$window","problemService","toastApp","Socket"]}(),function(e){"use strict";function t(e,t,o,n,r){function i(){p.inProcessing=!0,p.idproblem=t.localStorage.getItem("problemid"),p.localcode=t.localStorage.getItem("localcode"),o.getonion3layer(p.idproblem).success(function(e){e.success?angular.forEach(e.postits,function(e){e.openEdit=!1,p.onion3LayerList.push(e)}):r.errorMessage(e.message)}),p.inProcessing=!1}function a(t){e.emit("broadcastOnion3LayerSave",t)}function s(t){e.emit("broadcastOnion3LayerEdit",t)}function l(t,o){e.emit("broadcastOnion3LayerRemove",{index:t,postit:o})}function c(e,t,o){var r=n.confirm().parent(angular.element(document.body)).title("Detete Postit?").content("Title: "+o.title).ariaLabel("Remove postit").ok("Yes!").cancel("Cancel").targetEvent(e);n.show(r).then(function(){l(t,o)})}function u(t,o){e.emit("broadcastOnion3LayerAdd",{layer:o,title:"",description:"",x:t.pageX+"px",y:t.pageY+"px",zindex:9999})}function m(e){document.getElementById("name"+e).setAttribute("style","text-decoration: underline;"),document.getElementById(e).setAttribute("style","fill:#D1C4E9;"),document.getElementById("legend"+e).setAttribute("style","fill:#D1C4E9;")}function d(e,t){document.getElementById("name"+e).setAttribute("style","text-decoration: none;"),document.getElementById(e).setAttribute("style","fill: "+t+";"),document.getElementById("legend"+e).setAttribute("style","fill: "+t+";")}var p=this;p.idproblem="",p.initOnion3Layer=i,p.move=!1,p.onion3LayerList=[],p.inProcessing=!1,p.saveOnion3Layer=a,p.setOpenEdit=s,p.delPostIt=c,p.addPostIt=u,p.acende=m,p.apaga=d,p.localcode="",e.on("onBroadcastOnion3LayerSave",function(e){angular.forEach(p.onion3LayerList,function(t){t._id==e._id&&(t.title=e.title,t.description=e.description,t.openEdit=!1,t.x=e.x,t.y=e.y,t.zindex=9999)})}),e.on("onBroadcastOnion3LayerEdit",function(e){angular.forEach(p.onion3LayerList,function(t){t._id===e&&(t.openEdit=!0,t.zindex=9999)})}),e.on("onBroadcastOnion3LayerRemove",function(e){var t=document.getElementById("postit"+p.onion3LayerList[e]._id);t.style.display="none",p.onion3LayerList.splice(e,1)}),e.on("onBroadcastOnion3LayerMove",function(e){p.localcode!==e.localcode&&(document.getElementById("postit"+e._id).style.left=e.x,document.getElementById("postit"+e._id).style.top=e.y)}),e.on("onBroadcastOnion3LayerAdd",function(e){e.openEdit=!0,p.onion3LayerList.push(e)})}angular.module("app").controller("onion3LayerController",t),t.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(this),function(){"use strict";function e(e,t,o,n){function r(){a.idProblem=e.localStorage.getItem("problemid"),t.getproblemreport(a.idProblem).success(function(e){e.success?(angular.forEach(e.problem.stakeholders,function(e){e.x=parseInt(e.x.substring(0,e.x.length-2))-100+"px",e.y=parseInt(e.y.substring(0,e.y.length-2))+400+"px"}),a.problem=e.problem):o.errorMessage(e.message)})}function i(){n.go("problem.stakeholders")}var a=this;a.idProblem,a.problem,a.initProblemPeport=r,a.systemReturn=i}angular.module("app").controller("problemReportController",e),e.$inject=["$window","problemService","toastApp","$state"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(k,t)}function n(t){return e.get(w+"?idproblem="+t)}function r(t){return e.get(y+"?idproblem="+t)}function i(t){return e.get(b+"?email="+t)}function a(t){return e.get(S+"?idproblem="+t)}function s(t){return e.post(L,t)}function l(t){return e.get(A+"?idproblem="+t)}function c(t){return e.get(M+"?idproblem="+t)}function u(t){return e.get(E+"?idproblem="+t)}function m(t){return e.get(P+"?idproblem="+t)}function d(t){return e.get(C+"?idproblem="+t)}function p(t){return e.get(I+"?idproblem="+t)}function g(t){return e.get(v+"?email="+t)}function f(t){return e.get($+"?idproblem="+t.idproblem+"&email="+t.email)}function h(t){return e.get(x+"?idproblem="+t)}var b="/api/problem/getproblems",v="/api/problem/getproblemscollaborator",k="/api/problem/newproblem",y="/api/problem/getproblem",w="/api/problem/getproblemreport",S="/api/problem/getcollaborators",L="/api/problem/invite",A="/api/problem/getonion",E="/api/problem/getevaluation",P="/api/problem/getsemiotic",C="/api/problem/getcarf",I="/api/problem/removeproblem",$="/api/problem/removecollaborator",x="/api/problem/historychat",M="/api/problem/getonion3layer",O={newproblem:o,getuserproblems:i,getproblem:r,getcollaborators:a,invite:s,getonion:l,getevaluation:u,getsemiotic:m,getcarf:d,removeproblem:p,getproblemscollaborator:g,removecollaborators:f,gethistorychat:h,getproblemreport:n,getonion3layer:c};return O}angular.module("app").factory("problemService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e,t,o,n){function r(){m.idproblem=t.localStorage.getItem("problemid"),o.getsemiotic(m.idproblem).success(function(e){e.success?m.semioticframework=e.semioticframework:n.errorMessage(e.message)})}function i(t,o){var n={text:t,update:o};e.emit("updateSocialWorld",n)}function a(t,o){var n={text:t,update:o};e.emit("updatePragmatic",n)}function s(t,o){var n={text:t,update:o};e.emit("updateSemantic",n)}function l(t,o){var n={text:t,update:o};e.emit("updateSyntatic",n)}function c(t,o){var n={text:t,update:o};e.emit("updateEmpirical",n)}function u(t,o){var n={text:t,update:o};e.emit("updatePhysical",n)}var m=this;m.idproblem="",m.saveSocialWorld=i,m.savePragmatic=a,m.saveSemantic=s,m.saveSyntatic=l,m.saveEmpirical=c,m.savePhysical=u,m.semioticframework="",m.initSemioticFramework=r,e.on("onUpdateSocialWorld",function(e){m.semioticframework.socialworld=e}),e.on("onUpdatePragmatic",function(e){m.semioticframework.pragmatic=e}),e.on("onUpdateSemantic",function(e){m.semioticframework.semioticramework=e}),e.on("onUpdateSyntatic",function(e,t){m.semioticframework.syntatic=e}),e.on("onUpdateEmpirical",function(e){m.semioticframework.empirical=e}),e.on("onUpdatePhysical",function(e){m.semioticframework.physical=e})}angular.module("app").controller("semioticframeworkController",e),e.$inject=["Socket","$window","problemService","toastApp"]}(),function(e){"use strict";function t(e,t,o,n,r){function i(){p.idproblem=t.localStorage.getItem("problemid"),p.localcode=t.localStorage.getItem("localcode"),o.getonion(p.idproblem).success(function(e){e.success?p.stakeholderList=e.stakeholders:r.errorMessage(e.message)}),p.inProcessing=!1}function a(t){e.emit("broadcastOnionSave",t)}function s(t){e.emit("broadcastOnionEdit",t)}function l(t,o){var n={index:t,stakeholder:o};e.emit("broadcastOnionRemove",n)}function c(e,t,o){var r=n.confirm().parent(angular.element(document.body)).title("Detete Stakeholder?").content("Title: "+o.name).ariaLabel("Remove Stakeholder").ok("Yes!").cancel("Cancel").targetEvent(e);n.show(r).then(function(){l(t,o)})}function u(t,o){e.emit("broadcastOnionAdd",{onionlayer:o,name:"",description:"",openEdit:!0,x:t.pageX+"px",y:t.pageY+"px",zindex:9999})}function m(e){document.getElementById("name"+e).setAttribute("style","text-decoration: underline;"),document.getElementById("legend"+e).setAttribute("opacity","0.7"),document.getElementById(e).setAttribute("opacity","0.7")}function d(e){document.getElementById("name"+e).setAttribute("style","text-decoration: none;"),document.getElementById("legend"+e).setAttribute("opacity","1.0"),document.getElementById(e).setAttribute("opacity","1.0")}var p=this;p.idproblem="",p.stakeholderList=[],p.stakeholder="",p.intitOnion=i,p.move=!1,p.inProcessing=!0,p.saveStakeholder=a,p.setOpenEdit=s,p.delPostIt=c,p.addPostIt=u,p.acende=m,p.apaga=d,p.localcode="",e.on("onBroadcastOnionSave",function(e){angular.forEach(p.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.zindex=9999)})}),e.on("onBroadcastOnionEdit",function(e){angular.forEach(p.stakeholderList,function(t){t._id===e&&(t.openEdit=!0,t.zindex=9999)})}),e.on("onBroadcastOnionRemove",function(e){var t=document.getElementById("stakeholder"+p.stakeholderList[e]._id);t.style.display="none",p.stakeholderList.splice(e,1)}),e.on("onBroadcastMove",function(e){p.localcode!==e.localcode&&(document.getElementById("stakeholder"+e._id).style.left=e.x,document.getElementById("stakeholder"+e._id).style.top=e.y)}),e.on("onBroadcastOnionAdd",function(e){p.stakeholderList.push(e)})}angular.module("app").controller("stakeholderController",t),t.$inject=["Socket","$window","problemService","$mdDialog","toastApp"]}(this),function(){"use strict";function e(e,t,o,n,r,i,a){function s(){h.userid=r.localStorage.getItem("userid"),h.nickname=r.localStorage.getItem("nickname"),h.useremail=r.localStorage.getItem("useremail"),h.photo=r.localStorage.getItem("photo"),i.getuserproblems(h.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description.length>300?e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,280):e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"");h.problemList=e.problems,i.getproblemscollaborator(h.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)null!==e.problems[t].description&&(e.problems[t].description.length>300?e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"").substring(0,280):e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,""));h.problemCollaboratorList=e.problems}else a.errorMessage(e.message)})}else a.errorMessage(e.message)}),h.loginInProgress=!1}function l(e){i.removeproblem(e).success(function(t){if(t.success){for(var o=0;o<h.problemList.length;o++)if(h.problemList[o]._id==e){h.problemList.splice(o,1);break}}else a.errorMessage(t.message)})}function c(t,o){var n=e.confirm().parent(angular.element(document.body)).title("Detete Problem?").content("Title: "+o.title).ariaLabel("Remove Problem").ok("Desejo remover!").cancel("Cancel").targetEvent(t);e.show(n).then(function(){l(o._id)})}function u(e){e.userid=h.userid,i.newproblem(e).success(function(e){e.success?h.editProblem(e.problem):a.errorMessage(e.message)})}function m(e){r.localStorage.setItem("problemid",e._id),t.go("problem.stakeholders")}function d(){o.logout(),t.go("init.login")}function p(){t.go("profile")}function g(t){e.show({controller:f,templateUrl:"views/pages/newproblem.html",parent:angular.element(document.body),targetEvent:t})}function f(e,t,o){e.items=["LABEL_ARTIFACT_STAKEHOLDERS","LABEL_ARTIFACT_EVALUATIONFRAMEWORK","LABEL_ARTIFACT_SEMIOTICFRAMEWORK","LABEL_ARTIFACT_VIF","LABEL_ARTIFACT_CARF","LABEL_ARTIFACT_ONION"],e.selected=[],e.toggle=function(e,o){var n=o.indexOf(e);n>-1?"LABEL_ARTIFACT_STAKEHOLDERS"!==e?o.splice(n,1):1==o.length?o.splice(n,1):a.errorMessage(t("translate")("LABEL_ARTIFACT_STAKEHOLDERS_NECESSARY")):"LABEL_ARTIFACT_SEMIOTICFRAMEWORK"!=e?(n=o.indexOf("LABEL_ARTIFACT_STAKEHOLDERS"),-1===n&&(o.push("LABEL_ARTIFACT_STAKEHOLDERS"),o.push(e))):o.push(e)},e.exists=function(e,t){return t.indexOf(e)>-1},e.isIndeterminate=function(){return 0!==e.selected.length&&e.selected.length!==e.items.length},e.isChecked=function(){return e.selected.length===e.items.length},e.toggleAll=function(){e.selected.length===e.items.length?e.selected=[]:(0===e.selected.length||e.selected.length>0)&&(e.selected=e.items.slice(0))},e.artifactList=[],e.hide=function(){o.hide()},e.cancel=function(){o.cancel()},e.addNewProblem=function(n){return e.selected.length<1?void a.errorMessage(t("translate")("LABEL_CHOICE_ARTIFACTS")):(n.artifacts=e.selected,h.startNewProblem(n),void o.cancel())}}var h=this;h.nickname="",h.userid="",h.useremail="",h.problemList=[],h.problemCollaboratorList=[],h.loginInProgress=!0,h.getProblems=s,h.revomveProblem=c,h.startNewProblem=u,h.editProblem=m,h.doLogout=d,h.newProblem=g,h.editProfile=p,h.photo,f.$inject=["$scope","$filter","$mdDialog"]}angular.module("app").controller("startProblemController",e),e.$inject=["$mdDialog","$state","Auth","Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e,t,o,n){function r(){u.idproblem=e.localStorage.getItem("problemid"),t.getonion(u.idproblem).success(function(e){if(e.success){if(e.stakeholders.length>0){for(var t=1;t<u.sugestionValuesArray.length;t++)u.sugestionValues+=u.sugestionValuesArray[t]+", ";u.sugestionValues[u.sugestionValuesArray[u.sugestionValuesArray.length-1]]+".";for(var n=0;n<e.stakeholders.length;n++)for(var r=0;r<u.stakeholderList.length;r++){var i={_id:e.stakeholders[n]._id,onionlayer:e.stakeholders[n].onionlayer,values:e.stakeholders[n].values,name:e.stakeholders[n].name,description:e.stakeholders[n].description,openEdit:e.stakeholders[n].openEdit,x:e.stakeholders[n].x,y:e.stakeholders[n].y,newValues:[]};e.stakeholders[n].onionlayer!=u.stakeholderList[r].onionlayer||u.stakeholderList[r].stakeholders.push(i)}}u.inProcessing=!1}else o.errorMessage(e.message)})}function i(e){e.openEdit=!0}function a(e){e.openEdit=!1}function s(e,t){for(var o=[],r=0;r<t.values.length;r++)t.values[r]!=e&&o.push(t.values[r]);t.values=o,n.emit("broadcastOnionSave",t)}function l(e){if(""===e.newValues||void 0===e.newValues)o.errorMessage("Valor não especificado.");else{for(var t=e.newValues.split(","),r=0;r<t.length;r++)c(e.values,t[r])?o.errorMessage("Duplicate value: "+t[r]):e.values.push(t[r]);e.newValues="",e.openEdit=!1,n.emit("broadcastOnionSave",e)}}function c(e,t){for(var o=0;o<e.length;o++)if(t===e[o])return!0;return!1}var u=this;u.inProcessing=!0,u.idProblem="",u.useremail="",u.newvalues="",u.initValueIdentificationFrame=r,u.setSuggestionShow=i,u.leaveSuggestionShow=a,u.removeValueIdentication=s,u.setValueIdentication=l,u.sugestionValues="",u.stakeholderList=[{onionlayer:"Community",stakeholders:[]},{onionlayer:"Market",stakeholders:[]},{onionlayer:"Source",stakeholders:[]},{onionlayer:"Contribution",stakeholders:[]},{onionlayer:"Technico",stakeholders:[]}],u.sugestionValuesArray=["Acessibilidade","Adaptabilidade","Estética","Autonomia","Disponibilidade","Consciência","Colaboração","Conversação","Emoção e Afeto","Grupos","Identidade","Consentimento informado","Meta-comunicação","Normas","Objeto","Portabilidade","Presença","Privacidade","Propriedade","Reciprocidade, Relacionamento, Reputação","Escalabilidade","Segurança","Compartilhamento","Confiança","Usabilidade","Visibilidade"],n.on("onBroadcastOnionSave",function(e){angular.forEach(u.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.openEdit,t.x=e.x,t.y=e.y,t.newValues=[])})})}angular.module("app").controller("valueIdentificationFrameController",e),e.$inject=["$window","problemService","toastApp","Socket"]}(),function(){"use strict";function e(e,t,o,n,r,i){function a(){e.emit("disconnectProblem",t.localStorage.getItem("nickname")),o.go("startproblem")}function s(){c.userid=t.localStorage.getItem("userid"),void 0!==c.userid}function l(e){var o={userid:t.localStorage.getItem("userid"),photo:e};i.uploadPhoto(o).success(function(o){o.success?t.localStorage.setItem("photo",e):n.errorMessage("-----")})}var c=this;c.startProfile=s,c.uploadInProgress=!0,c.uploadProgress=0,c.userid,c.savePhoto=l,c.systemReturn=a,c.myImage="",c.myCroppedImage="";var u=function(e){var t=e.currentTarget.files[0],o=new FileReader;o.onload=function(e){r.$apply(function(t){t.myImage=e.target.result})},o.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",u)}angular.module("app").controller("profileController",e),e.$inject=["Socket","$window","$state","toastApp","$scope","signupService"]}(),function(){"use strict";function e(e,t,o,n,r,i,a,s,l){function c(e){o.create(e).success(function(t){t.success?(r.errorMessage(s("translate")("WELCOME_SYSTEM")+e.nickname),n.go("init.login")):r.errorMessage("Email Já cadastrado")})}function u(t){e.use(t)}function m(e){o.rescuePassword(e).success(function(t){t.success?(r.errorMessage("Email com instruções enviado para "+e.email),n.go("init.login")):r.errorMessage("Error")})}function d(e){o.changePassword(e).success(function(e){e.success?(r.errorMessage("Senha alterada com sucesso. Faça login com a nova senha."),n.go("init.login")):r.errorMessage("Error")})}var p=this;p.message="",p.saveUser=c,p.rescuePassword=m,p.changePassword=d,p.setLang=u,p.loginInProgress=!1}angular.module("app").controller("signupController",e),e.$inject=["$translate","$window","signupService","$state","toastApp","AuthToken","Auth","$filter","$stateParams"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(a,t)}function n(t){return e.post(s,t)}function r(o){var n=t.search();return e.get(l+"?mytoken="+n.mytoken+"&password="+o.password)}function i(t){return e.post(c,t)}var a="/api/signup/",s="/api/rescuepasswd/",l="/api/rescuepasswd/newpasswd/",c="/api/profile/photo/",u={create:o,rescuePassword:n,changePassword:r,uploadPhoto:i};return u}angular.module("app").factory("signupService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e){var t=e.extendPalette("teal",{50:"E0F2F1",100:"B2DFDB",200:"80CBC4",300:"4DB6AC",400:"26A69A",500:"009688",600:"00897B",700:"00796B",800:"00695C",900:"004D40",A100:"A7FFEB",A200:"64FFDA",A400:"1DE9B6",A700:"00BFA5",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0});e.definePalette("teal",t),e.theme("default").primaryPalette("teal").accentPalette("green")}angular.module("app").config(e),e.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";angular.module("authService",[]).factory("Auth",["$http","$q","AuthToken",function(e,t,o){var n={};return n.login=function(t,n){return e.post("/api/login",{email:t,password:n}).success(function(e){return o.setToken(e.token),e})},n.logout=function(){o.setToken()},n.isLoggedIn=function(){return o.getToken()?!0:!1},n.getUser=function(n){return o.getToken()?e.get("/api/me/?userid="+n):t.reject({message:"User has no token"})},n}]).factory("AuthToken",["$window",function(e){var t={};return t.getToken=function(){return e.localStorage.getItem("token")},t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token")},t}]).factory("AuthInterceptor",["$q","$location","AuthToken",function(e,t,o){var n={};return n.request=function(e){var t=o.getToken();return t&&(e.headers["x-access-token"]=t),e},n}])}(),angular.module("DropDSC",[]).directive("draggable",["$document","Socket","$window",function(e,t,o){
return{restrict:"A",replace:!0,link:function(o,n,r){function i(e){var t=e.target.id;"svg"==t&&(t=""),o.stakeholder.onionlayer=t,y=e.pageY,x=e.pageX,n.css({top:y+"px",left:x+"px"}),o.stakeholder.x=x+"px",o.stakeholder.y=y+"px"}function a(e){var t=e.target.id;"svg"==t&&(t=""),o.postit.layer=t,y=e.pageY,x=e.pageX,n.css({top:y+"px",left:x+"px"}),o.postit.x=x+"px",o.postit.y=y+"px"}function s(){e.unbind("mousemove",i),e.unbind("mouseup",s),t.emit("broadcastMove",o.stakeholder)}function l(){e.unbind("mousemove",a),e.unbind("mouseup",l),t.emit("broadcastOnion3LayerMove",o.postit)}n.on("mousedown",function(t){"stakeholder"==t.target.id.substring(0,11)?(t.preventDefault(),e.bind("mousemove",i),e.bind("mouseup",s)):"postit"==t.target.id.substring(0,6)&&(t.preventDefault(),e.bind("mousemove",a),e.bind("mouseup",l))})}}}]),function(e){angular.module("appRxDrag",["rx"]).directive("rxdraggable",["$document","$window","rx","Socket",function(e,t,o,n){return function(r,i,a){var s=t.localStorage.getItem("localcode"),l=o.Observable.fromEvent(i,"mouseup"),c=o.Observable.fromEvent(e,"mousemove"),u=o.Observable.fromEvent(i,"mousedown").map(function(e){return e.preventDefault(),{left:e.clientX-i[0].getBoundingClientRect().left,top:e.clientY-i[0].getBoundingClientRect().top}}),m=u.selectMany(function(e){return c.map(function(t){return{left:t.clientX-e.left,top:t.clientY-e.top}}).takeUntil(l)});m.subscribe(function(e){i.css({top:e.top+"px",left:e.left+"px"}),e.localcode=s,n.emit("broadcastMove",e)})}}])}.call(this),function(){"use strict";function e(e,t,o,n,r,i,a,s){function l(e){t.use(e)}function c(){return Math.random()+Math.floor(10*Math.random())}function u(e){d.inProcessing=!0,d.error="",r.login(e.email,e.password).success(function(e){i.localStorage.setItem("useremail",e.email),i.localStorage.setItem("userid",e.id),i.localStorage.setItem("localcode",e.id+"-"+c()),i.localStorage.setItem("nickname",e.nickname),d.setLang(e.language),d.inProcessing=!1,r.getUser(e.id).then(function(t){s.errorMessage(a("translate")("WELCOME_SYSTEM")+": "+e.nickname),e.success?(i.localStorage.setItem("photo",t.data.photo),n.go("startproblem")):s.errorMessage("Usuário e senha não conferem.")})})}function m(){r.logout(),n("init")}var d=this;d.inProcessing=!1,d.setLang=l,d.doLogout=m,d.doLogin=u,d.loggedIn=r.isLoggedIn(),o.$on("$routeChangeStart",function(){d.loggedIn=r.isLoggedIn(),r.getUser().then(function(e){d.user=e.data})})}angular.module("app").controller("loginController",e),e.$inject=["Socket","$translate","$rootScope","$state","Auth","$window","$filter","toastApp"]}(),function(){"use strict";angular.module("app").service("Socket",["$location","$timeout",function(e,t){this.socket=io(),this.on=function(e,o){this.socket&&this.socket.on(e,function(e){t(function(){o(e)})})},this.emit=function(e,t){this.socket&&this.socket.emit(e,t)},this.removeListener=function(e){this.socket&&this.socket.removeListener(e)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRzYy5hcHAuanMiLCJ0b2FzdC5zZXJ2aWNlLmpzIiwicm91dGVyLmFwcC5qcyIsImFwcC5kc2MubWluLmpzIiwibGFuZ3VhZ2UvdHJhbnNsYXRlLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2NhcmYuY29udHJvbGxlci5qcyIsInByb2JsZW0vY2hhdC5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9kc2NyZXNwb3J0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL2V2YWx1YXRpb25mcmFtZXdvcmsuY29udHJvbGxlci5qcyIsInByb2JsZW0vbWVudS5wcm9ibGVtLmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL29uaW9uLmVkaXQuY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5yZXBvcnQuY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5zZXJ2aWNlLmpzIiwicHJvYmxlbS9zZW1pb3RpY2ZyYW1ld29yay5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3N0YWtlaG9sZGVyLmVkaXQuY29udHJvbGxlci5qcyIsInByb2JsZW0vc3RhcnQucHJvYmxlbS5jb250cm9sbGVyLmpzIiwicHJvYmxlbS92YWx1ZWRlbnRpZmljYXRpb25mcmFtZS5jb250cm9sbGVyLmpzIiwidXNlci9wcm9maWxlLmNvbnRyb2xsZXIuanMiLCJ1c2VyL3NpZ251cC5jb250cm9sbGVyLmpzIiwidXNlci9zaWdudXAuc2VydmljZS5qcyIsImFwcC5jb25maWcuanMiLCJhdXRoLnNlcnZpY2UuanMiLCJkcmFnLmRzYy5qcyIsImRyYWdyeC5kc2MuanMiLCJsb2dpbi5jb250cm9sbGVyLmpzIiwic29ja2V0LnNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwidG9hc3RBcHAiLCIkbWRUb2FzdCIsImVycm9yTWVzc2FnZSIsInRoaXMiLCJtZXNzYWdlIiwic2hvdyIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsImFjdGlvbiIsImhpZ2hsaWdodEFjdGlvbiIsInBvc2l0aW9uIiwiaGlkZURlbGF5IiwiZXJyb3JNZXNzYWdlQm90dG9tIiwic2VydmljZSIsInNlbGYiLCJjbG9zZVRvYXN0IiwiaGlkZSIsImZhY3RvcnkiLCIkaW5qZWN0Iiwicm91dGVzIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwiY29udGVudC10YWIiLCJkc2MtYXJ0aWZhY3QiLCJvdGhlcndpc2UiLCJpbml0TGFuZ3VhZ2UiLCIkdHJhbnNsYXRlUHJvdmlkZXIiLCJ1c2VTdGF0aWNGaWxlc0xvYWRlciIsInByZWZpeCIsInN1ZmZpeCIsInByZWZlcnJlZExhbmd1YWdlIiwidXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5IiwidXNlTG9jYWxTdG9yYWdlIiwibGFuZ3VhZ2VDb250cm9sbGVyIiwiJHRyYW5zbGF0ZSIsInNldExhbmciLCJsYW5nS2V5IiwidXNlIiwiY2hhbmdlTGFuZ3VhZ2UiLCJyZXN0cmljdCIsImRpcmVjdGl2ZSIsImNhcmZDb250cm9sbGVyIiwiJHdpbmRvdyIsIlNvY2tldCIsInByb2JsZW1TZXJ2aWNlIiwiaW5pdENhcmYiLCJpZFByb2JsZW0iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZ2V0Y2FyZiIsInN1Y2Nlc3MiLCJkYXRhIiwibG9jYWxTdGFrZWhvbGRlcnMiLCJzdGFrZWhvbGRlcnMiLCJzdGFrZWhvbGRlckxpc3QiLCJjYXJmTGlzdCIsImNhcmYiLCJjYXJmUHJpb3JpdHlMaXN0IiwibG9jYWxQcmlvcml0eUxpc3QiLCJpblByb2Nlc3NpbmciLCJyZXNldENhcmYiLCJfaWQiLCJwbXMiLCJ2YWx1ZXMiLCJwcmlvcml0eSIsInJlcXVpcmVtZW50IiwidmFsdWVMaXN0IiwiYWRkcG1zdmFsdWUiLCJsZW5ndGgiLCJlbWl0IiwicmVtb3ZlQ0FSRiIsImluZGV4Iiwib2JqIiwic2VsZWN0UE1TVmFsdWUiLCJ1bmRlZmluZWQiLCJmb3JFYWNoIiwiY2FyZlBNU1ZhbHVlIiwicG1zX3ZhbHVlIiwic2V0UHJpb3RpdHkiLCJhZGRMaXN0VmFsdWUiLCJuZXd2YWx1ZSIsImkiLCJzcGxpY2UiLCJhZGRTdGFrZWhvbGRlciIsIm5ld1N0YWtlaG9sZGVyIiwib24iLCJpZCIsImNoYXREU0MiLCIkdGltZW91dCIsIiRmaWx0ZXIiLCJzaG93VXNlcnNPbkxpbmUiLCJ1c2Vyc09uTGluZSIsInNob3dVc2VyIiwib3BlbkNoYXQiLCJpc09wZW5DaGF0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImZvY3VzIiwiaW5pdEhpc3RvcnlDaGF0Iiwibmlja25hbWUiLCJwaG90byIsImdldGhpc3RvcnljaGF0IiwiaGlzdG9yeWNoYXQiLCJ0bXAiLCJEYXRlIiwidGltZSIsIm1zbiIsIm1zZyIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwibWVzc2FnZXMiLCJzZXRVc2Vyc0xpc3QiLCJzb3J0Iiwic2hvd1JlcGxheSIsInJlcGxheSIsInNlbmRNZXNzYWdlIiwiY2hhdG1zZyIsIm5ld21zZyIsImNvbnRhZG9yIiwiemVyYXJDb250YWRvciIsImtleXByZXNzQ2hhdCIsImV2ZW50Iiwia2V5Q29kZSIsImRzY1JlcG9ydENvbnRyb2xsZXIiLCJidWlkUmVwb3J0IiwiZWxlbWVudCIsImh0bWwiLCJwZGYiLCJqc1BERiIsImFkZEhUTUwiLCJwYWdlc3BsaXQiLCJkaXNwb3NlIiwic2F2ZSIsImlkcHJvYmxlbSIsImV2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyIiwiaW5pdEV2YWx1YXRpb24iLCJnZXRldmFsdWF0aW9uIiwiZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QiLCJldmFsdWF0aW9uZnJhbWV3b3JrIiwic2F2ZUZyYW1lIiwic3Rha2Vob2xkZXIiLCJzZXRPcGVuRWRpdERpc2N1dGlvbiIsImN1cnJlbnRTdGFrZWhvbGRlciIsIm9wZW5FZGl0Iiwib25pb25sYXllciIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInByb2JsZW1zIiwic29sdXRpb25zIiwic3Rha2Vob2xkZXJPbmlvbiIsIm1lbnVQcm9ibGVtYUNvbnRyb2xsZXIiLCJBdXRoIiwiJG1kRGlhbG9nIiwiJHNjb3BlIiwiJHN0YXRlIiwic2F2ZVByb2JsZW0iLCJwcm9ibGVtIiwibG9jYWxjb2RlIiwiZm9ybUVkaXRQcm9ibGVtIiwiZXYiLCJEaWFsb2dFZGl0UHJvYmxlbUNvbnRyb2xsZXIiLCJwYXJlbnQiLCJib2R5IiwidGFyZ2V0RXZlbnQiLCJnZXRQcm9ibGVtRWRpdCIsImdldHByb2JsZW0iLCJzZXRVcGRhdGUiLCJ1cGRhdGVUcnVlIiwicHJvYmxlbVVwZGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJzYXZlRGVzY3JpcHRpb24iLCJjYW5jZWwiLCJmb3JtSW52aXRlQ29sbGFib3JhdG9yIiwiRGlhbG9nSW52aXRlQ29sbGFib3JhdG9yQ29udHJvbGxlciIsImluaXRDb2xsYWJvcmF0b3JzIiwidXNlcmVtYWlsIiwiZ2V0Y29sbGFib3JhdG9ycyIsImNvbGxhYm9yYXRvcnMiLCJzZWFyY2hDYWxsYWJvcmF0aW9uIiwiZW1haWwiLCJhZGRDb2xsYWJvcmF0b3IiLCJpbnZpdGUiLCJhbGVydERlbGV0ZUNvbGxhYm9yYXRvciIsImNvbGxhYm9yYXRvciIsImlzRGVsZXRlZCIsInJlbW92ZUNvbGxhYm9yYXRvciIsInJlbW92ZWNvbGxhYm9yYXRvcnMiLCJpc0RlbGV0ZUNvbGxhYm9yYXRvciIsImdldEN1cnJlbnRQcm9ibGVtIiwiYXJ0aWZhY3RzIiwiYXJ0aWZhY3QiLCJzcGxpdCIsImRzY19hcnRpZmFjdHMiLCJ0b0xvd2VyQ2FzZSIsImxhYmVsIiwiaW5pdHNvY2tldHByb2JsZW0iLCJzeXN0ZW1SZXR1cm4iLCJnbyIsImZvcm1BZGRDb2xsYWJvcmF0b3JzIiwiZm9ybVByb2JsZW1SZXBvcnQiLCJlZGl0RGVzY3JpcHRpb25Qcm9ibGVtIiwiZG9Mb2dvdXQiLCJsb2dvdXQiLCJyZXRvcm5vIiwic2V0RGVzY3JpdGlvbiIsInNlbGVjdGVkSW5kZXgiLCJzZWxlY3RlZCIsInByZXZpb3VzIiwiJHdhdGNoIiwiY3VycmVudCIsIm9uaW9uM0xheWVyQ29udHJvbGxlciIsImluaXRPbmlvbjNMYXllciIsImdldG9uaW9uM2xheWVyIiwicG9zdGl0cyIsInBvc3RpdCIsIm9uaW9uM0xheWVyTGlzdCIsInNhdmVPbmlvbjNMYXllciIsInNldE9wZW5FZGl0IiwicmVtb3ZlUG9zdEl0IiwiZGVsUG9zdEl0IiwiY29uZmlybSIsInRpdGxlIiwiY29udGVudCIsImFyaWFMYWJlbCIsIm9rIiwidGhlbiIsImFkZFBvc3RJdCIsImUiLCJjYW1hZGEiLCJsYXllciIsIngiLCJwYWdlWCIsInkiLCJwYWdlWSIsInppbmRleCIsImFjZW5kZSIsInNldEF0dHJpYnV0ZSIsImFwYWdhIiwiY29sb3IiLCJtb3ZlIiwic3R5bGUiLCJkaXNwbGF5IiwibGVmdCIsInRvcCIsInByb2JsZW1SZXBvcnRDb250cm9sbGVyIiwiaW5pdFByb2JsZW1QZXBvcnQiLCJnZXRwcm9ibGVtcmVwb3J0IiwicGFyc2VJbnQiLCJzdWJzdHJpbmciLCIkaHR0cCIsIiRsb2NhdGlvbiIsIm5ld3Byb2JsZW0iLCJwb3N0IiwiQVBJX1JPVVRFX05FV1BST0JMRU0iLCJnZXQiLCJBUElfUk9VVEVfR0VUUFJPQkxFTVJFUE9SVCIsIkFQSV9ST1VURV9HRVRQUk9CTEVNIiwiZ2V0dXNlcnByb2JsZW1zIiwiQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNUyIsIkFQSV9ST1VURV9HRVRDT0xMQUJPUkFUT1JTIiwiQVBJX1JPVVRFX0lOVklURSIsImdldG9uaW9uIiwiQVBJX1JPVVRFX0dFVE9OSU9OIiwiQVBJX1JPVVRFX0dFVE9OSU9OM0xBTFlFUiIsIkFQSV9ST1VURV9HRVRFVkFMVUFUSU9OIiwiZ2V0c2VtaW90aWMiLCJBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksiLCJBUElfUk9VVEVfR0VUQ0FSRiIsInJlbW92ZXByb2JsZW0iLCJBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSIsImdldHByb2JsZW1zY29sbGFib3JhdG9yIiwiQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiIsIkFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IiLCJBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQiLCJzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIiLCJpbml0U2VtaW90aWNGcmFtZXdvcmsiLCJzZW1pb3RpY2ZyYW1ld29yayIsInNhdmVTb2NpYWxXb3JsZCIsInRleHQiLCJmbGFnU2F2ZSIsInNhdmVQcmFnbWF0aWMiLCJzYXZlU2VtYW50aWMiLCJzYXZlU3ludGF0aWMiLCJzYXZlRW1waXJpY2FsIiwic2F2ZVBoeXNpY2FsIiwic29jaWFsd29ybGQiLCJwcmFnbWF0aWMiLCJzZW1pb3RpY3JhbWV3b3JrIiwic3ludGF0aWMiLCJlbXBpcmljYWwiLCJwaHlzaWNhbCIsInN0YWtlaG9sZGVyQ29udHJvbGxlciIsImludGl0T25pb24iLCJzYXZlU3Rha2Vob2xkZXIiLCJzdGFydFByb2JsZW1Db250cm9sbGVyIiwiZ2V0UHJvYmxlbXMiLCJ1c2VyaWQiLCJyZXBsYWNlIiwicHJvYmxlbUxpc3QiLCJwcm9ibGVtQ29sbGFib3JhdG9yTGlzdCIsImxvZ2luSW5Qcm9ncmVzcyIsImRlbGV0ZVByb2JsZW0iLCJwcm9ibGVtaWQiLCJyZXZvbXZlUHJvYmxlbSIsInN0YXJ0TmV3UHJvYmxlbSIsImVkaXRQcm9ibGVtIiwic2V0SXRlbSIsImVkaXRQcm9maWxlIiwibmV3UHJvYmxlbSIsIkRpYWxvZ0NvbnRyb2xsZXIiLCJpdGVtcyIsInRvZ2dsZSIsIml0ZW0iLCJsaXN0IiwiaWR4IiwiaW5kZXhPZiIsImV4aXN0cyIsImlzSW5kZXRlcm1pbmF0ZSIsImlzQ2hlY2tlZCIsInRvZ2dsZUFsbCIsInNsaWNlIiwiYXJ0aWZhY3RMaXN0IiwiYWRkTmV3UHJvYmxlbSIsInZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIiLCJpbml0VmFsdWVJZGVudGlmaWNhdGlvbkZyYW1lIiwiayIsInN1Z2VzdGlvblZhbHVlc0FycmF5Iiwic3VnZXN0aW9uVmFsdWVzIiwiaiIsIm5ld1ZhbHVlcyIsInNldFN1Z2dlc3Rpb25TaG93IiwibGVhdmVTdWdnZXN0aW9uU2hvdyIsInJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uIiwidmFsdWUiLCJuZXdMaXN0Iiwic2V0VmFsdWVJZGVudGljYXRpb24iLCJ2YWx1ZXNMaXN0IiwiZmluZFZhbHVlIiwibmV3dmFsdWVzIiwicHJvZmlsZUNvbnRyb2xsZXIiLCJzaWdudXBTZXJ2aWNlIiwic3RhcnRQcm9maWxlIiwic2F2ZVBob3RvIiwibXlpbWFnZSIsInVzZXJQaG90byIsInVwbG9hZFBob3RvIiwidXBsb2FkSW5Qcm9ncmVzcyIsInVwbG9hZFByb2dyZXNzIiwibXlJbWFnZSIsIm15Q3JvcHBlZEltYWdlIiwiaGFuZGxlRmlsZVNlbGVjdCIsImV2dCIsImZpbGUiLCJjdXJyZW50VGFyZ2V0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiJGFwcGx5IiwidGFyZ2V0IiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsInF1ZXJ5U2VsZWN0b3IiLCJzaWdudXBDb250cm9sbGVyIiwiQXV0aFRva2VuIiwiJHN0YXRlUGFyYW1zIiwic2F2ZVVzZXIiLCJ1c2VyIiwiY3JlYXRlIiwicmVzY3VlUGFzc3dvcmQiLCJ1c2VyRW1haWwiLCJjaGFuZ2VQYXNzd29yZCIsIkFQSV9ST1VURV9VU0VSIiwiQVBJX1JPVVRFX1JFU0NVRVBBU1NXT1JEIiwibXl0b2tlblVSTCIsInNlYXJjaCIsIkFQSV9ST1VURV9TRVRORVdQQVNTV09SRCIsIm15dG9rZW4iLCJwYXNzd29yZCIsIkFQSV9ST1VURV9VUERBVEVQSE9UTyIsImFwcENvbmZpZyIsIiRtZFRoZW1pbmdQcm92aWRlciIsIm5lb25SZWRNYXAiLCJleHRlbmRQYWxldHRlIiwiNTAiLCIxMDAiLCIyMDAiLCIzMDAiLCI0MDAiLCI1MDAiLCI2MDAiLCI3MDAiLCI4MDAiLCI5MDAiLCJBMTAwIiwiQTIwMCIsIkE0MDAiLCJBNzAwIiwiY29udHJhc3REZWZhdWx0Q29sb3IiLCJjb250cmFzdERhcmtDb2xvcnMiLCJjb250cmFzdExpZ2h0Q29sb3JzIiwiZGVmaW5lUGFsZXR0ZSIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwiJHEiLCJhdXRoRmFjdG9yeSIsImxvZ2luIiwic2V0VG9rZW4iLCJ0b2tlbiIsImlzTG9nZ2VkSW4iLCJnZXRUb2tlbiIsImdldFVzZXIiLCJyZWplY3QiLCJhdXRoVG9rZW5GYWN0b3J5IiwicmVtb3ZlSXRlbSIsImludGVyY2VwdG9yRmFjdG9yeSIsInJlcXVlc3QiLCJoZWFkZXJzIiwiJGRvY3VtZW50IiwibGluayIsInNjb3BlIiwiYXR0ciIsIm1vdXNlbW92ZSIsImlkX2RpdiIsImNzcyIsIm1vdXNlbW92ZVBvc3RJdCIsIm1vdXNldXAiLCJ1bmJpbmQiLCJtb3VzZXVwUG9zdEl0IiwicHJldmVudERlZmF1bHQiLCJiaW5kIiwicngiLCJhdHRycyIsIk9ic2VydmFibGUiLCJmcm9tRXZlbnQiLCJtb3VzZWRvd24iLCJtYXAiLCJjbGllbnRYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WSIsIm1vdXNlZHJhZyIsInNlbGVjdE1hbnkiLCJpbWFnZU9mZnNldCIsInBvcyIsInRha2VVbnRpbCIsInN1YnNjcmliZSIsImNhbGwiLCJsb2dpbkNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiZ2V0TG9jYWxDb2RlIiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwiZG9Mb2dpbiIsImVycm9yIiwibGFuZ3VhZ2UiLCJ1c2VyRGF0YSIsImxvZ2dlZEluIiwiJG9uIiwic29ja2V0IiwiaW8iLCJldmVudE5hbWUiLCJjYWxsYmFjayIsInJlbW92ZUxpc3RlbmVyIl0sIm1hcHBpbmdzIjoiQ0FHQSxXQUNBLFlBRUFBLFNBQ0FDLE9BQUEsT0FBQSxZQUFB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LEtBQUE4WSxFQUFBaGEsSUFJQXBELEtBQUFzZCxlQUFBLFNBQUFGLEdBQ0FwZCxLQUFBa2QsUUFDQWxkLEtBQUFrZCxPQUFBSSxlQUFBRiIsImZpbGUiOiJhcHAuZHNjLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjUvMDYvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcsWyduZ0ltZ0Nyb3AnLCd0b2FzdFNlcnZpY2UnLCd0ZXh0QW5ndWxhcicsJ2x1ZWdnLmRpcmVjdGl2ZXMnLCAnYXBwUnhEcmFnJywgJ0Ryb3BEU0MnLCdhdXRoU2VydmljZScsJ3VpLnJvdXRlcicsJ25nTWF0ZXJpYWwnLCduZ01kSWNvbnMnLCduZ0Nvb2tpZXMnLCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXHJcbiAgICAgICAgLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhJbnRlcmNlcHRvcicpO1xyXG4gICAgICAgIH0pXHJcblxyXG59KSgpO1xyXG5cclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjcvMDYvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgndG9hc3RTZXJ2aWNlJyxbXSlcclxuICAgICAgICAuY29udHJvbGxlcigndG9hc3RDb250cm9sbGVyJywgZnVuY3Rpb24oJG1kVG9hc3QsdG9hc3RBcHApIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2UgPSAgdG9hc3RBcHAubWVzc2FnZTtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVRvYXN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5oaWRlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmFjdG9yeSggJ3RvYXN0QXBwJywgdG9hc3RBcHAgKTtcclxuXHJcbiAgICB0b2FzdEFwcC4kaW5qZWN0ID0gWyAnJG1kVG9hc3QnIF07XHJcblxyXG4gICAgZnVuY3Rpb24gdG9hc3RBcHAgKCRtZFRvYXN0KSB7XHJcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlQm90dG9tOiBlcnJvck1lc3NhZ2VCb3R0b21cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xyXG5cclxuICAgICAgICAvKmZ1bmN0aW9uIGVycm9yTWVzc2FnZShlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAgICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAgICAgICAudGV4dENvbnRlbnQoZXJyb3JNZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgICAgICAgLmhpZGVEZWxheSg4MDApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSovXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVycm9yTWVzc2FnZShlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd0b2FzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2RzY3RvYXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJPS1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodEFjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJ0b3AgcmlnaHRcIixcclxuICAgICAgICAgICAgICAgICAgICBoaWRlRGVsYXk6IDIwMDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVycm9yTWVzc2FnZUJvdHRvbShlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd0b2FzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2RzY3RvYXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJPS1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodEFjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJib3R0b20gbGVmdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVEZWxheTogMTAwMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbmZpZyhyb3V0ZXMpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJvdXRlcygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcblxyXG5cclxuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnaW5pdCcsIHtcclxuICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvaW5pdHBhZ2UuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LmxvZ2luJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnbG9naW4nLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10YWInOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvdXNlcmxvZ2luLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbG9naW5Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LnNpZ251cCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3NpZ251cCcsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9zaWdudXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdpbml0LnJlc2N1ZXBhc3N3b3JkJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAncmVzY3VlcGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10YWInOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcmVzY3VlcGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdzdGFydHByb2JsZW0nLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvc3RhcnRwcm9ibGVtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc3RhcnRwcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YXJ0UHJvYmxlbUNvbnRyb2xsZXIgYXMgdm0nXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2ZpbGUnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvcHJvZmlsZScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Byb2ZpbGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvZmlsZUNvbnRyb2xsZXIgYXMgdm0nXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2RzY3JlcG9ydCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9kc2NyZXBvcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Byb2JsZW1yZXBvcnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9ibGVtUmVwb3J0Q29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCduZXdwYXNzd29yZCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9uZXdwYXNzd29yZC86bXl0b2tlbicsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL25ld3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cENvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbScsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9wcm9ibGVtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvYmxlbS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtZW51UHJvYmxlbUNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgLyogLnN0YXRlKCdwcm9ibGVtLmRlc2NyaXB0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2Rlc2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3Byb2JsZW0tZGVzY3JpcHRpb24nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvcHJvYmxlbWRlc2NyaXB0aW9uLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZWRpdFByb2JsZW1Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkqL1xyXG4gICAgICAgICAgICAvKi5zdGF0ZSgncHJvYmxlbS5jb2xsYWJvcmF0b3JzJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2NvbGxhYm9yYXRvcnMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAncHJvYmxlbS1kZXNjcmlwdGlvbic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9jb2xsYWJvcmF0b3JzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY29udHJvbGxlckNvbGxhYm9yYXRvcnMgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSovXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5zdGFrZWhvbGRlcnMnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvc3Rha2Vob2xkZXJzJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2RzYy1hcnRpZmFjdCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9zdGFrZWhvbGRlcnMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzdGFrZWhvbGRlckNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2JsZW0uZXZhbHVhdGlvbmZyYW1ld29yaycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9ldmFsdWF0aW9uZnJhbWV3b3JrJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2RzYy1hcnRpZmFjdCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9ldmFsdWF0aW9uZnJhbWV3b3JrLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZXZhbHVhdGlvbmZyYW1ld29ya0NvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLnNlbWlvdGljZnJhbWV3b3JrJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3NlbWlvdGljZnJhbWV3b3JrJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2RzYy1hcnRpZmFjdCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9zZW1pb3RpY2ZyYW1ld29yay5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS5jYXJmJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2NhcmYnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2NhcmYuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjYXJmQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvYmxlbS52aWYnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvdmlmJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2RzYy1hcnRpZmFjdCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy92aWYuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2YWx1ZUlkZW50aWZpY2F0aW9uRnJhbWVDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdwcm9ibGVtLm9uaW9uJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL29uaW9uJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2RzYy1hcnRpZmFjdCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9vbmlvbi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ29uaW9uM0xheWVyQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9sb2dpbicpO1xyXG5cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiIsbnVsbCwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxOS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoaW5pdExhbmd1YWdlKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2xhbmd1YWdlQ29udHJvbGxlcicsbGFuZ3VhZ2VDb250cm9sbGVyKVxyXG4gICAgLmRpcmVjdGl2ZSgnY2hhbmdlTGFuZ3VhZ2UnLGNoYW5nZUxhbmd1YWdlKTtcclxuXHJcbmluaXRMYW5ndWFnZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlUHJvdmlkZXInXTtcclxubGFuZ3VhZ2VDb250cm9sbGVyLiRpbmplY3QgPSBbJyR0cmFuc2xhdGUnXTtcclxuXHJcbmZ1bmN0aW9uIGluaXRMYW5ndWFnZSAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVN0YXRpY0ZpbGVzTG9hZGVyKHtcclxuICAgICAgICAgICAgcHJlZml4OiAnYXBwL2xhbmd1YWdlL2xhbmctJyxcclxuICAgICAgICAgICAgc3VmZml4OiAnLmpzb24nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3koJ2VzY2FwZWQnKTtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlTG9jYWxTdG9yYWdlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxhbmd1YWdlQ29udHJvbGxlciAoJHRyYW5zbGF0ZSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgIGZ1bmN0aW9uIHNldExhbmcobGFuZ0tleSkge1xyXG4gICAgICAgICAgICAkdHJhbnNsYXRlLnVzZShsYW5nS2V5KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlTGFuZ3VhZ2UoKXtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdGVtcGxhdGVVcmwgOiBcImFwcC9sYW5ndWFnZS9jaGFuZ2VMYW5ndWFnZS5odG1sXCIsXHJcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAxNC8wNy8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoXCJjYXJmQ29udHJvbGxlclwiLGNhcmZDb250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjYXJmQ29udHJvbGxlcigkd2luZG93LFNvY2tldCxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCl7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmlkUHJvYmxlbSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYudmFsdWVMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXTtcclxuICAgICAgICBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzID0gW107XHJcbiAgICAgICAgc2VsZi5hZGRwbXN2YWx1ZSA9IGFkZHBtc3ZhbHVlO1xyXG4gICAgICAgIHNlbGYucmVtb3ZlQ0FSRiA9IHJlbW92ZUNBUkY7XHJcbiAgICAgICAgc2VsZi5zZWxlY3RQTVNWYWx1ZSA9IHNlbGVjdFBNU1ZhbHVlO1xyXG4gICAgICAgIHNlbGYuc2V0UHJpb3RpdHkgPSBzZXRQcmlvdGl0eTtcclxuICAgICAgICBzZWxmLmFkZExpc3RWYWx1ZSA9IGFkZExpc3RWYWx1ZTtcclxuICAgICAgICBzZWxmLmFkZFN0YWtlaG9sZGVyID0gYWRkU3Rha2Vob2xkZXI7XHJcbiAgICAgICAgc2VsZi5jYXJmID0ge1xyXG4gICAgICAgICAgICBwbXM6IFwiXCIsXHJcbiAgICAgICAgICAgIHZhbHVlczogW10sXHJcbiAgICAgICAgICAgIHByaW9yaXR5OiBcIlwiLFxyXG4gICAgICAgICAgICByZXF1aXJlbWVudDogXCJcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuaW5pdENhcmYgPSBpbml0Q2FyZjtcclxuICAgICAgICBzZWxmLmNhcmZMaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5jYXJmUHJpb3JpdHlMaXN0ID0gW107XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRDYXJmKCl7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGNhcmYoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9jYWxTdGFrZWhvbGRlcnMgPSBkYXRhLnN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmZMaXN0ID0gZGF0YS5jYXJmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBzZWxmLmxvY2FsUHJpb3JpdHlMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzZXRDYXJmKCl7XHJcbiAgICAgICAgICAgIHNlbGYuY2FyZiA9IHtcclxuICAgICAgICAgICAgICAgIF9pZDogXCJcIixcclxuICAgICAgICAgICAgICAgIHBtczogXCJcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlczogW10sXHJcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogXCJcIixcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzZWxmLnZhbHVlTGlzdCA9IFtdO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RDQVJGYWRkJywgZnVuY3Rpb24gKGNhcmYpIHtcclxuICAgICAgICAgICAgc2VsZi5jYXJmTGlzdC5wdXNoKGNhcmYpO1xyXG4gICAgICAgICAgICByZXNldENhcmYoKTtcclxuICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBzZWxmLmxvY2FsU3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICBzZWxmLmNhcmZQcmlvcml0eUxpc3QgPSBzZWxmLmxvY2FsUHJpb3JpdHlMaXN0O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRwbXN2YWx1ZShjYXJmKXtcclxuXHJcbiAgICAgICAgICAgIGlmKGNhcmYucG1zID09PSBcIlwiKXtcclxuICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBQTVNcIik7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgaWYoY2FyZi52YWx1ZXMubGVuZ3RoIDwgMSApe1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBvbmUgb3IgbW9yZSBWYWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhcmYuc3Rha2Vob2xkZXJzLmxlbmd0aCA8IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJTZWxlY3Qgb25lIG9yIG1vcmUgU3Rha2Vob2xkZXIocylcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhcmYucHJpb3JpdHkgPT09IFwiXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IHByaW9yaXR5IFtMb3csIE1lZGl1bSBvciBIaWdoXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0Q0FSRmFkZCcsIGNhcmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZlByaW9yaXR5TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENBUkZyZW1vdmUnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgc2VsZi5jYXJmTGlzdC5zcGxpY2UoaWQsMSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNBUkYoaW5kZXgsY2FyZil7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICBjYXJmOiBjYXJmXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDQVJGcmVtb3ZlJywgb2JqKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZWxlY3RQTVNWYWx1ZShwbXMpe1xyXG4gICAgICAgICAgICBpZihwbXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuY2FyZlBNU1ZhbHVlLCBmdW5jdGlvbiAocG1zX3ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBtc192YWx1ZS5wbXMgPT0gcG1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi52YWx1ZUxpc3QgPSBwbXNfdmFsdWUudmFsdWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldFByaW90aXR5KHByaW9yaXR5KXtcclxuICAgICAgICAgICAgc2VsZi5jYXJmLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRMaXN0VmFsdWUobmV3dmFsdWUpe1xyXG4gICAgICAgICAgIGlmKHNlbGYuY2FyZi52YWx1ZXMubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMucHVzaChuZXd2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmNhcmYudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICBpZiAobmV3dmFsdWUgPT0gc2VsZi5jYXJmLnZhbHVlc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZi52YWx1ZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBzZWxmLmNhcmYudmFsdWVzLnB1c2gobmV3dmFsdWUpO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFN0YWtlaG9sZGVyKG5ld1N0YWtlaG9sZGVyKXtcclxuICAgICAgICAgICAgaWYoc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5wdXNoKG5ld1N0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHNlbGYuY2FyZi5zdGFrZWhvbGRlcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld1N0YWtlaG9sZGVyID09IHNlbGYuY2FyZi5zdGFrZWhvbGRlcnNbaV0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmYuc3Rha2Vob2xkZXJzLnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VsZi5jYXJmLnN0YWtlaG9sZGVycy5wdXNoKG5ld1N0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5sb2NhbFByaW9yaXR5TGlzdCA9IFsnTG93JywgJ01lZGl1bScsJ0hpZ2gnXTtcclxuXHJcbiAgICAgICAgc2VsZi5jYXJmUE1TVmFsdWUgPSBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJJbnRlcmFjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJZGVudGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk5vcm1zXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiQXNzb2NpYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udmVyc2F0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiR3JvdXBzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVsYXRpb25zaGlwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVHJ1c3RcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJMZWFybmluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJNZXRhLWNvbW11bmljYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJQbGF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkFlc3RoZXRpY3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJFbW90aW9uIGFuZCBBZmZlY3Rpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJQcm90ZWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkluZm9ybWVkIGNvbnNlcnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJSZXB1dGF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU2VjdXJpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJFeHBsb2l0YXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQWNjZXNzaWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk9iamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlByb3BlcnR5IChvd25lcnNoaXApXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVXNhYmlsaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiVGVwb3JhbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBdmFpbGFiaWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBd2FyZW5lc3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQcmVzZW5jZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlRlcnJpdG9yaWFsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlBvcnRhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJpdmFjeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNjYWxhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVmlzaWJpbGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkNsYXNzaWZpY2F0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkF1dG9ub215XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29sbGFib3JhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNoYXJpbmdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBZGFwdGFiaWxpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJTdWJzaXN0ZW5jZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJSZWNpcHJvY2l0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDE1LzA3LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2NoYXREU0MnLGNoYXREU0MpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNoYXREU0MoJHRpbWVvdXQsICRmaWx0ZXIsIHRvYXN0QXBwLCBTb2NrZXQsIHByb2JsZW1TZXJ2aWNlLCAkd2luZG93KSB7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLm5ld21zZyA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcyA9IFtdO1xyXG4gICAgICAgIHNlbGYucmVwbGF5ID0gZmFsc2U7XHJcbiAgICAgICAgc2VsZi5uaWNrbmFtZSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi51c2Vyc09uTGluZSA9IFtdO1xyXG4gICAgICAgIHNlbGYuaW5pdEhpc3RvcnlDaGF0ID0gaW5pdEhpc3RvcnlDaGF0O1xyXG4gICAgICAgIHNlbGYuc2hvd1JlcGxheSA9IHNob3dSZXBsYXk7XHJcbiAgICAgICAgc2VsZi5zZW5kTWVzc2FnZSA9IHNlbmRNZXNzYWdlO1xyXG4gICAgICAgIHNlbGYucGhvdG8gPSBcIlwiO1xyXG4gICAgICAgIHNlbGYub3BlbkNoYXQgPSBvcGVuQ2hhdDtcclxuICAgICAgICBzZWxmLmlzT3BlbkNoYXQgPSBmYWxzZTtcclxuICAgICAgICBzZWxmLmtleXByZXNzQ2hhdCA9IGtleXByZXNzQ2hhdDtcclxuICAgICAgICBzZWxmLmNvbnRhZG9yID0gMDtcclxuICAgICAgICBzZWxmLnNob3dVc2Vyc09uTGluZSA9IHNob3dVc2Vyc09uTGluZTtcclxuICAgICAgICBzZWxmLnNob3dVc2VyID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dVc2Vyc09uTGluZSgpe1xyXG4gICAgICAgICAgICBpZihzZWxmLnVzZXJzT25MaW5lLmxlbmd0aCA+IDEpe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zaG93VXNlciA9ICFzZWxmLnNob3dVc2VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb3BlbkNoYXQoKXtcclxuICAgICAgICAgICAgc2VsZi5pc09wZW5DaGF0ID0gIXNlbGYuaXNPcGVuQ2hhdDtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UnKS5mb2N1cygpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0SGlzdG9yeUNoYXQoKXtcclxuICAgICAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICAgICAgc2VsZi5uaWNrbmFtZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7XHJcbiAgICAgICAgICAgIHNlbGYucGhvdG8gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG90bycpO1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRoaXN0b3J5Y2hhdChzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmhpc3RvcnljaGF0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gbmV3IERhdGUoZGF0YS5oaXN0b3J5Y2hhdFtpXS50aW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtc24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmlja25hbWU6IGRhdGEuaGlzdG9yeWNoYXRbaV0ubmlja25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBkYXRhLmhpc3RvcnljaGF0W2ldLm1zZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxICkrIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWVzc2FnZXMucHVzaChtc24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uVXNlck9OJywgZnVuY3Rpb24gKG5pY2tuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZihuaWNrbmFtZSAhPT0gc2VsZi5uaWNrbmFtZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VXNlcnNMaXN0KG5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0VXNlcnNMaXN0KG5pY2tuYW1lKXtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBzZWxmLnVzZXJzT25MaW5lLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKHNlbGYudXNlcnNPbkxpbmVbaV0gPT09IG5pY2tuYW1lKSByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZi51c2Vyc09uTGluZS5wdXNoKG5pY2tuYW1lKTtcclxuICAgICAgICAgICAgc2VsZi51c2Vyc09uTGluZS5zb3J0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uTm90aWZ5T04nLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIGlmKHNlbGYubmlja25hbWUgIT09IG9iai5uaWNrbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlQm90dG9tKG9iai5uaWNrbmFtZSArIFwiLCBcIiArICRmaWx0ZXIoJ3RyYW5zbGF0ZScpKG9iai5tc2cpKTtcclxuICAgICAgICAgICAgICAgIHNldFVzZXJzTGlzdChvYmoubmlja25hbWUpO1xyXG4gICAgICAgICAgICAgICAgU29ja2V0LmVtaXQoJ3VzZXJPTicsIHNlbGYubmlja25hbWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYudXNlcnNPbkxpbmUgPSBbXTtcclxuICAgICAgICAgICAgc2VsZi51c2Vyc09uTGluZS5wdXNoKHNlbGYubmlja25hbWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uTm90aWZ5T0ZGJywgZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICBpZihvYmoubmlja25hbWUgIT09IHNlbGYubmlja25hbWUpIHtcclxuICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZUJvdHRvbShvYmoubmlja25hbWUgKyBcIiwgXCIgKyAkZmlsdGVyKCd0cmFuc2xhdGUnKShvYmoubXNnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLnVzZXJzT25MaW5lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLm5pY2tuYW1lID09PSBzZWxmLnVzZXJzT25MaW5lW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51c2Vyc09uTGluZS5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RDaGF0JywgZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICB2YXIgdG1wID0gbmV3IERhdGUob2JqW29iai5sZW5ndGggLTFdLnRpbWUpO1xyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmlja25hbWU6IG9ialtvYmoubGVuZ3RoIC0xXS5uaWNrbmFtZSxcclxuICAgICAgICAgICAgICAgIG1zZzogb2JqW29iai5sZW5ndGggLTFdLm1zZyxcclxuICAgICAgICAgICAgICAgIHRpbWU6IHRtcC5nZXREYXRlKCkgKyBcIi9cIiArICh0bXAuZ2V0TW9udGgoKSArIDEpICsgXCIvXCIgKyB0bXAuZ2V0RnVsbFllYXIoKSArIFwiIFtcIiArIHRtcC5nZXRIb3VycygpICsgXCI6XCIgKyB0bXAuZ2V0TWludXRlcygpICsgXCJdIFwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzaG93UmVwbGF5KCl7XHJcbiAgICAgICAgICAgIGlmKHNlbGYucmVwbGF5KXtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVwbGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgc2VsZi5yZXBsYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0Q2hhdCcsIGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBEYXRlKG9ialtvYmoubGVuZ3RoIC0xXS50aW1lKTtcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBvYmpbb2JqLmxlbmd0aCAtMV0ubmlja25hbWUsXHJcbiAgICAgICAgICAgICAgICBtc2c6IG9ialtvYmoubGVuZ3RoIC0xXS5tc2csXHJcbiAgICAgICAgICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxKSArIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKGNoYXRtc2cpe1xyXG4gICAgICAgICAgICBpZihjaGF0bXNnID09PSB1bmRlZmluZWQgfHwgY2hhdG1zZy5sZW5ndGggPCAyICl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENoYXQnLCBjaGF0bXNnKTtcclxuICAgICAgICAgICAgc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG4gICAgICAgICAgICBzZWxmLmNvbnRhZG9yID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHplcmFyQ29udGFkb3IoKXtcclxuICAgICAgICAgICAgc2VsZi5jb250YWRvciA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBrZXlwcmVzc0NoYXQoZXZlbnQsY2hhdG1zZyl7XHJcbiAgICAgICAgICAgIGlmKGV2ZW50LmtleUNvZGUgPT0gMTMpe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jb250YWRvcisrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuY29udGFkb3IgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KHplcmFyQ29udGFkb3IsIDIwMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoc2VsZi5jb250YWRvciA+IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlKGNoYXRtc2cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgfVxyXG5cclxufSkoKTtcclxuXHJcblxyXG5cclxuLypcclxudmFyIHNlbGYgPSB0aGlzO1xyXG5zZWxmLm5ld21zZyA9IFwiXCI7XHJcbnNlbGYubWVzc2FnZXMgPSBbXTtcclxuc2VsZi5yZXBsYXkgPSBmYWxzZTtcclxuc2VsZi5uaWNrbmFtZSA9IFwiXCI7XHJcbnNlbGYudXNlckxpc3QgPSBbXTtcclxuc2VsZi5pbml0SGlzdG9yeUNoYXQgPSBpbml0SGlzdG9yeUNoYXQ7XHJcbnNlbGYuY2xvc2UgPSBjbG9zZTtcclxuc2VsZi5zaG93UmVwbGF5ID0gc2hvd1JlcGxheTtcclxuc2VsZi5zZW5kTWVzc2FnZSA9IHNlbmRNZXNzYWdlO1xyXG5cclxuZnVuY3Rpb24gY2xvc2UoKSB7XHJcbiAgICAkbWRTaWRlbmF2KCdjaGF0JykuY2xvc2UoKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJGxvZy5kZWJ1ZyhcImNsb3NlIGNoYXRcIik7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRIaXN0b3J5Q2hhdCgpe1xyXG4gICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgIHNlbGYubmlja25hbWUgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpO1xyXG4gICAgc2VsZi5waG90byA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bob3RvJyk7XHJcbiAgICBwcm9ibGVtU2VydmljZS5nZXRoaXN0b3J5Y2hhdChzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmhpc3RvcnljaGF0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBEYXRlKGRhdGEuaGlzdG9yeWNoYXRbaV0udGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1zbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmlja25hbWU6IGRhdGEuaGlzdG9yeWNoYXRbaV0ubmlja25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogZGF0YS5oaXN0b3J5Y2hhdFtpXS5tc2csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IHRtcC5nZXREYXRlKCkgKyBcIi9cIiArICh0bXAuZ2V0TW9udGgoKSArIDEgKSsgXCIvXCIgKyB0bXAuZ2V0RnVsbFllYXIoKSArIFwiIFtcIiArIHRtcC5nZXRIb3VycygpICsgXCI6XCIgKyB0bXAuZ2V0TWludXRlcygpICsgXCJdIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2gobXNuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgU29ja2V0LmVtaXQoJ2NoZWNrVXNlcnMnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd1JlcGxheSgpe1xyXG4gICAgaWYoc2VsZi5yZXBsYXkpe1xyXG4gICAgICAgIHNlbGYucmVwbGF5ID0gZmFsc2U7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBzZWxmLnJlcGxheSA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcblNvY2tldC5vbignb25Ccm9hZGNhc3RDaGF0JywgZnVuY3Rpb24gKG9iaikge1xyXG4gICAgdmFyIHRtcCA9IG5ldyBEYXRlKG9ialtvYmoubGVuZ3RoIC0xXS50aW1lKTtcclxuICAgIHNlbGYubWVzc2FnZXMucHVzaCh7XHJcbiAgICAgICAgbmlja25hbWU6IG9ialtvYmoubGVuZ3RoIC0xXS5uaWNrbmFtZSxcclxuICAgICAgICBtc2c6IG9ialtvYmoubGVuZ3RoIC0xXS5tc2csXHJcbiAgICAgICAgdGltZTogdG1wLmdldERhdGUoKSArIFwiL1wiICsgKHRtcC5nZXRNb250aCgpICsgMSkgKyBcIi9cIiArIHRtcC5nZXRGdWxsWWVhcigpICsgXCIgW1wiICsgdG1wLmdldEhvdXJzKCkgKyBcIjpcIiArIHRtcC5nZXRNaW51dGVzKCkgKyBcIl0gXCJcclxuICAgIH0pO1xyXG59KTtcclxuXHJcblNvY2tldC5vbignb25DaGVja1VzZXJzJywgZnVuY3Rpb24gKHVzZXJMaXN0KSB7XHJcbiAgICBzZWxmLnVzZXJMaXN0ID0gdXNlckxpc3Q7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gc2VuZE1lc3NhZ2UoY2hhdG1zZyl7XHJcbiAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0Q2hhdCcsIGNoYXRtc2cpO1xyXG4gICAgc2VsZi5uZXdtc2cgPSBcIlwiO1xyXG59Ki9cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyMi8wNy8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignZHNjUmVwb3J0Q29udHJvbGxlcicsZHNjUmVwb3J0Q29udHJvbGxlcik7XHJcblxyXG5mdW5jdGlvbiBkc2NSZXBvcnRDb250cm9sbGVyKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaWRwcm9ibGVtID0gJ2FqZmxhamZsamFsZmphbGpmJztcclxuICAgIHNlbGYuYnVpZFJlcG9ydCA9IGJ1aWRSZXBvcnQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYnVpZFJlcG9ydChlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGh0bWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFJlc3BvcnQnKTtcclxuICAgICAgICB2YXIgcGRmID0gbmV3IGpzUERGKCdsJywncHgnKTtcclxuICAgICAgICBwZGYuYWRkSFRNTChcclxuICAgICAgICAgICAgaHRtbCwgMCwgMCwge1xyXG4gICAgICAgICAgICAgICAgcGFnZXNwbGl0OiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGRpc3Bvc2Upe1xyXG4gICAgICAgICAgICAgICAgcGRmLnNhdmUoJ3Rlc3QucGRmJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2V2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyJyxldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlcik7XHJcblxyXG4gIGZ1bmN0aW9uIGV2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyICgkd2luZG93LHByb2JsZW1TZXJ2aWNlLFNvY2tldCx0b2FzdEFwcCl7XHJcblxyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHNlbGYuZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QgPVtdO1xyXG4gICAgICBzZWxmLmluaXRFdmFsdWF0aW9uID0gaW5pdEV2YWx1YXRpb247XHJcbiAgICAgIHNlbGYuc2V0T3BlbkVkaXREaXNjdXRpb24gPSBzZXRPcGVuRWRpdERpc2N1dGlvbjtcclxuICAgICAgc2VsZi5zYXZlRnJhbWUgPSBzYXZlRnJhbWU7XHJcblxyXG4gICAgICBmdW5jdGlvbiBpbml0RXZhbHVhdGlvbigpe1xyXG4gICAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0ZXZhbHVhdGlvbihzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi5ldmFsdWF0aW9uZnJhbWV3b3JrTGlzdCA9IGRhdGEuZXZhbHVhdGlvbmZyYW1ld29yaztcclxuICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0RnJhbWVFZGl0JywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLmV2YWx1YXRpb25mcmFtZXdvcmtMaXN0LGZ1bmN0aW9uKGV2YWx1YXRpb25mcmFtZXdvcmspe1xyXG4gICAgICAgICAgICAgaWYoIGV2YWx1YXRpb25mcmFtZXdvcmsub25pb25sYXllciA9PSBkYXRhLm9uaW9ubGF5ZXIpe1xyXG4gICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChldmFsdWF0aW9uZnJhbWV3b3JrLnN0YWtlaG9sZGVycyxmdW5jdGlvbihzdGFrZWhvbGRlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFrZWhvbGRlci5faWQgPT0gZGF0YS5faWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIubmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9uaW9ubGF5ZXIgPSBkYXRhLm9uaW9ubGF5ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGRhdGEub3BlbkVkaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5wcm9ibGVtcyA9IGRhdGEucHJvYmxlbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5zb2x1dGlvbnMgPSBkYXRhLnNvbHV0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gc2F2ZUZyYW1lKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0RnJhbWVTYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBTb2NrZXQub24oJ29uVXBkYXRlU3Rha2Vob2xkZXInLCBmdW5jdGlvbiAoc3Rha2Vob2xkZXJPbmlvbikge1xyXG5cclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gc2V0T3BlbkVkaXREaXNjdXRpb24oY3VycmVudFN0YWtlaG9sZGVyKXtcclxuICAgICAgICAgIGN1cnJlbnRTdGFrZWhvbGRlci5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignbWVudVByb2JsZW1Db250cm9sbGVyJywgbWVudVByb2JsZW1hQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gbWVudVByb2JsZW1hQ29udHJvbGxlcihBdXRoLCAkbWREaWFsb2csICRzY29wZSwgJGZpbHRlciwgJHN0YXRlLCAkd2luZG93LCBwcm9ibGVtU2VydmljZSx0b2FzdEFwcCwgU29ja2V0KXtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIC8vc2VsZi5vcGVuQ2hhdCA9IGJ1aWxkVG9nZ2xlcignY2hhdCcpO1xyXG4gICAgICAgIHNlbGYuZm9ybUFkZENvbGxhYm9yYXRvcnMgPSBmb3JtQWRkQ29sbGFib3JhdG9ycztcclxuICAgICAgICBzZWxmLmVkaXREZXNjcmlwdGlvblByb2JsZW0gPSBlZGl0RGVzY3JpcHRpb25Qcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZG9Mb2dvdXQgPSBkb0xvZ291dDtcclxuICAgICAgICBzZWxmLnN5c3RlbVJldHVybiA9IHN5c3RlbVJldHVybjtcclxuICAgICAgICBzZWxmLmZvcm1Qcm9ibGVtUmVwb3J0ID0gZm9ybVByb2JsZW1SZXBvcnQ7XHJcbiAgICAgICAgc2VsZi5nZXRDdXJyZW50UHJvYmxlbSA9IGdldEN1cnJlbnRQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYubmlja25hbWU7XHJcbiAgICAgICAgc2VsZi5kc2NfYXJ0aWZhY3RzID0gW107XHJcbiAgICAgICAgc2VsZi5mb3JtRWRpdFByb2JsZW0gPSBmb3JtRWRpdFByb2JsZW07XHJcbiAgICAgICAgc2VsZi5mb3JtSW52aXRlQ29sbGFib3JhdG9yID0gZm9ybUludml0ZUNvbGxhYm9yYXRvcjtcclxuICAgICAgICB2YXIgbG9jYWxjb2RlID0gJyc7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLypFZGl0IFByb2JsZW0qL1xyXG5cclxuICAgICAgICBTb2NrZXQub24oJ29uQXR1YWxpemFyUHJvYmxlbWEnLCBmdW5jdGlvbiAocmV0b3Jubykge1xyXG4gICAgICAgICAgICBpZihsb2NhbGNvZGUgIT09IHJldG9ybm8ubG9jYWxjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBzZXREZXNjcml0aW9uKHJldG9ybm8uZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmVQcm9ibGVtKHByb2JsZW0pe1xyXG4gICAgICAgICAgICBwcm9ibGVtLmxvY2FsY29kZSA9IGxvY2FsY29kZTtcclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2F0dWFsaXphclByb2JsZW1hJywgcHJvYmxlbSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmb3JtRWRpdFByb2JsZW0oZXYpIHtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogRGlhbG9nRWRpdFByb2JsZW1Db250cm9sbGVyLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9ibGVtZGVzY3JpcHRpb24uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIERpYWxvZ0VkaXRQcm9ibGVtQ29udHJvbGxlcigkdGltZW91dCwkc2NvcGUsJG1kRGlhbG9nKSB7XHJcbiAgICAgICAgICAgIHZhciB1cGRhdGVUcnVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgJHNjb3BlLnByb2JsZW07XHJcbiAgICAgICAgICAgICRzY29wZS5wcm9ibGVtVXBkYXRlID0gcHJvYmxlbVVwZGF0ZTtcclxuICAgICAgICAgICAgJHNjb3BlLmdldFByb2JsZW1FZGl0ID0gZ2V0UHJvYmxlbUVkaXQ7XHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRGVzY3JpcHRpb24gPSBzYXZlRGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICRzY29wZS5uaWNrbmFtZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmhpZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRQcm9ibGVtRWRpdCgpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHByb2JsZW0oc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9ibGVtID0gZGF0YS5wcm9ibGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0VXBkYXRlKCl7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVUcnVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcHJvYmxlbVVwZGF0ZShkZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2JsZW0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3VwZGF0ZSc6IHVwZGF0ZVRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNhdmVQcm9ibGVtKHByb2JsZW0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZVRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVUcnVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoc2V0VXBkYXRlLCAyMDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2F2ZURlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvYmxlbSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAndXBkYXRlJzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIHNhdmVQcm9ibGVtKHByb2JsZW0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0RGVzY3JpdGlvbihwcm9ibGVtKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wcm9ibGVtID0gcHJvYmxlbTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gLyogQ29udmlkYXIgUGFydGljaXBhbnRlcyAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGZvcm1JbnZpdGVDb2xsYWJvcmF0b3IoZXYpIHtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogRGlhbG9nSW52aXRlQ29sbGFib3JhdG9yQ29udHJvbGxlcixcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvY29sbGFib3JhdG9ycy5odG1sJyxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gRGlhbG9nSW52aXRlQ29sbGFib3JhdG9yQ29udHJvbGxlcigkc2NvcGUsJG1kRGlhbG9nKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5pZFByb2JsZW0gPSBcIlwiO1xyXG4gICAgICAgICAgICAkc2NvcGUuY29sbGFib3JhdG9ycyA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlcmVtYWlsID0gXCJcIjtcclxuICAgICAgICAgICAgJHNjb3BlLmluaXRDb2xsYWJvcmF0b3JzID0gaW5pdENvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgICAgICRzY29wZS5hZGRDb2xsYWJvcmF0b3IgPSBhZGRDb2xsYWJvcmF0b3I7XHJcbiAgICAgICAgICAgICRzY29wZS5yZW1vdmVDb2xsYWJvcmF0b3IgPSByZW1vdmVDb2xsYWJvcmF0b3I7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydERlbGV0ZUNvbGxhYm9yYXRvciA9IGFsZXJ0RGVsZXRlQ29sbGFib3JhdG9yO1xyXG4gICAgICAgICAgICAkc2NvcGUuZW1haWwgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmhpZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXRDb2xsYWJvcmF0b3JzKCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXNlcmVtYWlsID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmVtYWlsJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0Y29sbGFib3JhdG9ycygkc2NvcGUuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29sbGFib3JhdG9ycyA9IGRhdGEuY29sbGFib3JhdG9ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vU29ja2V0LmVtaXQoJ2NoZWNrVXNlcnMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZWFyY2hDYWxsYWJvcmF0aW9uKGVtYWlsKXtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCAkc2NvcGUuY29sbGFib3JhdG9ycy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZW1haWwgPT0gJHNjb3BlLmNvbGxhYm9yYXRvcnNbaV0uZW1haWwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZENvbGxhYm9yYXRvcihlbWFpbCl7XHJcbiAgICAgICAgICAgICAgICBpZigkc2NvcGUudXNlcmVtYWlsID09IGVtYWlsKXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJHNjb3BlLnVzZXJlbWFpbCArIFwiIGlzIGVtYWlsIG9mIG93bmVyLlwiKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoQ2FsbGFib3JhdGlvbihlbWFpbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiVXN1YXJpbyBDYWRhc3RyYWRvLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW52aXRlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRwcm9ibGVtOiAkc2NvcGUuaWRQcm9ibGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmludml0ZShpbnZpdGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbGxhYm9yYXRvcnMgPSBkYXRhLmNvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5lbWFpbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYWxlcnREZWxldGVDb2xsYWJvcmF0b3IoY29sbGFib3JhdG9yKXtcclxuICAgICAgICAgICAgICAgICBjb2xsYWJvcmF0b3IuaXNEZWxldGVkID0gIWNvbGxhYm9yYXRvci5pc0RlbGV0ZWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNvbGxhYm9yYXRvcihjb2xsYWJvcmF0b3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgY29sbGFib3JhdG9yLmlkcHJvYmxlbSA9ICRzY29wZS5pZFByb2JsZW07XHJcbiAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5yZW1vdmVjb2xsYWJvcmF0b3JzKGNvbGxhYm9yYXRvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbGxhYm9yYXRvcnMgPSBkYXRhLmNvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzRGVsZXRlQ29sbGFib3JhdG9yID0gISRzY29wZS5pc0RlbGV0ZUNvbGxhYm9yYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJDb2xhYm9yYWRvciBcIiArIGNvbGxhYm9yYXRvci5uaWNrbmFtZSArIFwiIGZvaSByZW1vdmlkbyBkbyBwcm9qZXRvLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4vKk1lbnUgQ29udHJvbCovXHJcbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50UHJvYmxlbSgpe1xyXG4gICAgICAgICAgICBzZWxmLm5pY2tuYW1lID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlja25hbWUnKTtcclxuICAgICAgICAgICAgc2VsZi5pZFByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICAgICAgbG9jYWxjb2RlID0gICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsY29kZScpO1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRwcm9ibGVtKHNlbGYuaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW0gPSBkYXRhLnByb2JsZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhLnByb2JsZW0uYXJ0aWZhY3RzLCBmdW5jdGlvbiAoYXJ0aWZhY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gYXJ0aWZhY3Quc3BsaXQoXCJfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kc2NfYXJ0aWZhY3RzLnB1c2goe25hbWU6IFwicHJvYmxlbS5cIiArIG5hbWVbMl0udG9Mb3dlckNhc2UoKSwgbGFiZWw6ICRmaWx0ZXIoJ3RyYW5zbGF0ZScpKGFydGlmYWN0KX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zZWxmLmRzY19hcnRpZmFjdHMgPSBkc2NfYXJ0aWZhY3RzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB2YXIgaW5pdHNvY2tldHByb2JsZW0gPSB7XHJcbiAgICAgICAgICAgIFwiaWRwcm9ibGVtXCI6c2VsZi5pZFByb2JsZW0sXHJcbiAgICAgICAgICAgICBcIm5pY2tuYW1lXCI6IHNlbGYubmlja25hbWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdpbml0UHJvYmxlbScsIGluaXRzb2NrZXRwcm9ibGVtKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgICAgICBzZWxmLnNlbGVjdGVkSW5kZXggPSAwO1xyXG4gICAgICAgIHZhciBzZWxlY3RlZCA9IG51bGwsXHJcbiAgICAgICAgICAgIHByZXZpb3VzID0gbnVsbDtcclxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdzZWxlY3RlZEluZGV4JywgZnVuY3Rpb24oY3VycmVudCl7XHJcbiAgICAgICAgICAgIHByZXZpb3VzID0gc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkID0gIHNlbGYuZHNjX2FydGlmYWN0c1tjdXJyZW50XTtcclxuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZEluZGV4ID0gY3VycmVudDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3lzdGVtUmV0dXJuKCl7XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdkaXNjb25uZWN0UHJvYmxlbScsIHNlbGYubmlja25hbWUpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3N0YXJ0cHJvYmxlbScpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZvcm1BZGRDb2xsYWJvcmF0b3JzKCl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5jb2xsYWJvcmF0b3JzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmb3JtUHJvYmxlbVJlcG9ydCgpe1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2RzY3JlcG9ydCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZWRpdERlc2NyaXB0aW9uUHJvYmxlbSgpIHtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLmRlc2NyaXB0aW9uJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkb0xvZ291dCgpIHtcclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Rpc2Nvbm5lY3RQcm9ibGVtJywgc2VsZi5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgIEF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI5LzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuOyhmdW5jdGlvbih1bmRlZmluZWQpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdvbmlvbjNMYXllckNvbnRyb2xsZXInLG9uaW9uM0xheWVyQ29udHJvbGxlcik7XHJcblxyXG5cclxuZnVuY3Rpb24gb25pb24zTGF5ZXJDb250cm9sbGVyKFNvY2tldCwkd2luZG93LHByb2JsZW1TZXJ2aWNlLCRtZERpYWxvZyx0b2FzdEFwcCl7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pZHByb2JsZW0gPSBcIlwiO1xyXG4gICAgc2VsZi5pbml0T25pb24zTGF5ZXIgPSBpbml0T25pb24zTGF5ZXI7XHJcbiAgICBzZWxmLm1vdmUgPSBmYWxzZTtcclxuICAgIHNlbGYub25pb24zTGF5ZXJMaXN0ID0gW107XHJcbiAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgc2VsZi5zYXZlT25pb24zTGF5ZXIgPSBzYXZlT25pb24zTGF5ZXI7XHJcbiAgICBzZWxmLnNldE9wZW5FZGl0ID0gc2V0T3BlbkVkaXQ7XHJcbiAgICBzZWxmLmRlbFBvc3RJdCA9IGRlbFBvc3RJdDtcclxuICAgIHNlbGYuYWRkUG9zdEl0ID0gYWRkUG9zdEl0O1xyXG4gICAgc2VsZi5hY2VuZGUgPSBhY2VuZGU7XHJcbiAgICBzZWxmLmFwYWdhID0gYXBhZ2E7XHJcbiAgICBzZWxmLmxvY2FsY29kZSA9ICcnO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRPbmlvbjNMYXllcigpe1xyXG4gICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHNlbGYubG9jYWxjb2RlID0gICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsY29kZScpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldG9uaW9uM2xheWVyKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YS5wb3N0aXRzLCBmdW5jdGlvbiAocG9zdGl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RpdC5vcGVuRWRpdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9uaW9uM0xheWVyTGlzdC5wdXNoKHBvc3RpdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uM0xheWVyU2F2ZScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxmLm9uaW9uM0xheWVyTGlzdCwgZnVuY3Rpb24gKHBvc3RpdCkge1xyXG4gICAgICAgICAgICBpZiAocG9zdGl0Ll9pZCA9PSBkYXRhLl9pZCkge1xyXG4gICAgICAgICAgICAgICAgcG9zdGl0LnRpdGxlID0gZGF0YS50aXRsZTtcclxuICAgICAgICAgICAgICAgIHBvc3RpdC5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICBwb3N0aXQub3BlbkVkaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHBvc3RpdC54ID0gZGF0YS54O1xyXG4gICAgICAgICAgICAgICAgcG9zdGl0LnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICBwb3N0aXQuemluZGV4ID0gOTk5OTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVPbmlvbjNMYXllcihwb3N0aXQpIHtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb24zTGF5ZXJTYXZlJywgcG9zdGl0KTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb24zTGF5ZXJFZGl0JywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYub25pb24zTGF5ZXJMaXN0LCBmdW5jdGlvbiAocG9zdGl0KSB7XHJcbiAgICAgICAgICAgIGlmKHBvc3RpdC5faWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBwb3N0aXQub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcG9zdGl0LnppbmRleCA9IDk5OTk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXRPcGVuRWRpdChpZCl7XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uM0xheWVyRWRpdCcsIGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb24zTGF5ZXJSZW1vdmUnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICB2YXIgcG9zdGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0aXRcIiArIHNlbGYub25pb24zTGF5ZXJMaXN0W2lkXS5faWQpO1xyXG4gICAgICAgIHBvc3RpdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHNlbGYub25pb24zTGF5ZXJMaXN0LnNwbGljZShpZCwxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVBvc3RJdChpbmRleCxwb3N0aXQpIHtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb24zTGF5ZXJSZW1vdmUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICBwb3N0aXQ6IHBvc3RpdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZWxQb3N0SXQoZXYsaW5kZXgscG9zdGl0KSB7XHJcbiAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpKVxyXG4gICAgICAgICAgICAudGl0bGUoJ0RldGV0ZSBQb3N0aXQ/JylcclxuICAgICAgICAgICAgLmNvbnRlbnQoJ1RpdGxlOiAnICsgcG9zdGl0LnRpdGxlKVxyXG4gICAgICAgICAgICAuYXJpYUxhYmVsKCdSZW1vdmUgcG9zdGl0JylcclxuICAgICAgICAgICAgLm9rKCdZZXMhJylcclxuICAgICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsJylcclxuICAgICAgICAgICAgLnRhcmdldEV2ZW50KGV2KTtcclxuICAgICAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZW1vdmVQb3N0SXQoaW5kZXgscG9zdGl0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb24zTGF5ZXJNb3ZlJywgZnVuY3Rpb24gKHBvc3RpdCkge1xyXG4gICAgICAgICAgICBpZihzZWxmLmxvY2FsY29kZSAhPT0gcG9zdGl0LmxvY2FsY29kZSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bvc3RpdCcrcG9zdGl0Ll9pZCkuc3R5bGUubGVmdCA9IHBvc3RpdC54O1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bvc3RpdCcrcG9zdGl0Ll9pZCkuc3R5bGUudG9wID0gcG9zdGl0Lnk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb24zTGF5ZXJBZGQnLCBmdW5jdGlvbiAocG9zdGl0KSB7XHJcbiAgICAgICAgcG9zdGl0Lm9wZW5FZGl0ID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLm9uaW9uM0xheWVyTGlzdC5wdXNoKHBvc3RpdCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRQb3N0SXQoZSxjYW1hZGEpIHtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb24zTGF5ZXJBZGQnLCB7XHJcbiAgICAgICAgICAgIGxheWVyOiBjYW1hZGEsXHJcbiAgICAgICAgICAgIHRpdGxlOiAnJyxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxyXG4gICAgICAgICAgICB4OiBlLnBhZ2VYICsgJ3B4JyxcclxuICAgICAgICAgICAgeTogZS5wYWdlWSArICdweCcsXHJcbiAgICAgICAgICAgIHppbmRleDogOTk5OVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFjZW5kZShpZCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOycpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2ZpbGw6I0QxQzRFOTsnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZ2VuZFwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2ZpbGw6I0QxQzRFOTsnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcGFnYShpZCxjb2xvcikge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjogbm9uZTsnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICdmaWxsOiAnK2NvbG9yKyc7Jyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWdlbmRcIitpZCkuc2V0QXR0cmlidXRlKCdzdHlsZScsICdmaWxsOiAnK2NvbG9yKyc7Jyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKHRoaXMpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTIvMDgvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Byb2JsZW1SZXBvcnRDb250cm9sbGVyJyxwcm9ibGVtUmVwb3J0Q29udHJvbGxlcik7XHJcblxyXG5cclxuICAgICBmdW5jdGlvbiBwcm9ibGVtUmVwb3J0Q29udHJvbGxlcigkd2luZG93LHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwLCRzdGF0ZSl7XHJcblxyXG4gICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgIHNlbGYuaWRQcm9ibGVtO1xyXG4gICAgICAgICBzZWxmLnByb2JsZW07XHJcbiAgICAgICAgIHNlbGYuaW5pdFByb2JsZW1QZXBvcnQgPSBpbml0UHJvYmxlbVBlcG9ydDtcclxuICAgICAgICAgc2VsZi5zeXN0ZW1SZXR1cm4gPSBzeXN0ZW1SZXR1cm47XHJcblxyXG4gICAgICAgICBmdW5jdGlvbiBpbml0UHJvYmxlbVBlcG9ydCgpe1xyXG5cclxuICAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcblxyXG4gICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbXJlcG9ydChzZWxmLmlkUHJvYmxlbSlcclxuICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEucHJvYmxlbS5zdGFrZWhvbGRlcnMsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueCA9IChwYXJzZUludChzdGFrZWhvbGRlci54LnN1YnN0cmluZygwLHN0YWtlaG9sZGVyLngubGVuZ3RoIC0yKSkgLSAxMDApKydweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnkgPSAgKHBhcnNlSW50KHN0YWtlaG9sZGVyLnkuc3Vic3RyaW5nKDAsc3Rha2Vob2xkZXIueS5sZW5ndGggLTIpKSArIDQwMCkrJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbSA9IGRhdGEucHJvYmxlbTtcclxuICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgZnVuY3Rpb24gc3lzdGVtUmV0dXJuKCl7XHJcbiAgICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2JsZW0uc3Rha2Vob2xkZXJzJyk7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgfVxyXG5cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdwcm9ibGVtU2VydmljZScsIHByb2JsZW1TZXJ2aWNlKTtcclxuXHJcbiAgcHJvYmxlbVNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCckbG9jYXRpb24nXTtcclxuXHJcbiAgZnVuY3Rpb24gcHJvYmxlbVNlcnZpY2UoJGh0dHAsJGxvY2F0aW9uKSB7XHJcblxyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVMgPSAnL2FwaS9wcm9ibGVtL2dldHByb2JsZW1zJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TQ09MTEFCT1JBVE9SID0gJy9hcGkvcHJvYmxlbS9nZXRwcm9ibGVtc2NvbGxhYm9yYXRvcic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX05FV1BST0JMRU0gPSAnL2FwaS9wcm9ibGVtL25ld3Byb2JsZW0nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRQUk9CTEVNID0gJy9hcGkvcHJvYmxlbS9nZXRwcm9ibGVtJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUUFJPQkxFTVJFUE9SVCA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbXJlcG9ydCc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVENPTExBQk9SQVRPUlMgPSAnL2FwaS9wcm9ibGVtL2dldGNvbGxhYm9yYXRvcnMnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9JTlZJVEUgPSAnL2FwaS9wcm9ibGVtL2ludml0ZSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVE9OSU9OID0gJy9hcGkvcHJvYmxlbS9nZXRvbmlvbic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVEVWQUxVQVRJT04gPSAnL2FwaS9wcm9ibGVtL2dldGV2YWx1YXRpb24nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRTRU1JT1RJQ0ZSQU1FV09SSyA9ICcvYXBpL3Byb2JsZW0vZ2V0c2VtaW90aWMnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRDQVJGID0gJy9hcGkvcHJvYmxlbS9nZXRjYXJmJztcclxuICAgIHZhciBBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSA9ICcvYXBpL3Byb2JsZW0vcmVtb3ZlcHJvYmxlbSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1JFTU9WRUNPTExBQk9SQVRPUiA9ICcvYXBpL3Byb2JsZW0vcmVtb3ZlY29sbGFib3JhdG9yJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQgPSAnL2FwaS9wcm9ibGVtL2hpc3RvcnljaGF0JztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUT05JT04zTEFMWUVSID0gJy9hcGkvcHJvYmxlbS9nZXRvbmlvbjNsYXllcic7XHJcblxyXG4gICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgIG5ld3Byb2JsZW0gICAgICAgOiBuZXdwcm9ibGVtLFxyXG4gICAgICBnZXR1c2VycHJvYmxlbXMgIDogZ2V0dXNlcnByb2JsZW1zLFxyXG4gICAgICBnZXRwcm9ibGVtICAgICAgIDogZ2V0cHJvYmxlbSxcclxuICAgICAgZ2V0Y29sbGFib3JhdG9ycyA6IGdldGNvbGxhYm9yYXRvcnMsXHJcbiAgICAgIGludml0ZSAgICAgICAgICAgOiBpbnZpdGUsXHJcbiAgICAgIGdldG9uaW9uICAgICAgICAgOiBnZXRvbmlvbixcclxuICAgICAgZ2V0ZXZhbHVhdGlvbiAgICA6IGdldGV2YWx1YXRpb24sXHJcbiAgICAgIGdldHNlbWlvdGljICAgICAgOiBnZXRzZW1pb3RpYyxcclxuICAgICAgZ2V0Y2FyZiAgICAgICAgICA6IGdldGNhcmYsXHJcbiAgICAgIHJlbW92ZXByb2JsZW0gICAgOiByZW1vdmVwcm9ibGVtLFxyXG4gICAgICBnZXRwcm9ibGVtc2NvbGxhYm9yYXRvcjogZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3IsXHJcbiAgICAgIHJlbW92ZWNvbGxhYm9yYXRvcnMgOiByZW1vdmVjb2xsYWJvcmF0b3JzLFxyXG4gICAgICBnZXRoaXN0b3J5Y2hhdDogZ2V0aGlzdG9yeWNoYXQsXHJcbiAgICAgIGdldHByb2JsZW1yZXBvcnQgOiBnZXRwcm9ibGVtcmVwb3J0LFxyXG4gICAgICBnZXRvbmlvbjNsYXllciA6IGdldG9uaW9uM2xheWVyXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBzZXJ2aWNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIG5ld3Byb2JsZW0oZGF0YSkge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9ORVdQUk9CTEVNLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRwcm9ibGVtcmVwb3J0KGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRQUk9CTEVNUkVQT1JUICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRwcm9ibGVtKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRQUk9CTEVNICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXR1c2VycHJvYmxlbXMoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNUyArICc/ZW1haWw9JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRjb2xsYWJvcmF0b3JzKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRDT0xMQUJPUkFUT1JTICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbnZpdGUoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9JTlZJVEUsIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRvbmlvbihkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUT05JT04gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldG9uaW9uM2xheWVyIChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUT05JT04zTEFMWUVSICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRldmFsdWF0aW9uIChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VURVZBTFVBVElPTiArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0c2VtaW90aWMgKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRTRU1JT1RJQ0ZSQU1FV09SSyArICc/aWRwcm9ibGVtPScgKyBkYXRhIClcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRjYXJmKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRDQVJGICsgJz9pZHByb2JsZW09JyArIGRhdGEgKVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZXByb2JsZW0oZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX1JFTU9WRVBST0JMRU0gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldHByb2JsZW1zY29sbGFib3JhdG9yKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVNDT0xMQUJPUkFUT1IgKyAnP2VtYWlsPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlY29sbGFib3JhdG9ycyhkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfUkVNT1ZFQ09MTEFCT1JBVE9SICsgJz9pZHByb2JsZW09JyArIGRhdGEuaWRwcm9ibGVtICsgJyZlbWFpbD0nICsgZGF0YS5lbWFpbCApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldGhpc3RvcnljaGF0KGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRISVNUT1JZQ0hBVCArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXInLHNlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlcik7XHJcblxyXG5mdW5jdGlvbiBzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIoU29ja2V0LCR3aW5kb3csIHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwKXtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmlkcHJvYmxlbSA9IFwiXCI7XHJcbiAgICBzZWxmLnNhdmVTb2NpYWxXb3JsZCA9IHNhdmVTb2NpYWxXb3JsZDtcclxuICAgIHNlbGYuc2F2ZVByYWdtYXRpYyA9IHNhdmVQcmFnbWF0aWM7XHJcbiAgICBzZWxmLnNhdmVTZW1hbnRpYyA9IHNhdmVTZW1hbnRpYztcclxuICAgIHNlbGYuc2F2ZVN5bnRhdGljID0gc2F2ZVN5bnRhdGljO1xyXG4gICAgc2VsZi5zYXZlRW1waXJpY2FsID0gc2F2ZUVtcGlyaWNhbDtcclxuICAgIHNlbGYuc2F2ZVBoeXNpY2FsID0gc2F2ZVBoeXNpY2FsO1xyXG4gICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yayA9IFwiXCI7XHJcbiAgICBzZWxmLmluaXRTZW1pb3RpY0ZyYW1ld29yayA9IGluaXRTZW1pb3RpY0ZyYW1ld29yaztcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0U2VtaW90aWNGcmFtZXdvcmsoKXtcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHNlbWlvdGljKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbWlvdGljZnJhbWV3b3JrID0gZGF0YS5zZW1pb3RpY2ZyYW1ld29yaztcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlU29jaWFsV29ybGQnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuc29jaWFsd29ybGQgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVNvY2lhbFdvcmxkKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVTb2NpYWxXb3JsZCcsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZVByYWdtYXRpYycsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5wcmFnbWF0aWMgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVByYWdtYXRpYyh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlUHJhZ21hdGljJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlU2VtYW50aWMnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuc2VtaW90aWNyYW1ld29yayA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlU2VtYW50aWModGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVNlbWFudGljJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlU3ludGF0aWMnLCBmdW5jdGlvbiAodGV4dCxmbGFnU2F2ZSkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsuc3ludGF0aWMgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVN5bnRhdGljKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVTeW50YXRpYycsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvblVwZGF0ZUVtcGlyaWNhbCcsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgc2VsZi5zZW1pb3RpY2ZyYW1ld29yay5lbXBpcmljYWwgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZUVtcGlyaWNhbCh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlRW1waXJpY2FsJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlUGh5c2ljYWwnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHNlbGYuc2VtaW90aWNmcmFtZXdvcmsucGh5c2ljYWwgPSB0ZXh0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVBoeXNpY2FsKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVQaHlzaWNhbCcsIG9iaik7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbjsoZnVuY3Rpb24odW5kZWZpbmVkKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignc3Rha2Vob2xkZXJDb250cm9sbGVyJyxzdGFrZWhvbGRlckNvbnRyb2xsZXIpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHN0YWtlaG9sZGVyQ29udHJvbGxlcihTb2NrZXQsJHdpbmRvdyxwcm9ibGVtU2VydmljZSwkbWREaWFsb2csdG9hc3RBcHApe1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaWRwcm9ibGVtID0gXCJcIjtcclxuICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0ID0gW107XHJcbiAgICBzZWxmLnN0YWtlaG9sZGVyID0gXCJcIjtcclxuICAgIHNlbGYuaW50aXRPbmlvbiA9IGludGl0T25pb247XHJcbiAgICBzZWxmLm1vdmUgPSBmYWxzZTtcclxuICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgIHNlbGYuc2F2ZVN0YWtlaG9sZGVyID0gc2F2ZVN0YWtlaG9sZGVyO1xyXG4gICAgc2VsZi5zZXRPcGVuRWRpdCA9IHNldE9wZW5FZGl0O1xyXG4gICAgc2VsZi5kZWxQb3N0SXQgPSBkZWxQb3N0SXQ7XHJcbiAgICBzZWxmLmFkZFBvc3RJdCA9IGFkZFBvc3RJdDtcclxuICAgIHNlbGYuYWNlbmRlID0gYWNlbmRlO1xyXG4gICAgc2VsZi5hcGFnYSA9IGFwYWdhO1xyXG4gICAgc2VsZi5sb2NhbGNvZGUgPSAnJztcclxuXHJcbiAgICBmdW5jdGlvbiBpbnRpdE9uaW9uKCl7XHJcbiAgICAgICAgc2VsZi5pZHByb2JsZW0gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9ibGVtaWQnKTtcclxuICAgICAgICBzZWxmLmxvY2FsY29kZSA9ICAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbGNvZGUnKTtcclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRvbmlvbihzZWxmLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBkYXRhLnN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5zdGFrZWhvbGRlckxpc3QsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICBpZiAoc3Rha2Vob2xkZXIuX2lkID09IGRhdGEuX2lkKXtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnN0YWtlaG9sZGVyID0gZGF0YS5zdGFrZWhvbGRlcjtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGRhdGEub3BlbkVkaXQ7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci54ID0gZGF0YS54O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnppbmRleCA9IDk5OTk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlU3Rha2Vob2xkZXIoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25TYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbkVkaXQnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5zdGFrZWhvbGRlckxpc3QsIGZ1bmN0aW9uIChzdGFrZWhvbGRlcikge1xyXG4gICAgICAgICAgICBpZihzdGFrZWhvbGRlci5faWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci56aW5kZXggPSA5OTk5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0T3BlbkVkaXQoaWQpe1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvbkVkaXQnLCBpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uUmVtb3ZlJywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgdmFyIHN0YWtlaG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGFrZWhvbGRlclwiICtzZWxmLnN0YWtlaG9sZGVyTGlzdFtpZF0uX2lkKTtcclxuICAgICAgICBzdGFrZWhvbGRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0LnNwbGljZShpZCwxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVBvc3RJdChpbmRleCxzdGFrZWhvbGRlcikge1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXI6IHN0YWtlaG9sZGVyXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25SZW1vdmUnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlbFBvc3RJdChldixpbmRleCxzdGFrZWhvbGRlcikge1xyXG4gICAgICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgICAucGFyZW50KGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSlcclxuICAgICAgICAgICAgLnRpdGxlKCdEZXRldGUgU3Rha2Vob2xkZXI/JylcclxuICAgICAgICAgICAgLmNvbnRlbnQoJ1RpdGxlOiAnICsgc3Rha2Vob2xkZXIubmFtZSlcclxuICAgICAgICAgICAgLmFyaWFMYWJlbCgnUmVtb3ZlIFN0YWtlaG9sZGVyJylcclxuICAgICAgICAgICAgLm9rKCdZZXMhJylcclxuICAgICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsJylcclxuICAgICAgICAgICAgLnRhcmdldEV2ZW50KGV2KTtcclxuICAgICAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZW1vdmVQb3N0SXQoaW5kZXgsc3Rha2Vob2xkZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RNb3ZlJywgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmKHNlbGYubG9jYWxjb2RlICE9PSBzdGFrZWhvbGRlci5sb2NhbGNvZGUpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFrZWhvbGRlcicrc3Rha2Vob2xkZXIuX2lkKS5zdHlsZS5sZWZ0ID0gc3Rha2Vob2xkZXIueDtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFrZWhvbGRlcicrc3Rha2Vob2xkZXIuX2lkKS5zdHlsZS50b3AgPSBzdGFrZWhvbGRlci55O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uQWRkJywgZnVuY3Rpb24gKHJldG9ybm8pIHtcclxuICAgICAgICBzZWxmLnN0YWtlaG9sZGVyTGlzdC5wdXNoKHJldG9ybm8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUG9zdEl0KGUsY2FtYWRhKSB7XHJcbiAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25BZGQnLFxyXG4gICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgXCJvbmlvbmxheWVyXCI6IGNhbWFkYSxcclxuICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcclxuICAgICAgICAgICAgICAgXCJvcGVuRWRpdFwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICBcInhcIjogZS5wYWdlWCArICdweCcsXHJcbiAgICAgICAgICAgICAgIFwieVwiOiBlLnBhZ2VZICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgXCJ6aW5kZXhcIjogOTk5OVxyXG4gICAgICAgICAgIH1cclxuICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWNlbmRlKGlkKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYW1lXCIraWQpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAndGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7Jyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWdlbmRcIitpZCkuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLCBcIjAuN1wiKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLCBcIjAuN1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcGFnYShpZCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiK2lkKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjogbm9uZTsnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZ2VuZFwiK2lkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMS4wXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsIFwiMS4wXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG59KSh0aGlzKTsiLCJcclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdzdGFydFByb2JsZW1Db250cm9sbGVyJyxzdGFydFByb2JsZW1Db250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzdGFydFByb2JsZW1Db250cm9sbGVyKCRtZERpYWxvZywkc3RhdGUsQXV0aCxTb2NrZXQsICR3aW5kb3csIHByb2JsZW1TZXJ2aWNlLHRvYXN0QXBwICkge1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5uaWNrbmFtZSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi51c2VyaWQgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYudXNlcmVtYWlsID0gXCJcIjtcclxuICAgICAgICBzZWxmLnByb2JsZW1MaXN0ID0gW107XHJcbiAgICAgICAgc2VsZi5wcm9ibGVtQ29sbGFib3JhdG9yTGlzdCA9IFtdO1xyXG4gICAgICAgIHNlbGYubG9naW5JblByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLmdldFByb2JsZW1zID0gZ2V0UHJvYmxlbXM7XHJcbiAgICAgICAgc2VsZi5yZXZvbXZlUHJvYmxlbSA9IHJldm9tdmVQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuc3RhcnROZXdQcm9ibGVtID0gc3RhcnROZXdQcm9ibGVtO1xyXG4gICAgICAgIHNlbGYuZWRpdFByb2JsZW0gPSBlZGl0UHJvYmxlbTtcclxuICAgICAgICBzZWxmLmRvTG9nb3V0ID0gZG9Mb2dvdXQ7XHJcbiAgICAgICAgc2VsZi5uZXdQcm9ibGVtID0gbmV3UHJvYmxlbTtcclxuICAgICAgICBzZWxmLmVkaXRQcm9maWxlID0gZWRpdFByb2ZpbGU7XHJcbiAgICAgICAgc2VsZi5waG90bztcclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFByb2JsZW1zKCl7XHJcbiAgICAgICAgICAgIHNlbGYudXNlcmlkID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmlkJyk7XHJcbiAgICAgICAgICAgIHNlbGYubmlja25hbWUgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpO1xyXG4gICAgICAgICAgICBzZWxmLnVzZXJlbWFpbCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJlbWFpbCcpO1xyXG4gICAgICAgICAgICBzZWxmLnBob3RvID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGhvdG8nKTtcclxuXHJcblxyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXR1c2VycHJvYmxlbXMoc2VsZi51c2VyZW1haWwpXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgZGF0YS5wcm9ibGVtcy5sZW5ndGg7IGkrKyApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5sZW5ndGggPiAzMDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvYmxlbXNbaV0uZGVzY3JpcHRpb24gPSBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLFwiXCIpLnN1YnN0cmluZygwLDI4MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uID0gZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZyxcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2JsZW1MaXN0ID0gZGF0YS5wcm9ibGVtcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3Ioc2VsZi51c2VyZW1haWwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgZGF0YS5wcm9ibGVtcy5sZW5ndGg7IGkrKyApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uLmxlbmd0aCA+IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uID0gZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZywgXCJcIikuc3Vic3RyaW5nKDAsIDI4MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uID0gZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbUNvbGxhYm9yYXRvckxpc3QgPSBkYXRhLnByb2JsZW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmxvZ2luSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlUHJvYmxlbShwcm9ibGVtaWQpe1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5yZW1vdmVwcm9ibGVtKHByb2JsZW1pZClcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBzZWxmLnByb2JsZW1MaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGYucHJvYmxlbUxpc3RbaV0uX2lkID09IHByb2JsZW1pZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ibGVtTGlzdC5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJldm9tdmVQcm9ibGVtKGV2LHByb2JsZW0pIHtcclxuICAgICAgICAgICAgLy8gQXBwZW5kaW5nIGRpYWxvZyB0byBkb2N1bWVudC5ib2R5IHRvIGNvdmVyIHNpZGVuYXYgaW4gZG9jcyBhcHBcclxuICAgICAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgICAgICAucGFyZW50KGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSlcclxuICAgICAgICAgICAgICAgIC50aXRsZSgnRGV0ZXRlIFByb2JsZW0/JylcclxuICAgICAgICAgICAgICAgIC5jb250ZW50KCdUaXRsZTogJyArIHByb2JsZW0udGl0bGUpXHJcbiAgICAgICAgICAgICAgICAuYXJpYUxhYmVsKCdSZW1vdmUgUHJvYmxlbScpXHJcbiAgICAgICAgICAgICAgICAub2soJ0Rlc2VqbyByZW1vdmVyIScpXHJcbiAgICAgICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWwnKVxyXG4gICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KGV2KTtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZVByb2JsZW0ocHJvYmxlbS5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0TmV3UHJvYmxlbShuZXdwcm9ibGVtKXtcclxuICAgICAgICAgICAgbmV3cHJvYmxlbS51c2VyaWQgPSBzZWxmLnVzZXJpZDtcclxuXHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLm5ld3Byb2JsZW0obmV3cHJvYmxlbSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lZGl0UHJvYmxlbShkYXRhLnByb2JsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBlZGl0UHJvYmxlbShwcm9ibGVtKSB7XHJcbiAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9ibGVtaWRcIixwcm9ibGVtLl9pZCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5zdGFrZWhvbGRlcnMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRvTG9nb3V0KCkge1xyXG4gICAgICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZWRpdFByb2ZpbGUoKSB7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygncHJvZmlsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbmV3UHJvYmxlbShldikge1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IERpYWxvZ0NvbnRyb2xsZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9uZXdwcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gRGlhbG9nQ29udHJvbGxlcigkc2NvcGUsICRmaWx0ZXIsICRtZERpYWxvZykge1xyXG4gICAgICAgICAgICAkc2NvcGUuaXRlbXMgPSBbJ0xBQkVMX0FSVElGQUNUX1NUQUtFSE9MREVSUycsXHJcbiAgICAgICAgICAgICAgICAnTEFCRUxfQVJUSUZBQ1RfRVZBTFVBVElPTkZSQU1FV09SSycsXHJcbiAgICAgICAgICAgICAgICAnTEFCRUxfQVJUSUZBQ1RfU0VNSU9USUNGUkFNRVdPUksnLFxyXG4gICAgICAgICAgICAgICAgJ0xBQkVMX0FSVElGQUNUX1ZJRicsXHJcbiAgICAgICAgICAgICAgICAnTEFCRUxfQVJUSUZBQ1RfQ0FSRicsXHJcbiAgICAgICAgICAgICAgICAnTEFCRUxfQVJUSUZBQ1RfT05JT04nXTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZSA9IGZ1bmN0aW9uIChpdGVtLCBsaXN0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IGxpc3QuaW5kZXhPZihpdGVtKTtcclxuICAgICAgICAgICAgICAgIGlmIChpZHggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0gIT09ICdMQUJFTF9BUlRJRkFDVF9TVEFLRUhPTERFUlMnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihsaXN0Lmxlbmd0aCA9PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdMQUJFTF9BUlRJRkFDVF9TVEFLRUhPTERFUlNfTkVDRVNTQVJZJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbSAhPSAnTEFCRUxfQVJUSUZBQ1RfU0VNSU9USUNGUkFNRVdPUksnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gbGlzdC5pbmRleE9mKCdMQUJFTF9BUlRJRkFDVF9TVEFLRUhPTERFUlMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QucHVzaCgnTEFCRUxfQVJUSUZBQ1RfU1RBS0VIT0xERVJTJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmV4aXN0cyA9IGZ1bmN0aW9uIChpdGVtLCBsaXN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdC5pbmRleE9mKGl0ZW0pID4gLTE7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuaXNJbmRldGVybWluYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCRzY29wZS5zZWxlY3RlZC5sZW5ndGggIT09IDAgJiZcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZC5sZW5ndGggIT09ICRzY29wZS5pdGVtcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmlzQ2hlY2tlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5zZWxlY3RlZC5sZW5ndGggPT09ICRzY29wZS5pdGVtcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUudG9nZ2xlQWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNlbGVjdGVkLmxlbmd0aCA9PT0gJHNjb3BlLml0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuc2VsZWN0ZWQubGVuZ3RoID09PSAwIHx8ICRzY29wZS5zZWxlY3RlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLml0ZW1zLnNsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hcnRpZmFjdExpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5oaWRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTmV3UHJvYmxlbSA9IGZ1bmN0aW9uKHByb2JsZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUuc2VsZWN0ZWQubGVuZ3RoIDwgMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZSgkZmlsdGVyKCd0cmFuc2xhdGUnKSgnTEFCRUxfQ0hPSUNFX0FSVElGQUNUUycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwcm9ibGVtLmFydGlmYWN0cyA9ICAkc2NvcGUuc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFydE5ld1Byb2JsZW0ocHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgIH1cclxufSkoKTtcclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjIvMDcvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3ZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXInLCB2YWx1ZUlkZW50aWZpY2F0aW9uRnJhbWVDb250cm9sbGVyKTtcclxuXHJcbmZ1bmN0aW9uIHZhbHVlSWRlbnRpZmljYXRpb25GcmFtZUNvbnRyb2xsZXIoJHdpbmRvdyxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCxTb2NrZXQpe1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgIHNlbGYuaWRQcm9ibGVtID0gXCJcIjtcclxuICAgIHNlbGYudXNlcmVtYWlsID0gXCJcIjtcclxuICAgIHNlbGYubmV3dmFsdWVzID0gXCJcIjtcclxuICAgIHNlbGYuaW5pdFZhbHVlSWRlbnRpZmljYXRpb25GcmFtZSA9IGluaXRWYWx1ZUlkZW50aWZpY2F0aW9uRnJhbWU7XHJcbiAgICBzZWxmLnNldFN1Z2dlc3Rpb25TaG93ID0gc2V0U3VnZ2VzdGlvblNob3c7XHJcbiAgICBzZWxmLmxlYXZlU3VnZ2VzdGlvblNob3cgPSBsZWF2ZVN1Z2dlc3Rpb25TaG93O1xyXG4gICAgc2VsZi5yZW1vdmVWYWx1ZUlkZW50aWNhdGlvbiA9IHJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uO1xyXG4gICAgc2VsZi5zZXRWYWx1ZUlkZW50aWNhdGlvbiA9IHNldFZhbHVlSWRlbnRpY2F0aW9uO1xyXG4gICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXMgPSBcIlwiO1xyXG4gICAgc2VsZi5zdGFrZWhvbGRlckxpc3QgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIkNvbW11bml0eVwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiTWFya2V0XCIsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb25pb25sYXllcjogXCJTb3VyY2VcIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvbmlvbmxheWVyOiBcIkNvbnRyaWJ1dGlvblwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9uaW9ubGF5ZXI6IFwiVGVjaG5pY29cIixcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXJzOiBbXVxyXG4gICAgICAgIH1cclxuICAgIF07XHJcbiAgICBzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5ID0gW1xyXG4gICAgICAgICdBY2Vzc2liaWxpZGFkZScsJ0FkYXB0YWJpbGlkYWRlJywnRXN0w6l0aWNhJywnQXV0b25vbWlhJywgJ0Rpc3BvbmliaWxpZGFkZScsICdDb25zY2nDqm5jaWEnLCAnQ29sYWJvcmHDp8OjbycsXHJcbiAgICAgICAgJ0NvbnZlcnNhw6fDo28nLCAnRW1vw6fDo28gZSBBZmV0bycsICdHcnVwb3MnLCAnSWRlbnRpZGFkZScsICdDb25zZW50aW1lbnRvIGluZm9ybWFkbycsICdNZXRhLWNvbXVuaWNhw6fDo28nLCAnTm9ybWFzJyxcclxuICAgICAgICAnT2JqZXRvJywgJ1BvcnRhYmlsaWRhZGUnLCAnUHJlc2Vuw6dhJywgJ1ByaXZhY2lkYWRlJywgJ1Byb3ByaWVkYWRlJywgJ1JlY2lwcm9jaWRhZGUsIFJlbGFjaW9uYW1lbnRvLCBSZXB1dGHDp8OjbycsXHJcbiAgICAgICAgJ0VzY2FsYWJpbGlkYWRlJywgJ1NlZ3VyYW7Dp2EnLCAnQ29tcGFydGlsaGFtZW50bycsICdDb25maWFuw6dhJywgJ1VzYWJpbGlkYWRlJywgJ1Zpc2liaWxpZGFkZSddO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRWYWx1ZUlkZW50aWZpY2F0aW9uRnJhbWUoKXtcclxuICAgICAgICBzZWxmLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldG9uaW9uKHNlbGYuaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN0YWtlaG9sZGVycy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgayA9IDE7IGsgPCBzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5Lmxlbmd0aDsgaysrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN1Z2VzdGlvblZhbHVlcyArPSBzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5W2tdICsgIFwiLCBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdWdlc3Rpb25WYWx1ZXNbc2VsZi5zdWdlc3Rpb25WYWx1ZXNBcnJheVtzZWxmLnN1Z2VzdGlvblZhbHVlc0FycmF5Lmxlbmd0aC0xXV0gKyAnLic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGF0YS5zdGFrZWhvbGRlcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBzZWxmLnN0YWtlaG9sZGVyTGlzdC5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFrZWhvbGRlciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZCA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uaW9ubGF5ZXIgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5vbmlvbmxheWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzIDogZGF0YS5zdGFrZWhvbGRlcnNbaV0udmFsdWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkVkaXQgOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS5vcGVuRWRpdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggOiBkYXRhLnN0YWtlaG9sZGVyc1tpXS54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA6IGRhdGEuc3Rha2Vob2xkZXJzW2ldLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZXMgOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdGFrZWhvbGRlcnNbaV0ub25pb25sYXllciA9PSBzZWxmLnN0YWtlaG9sZGVyTGlzdFtqXS5vbmlvbmxheWVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3Rha2Vob2xkZXJMaXN0W2pdLnN0YWtlaG9sZGVycy5wdXNoKHN0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uU2F2ZScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYuc3Rha2Vob2xkZXJMaXN0LCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgaWYgKHN0YWtlaG9sZGVyLl9pZCA9PSBkYXRhLl9pZCl7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5zdGFrZWhvbGRlciA9IGRhdGEuc3Rha2Vob2xkZXI7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBkYXRhLm9wZW5FZGl0O1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIueCA9IGRhdGEueDtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5uZXdWYWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0U3VnZ2VzdGlvblNob3coc3Rha2Vob2xkZXIpe1xyXG4gICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsZWF2ZVN1Z2dlc3Rpb25TaG93KHN0YWtlaG9sZGVyKXtcclxuICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVZhbHVlSWRlbnRpY2F0aW9uKHZhbHVlLHN0YWtlaG9sZGVyKXtcclxuICAgICAgICB2YXIgbmV3TGlzdCA9IFtdO1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzdGFrZWhvbGRlci52YWx1ZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZihzdGFrZWhvbGRlci52YWx1ZXNbaV0gIT0gdmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgbmV3TGlzdC5wdXNoKHN0YWtlaG9sZGVyLnZhbHVlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3Rha2Vob2xkZXIudmFsdWVzID0gbmV3TGlzdDtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25TYXZlJywgc3Rha2Vob2xkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFZhbHVlSWRlbnRpY2F0aW9uKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgaWYoKHN0YWtlaG9sZGVyLm5ld1ZhbHVlcyA9PT0gXCJcIikgfHwgKHN0YWtlaG9sZGVyLm5ld1ZhbHVlcyA9PT0gdW5kZWZpbmVkKSl7XHJcbiAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZSgnVmFsb3IgbsOjbyBlc3BlY2lmaWNhZG8uJyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXNMaXN0ID0gc3Rha2Vob2xkZXIubmV3VmFsdWVzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgdmFsdWVzTGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZihmaW5kVmFsdWUoc3Rha2Vob2xkZXIudmFsdWVzLCB2YWx1ZXNMaXN0W2ldKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRHVwbGljYXRlIHZhbHVlOiBcIiArIHZhbHVlc0xpc3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIudmFsdWVzLnB1c2godmFsdWVzTGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3Rha2Vob2xkZXIubmV3VmFsdWVzID0gXCJcIjtcclxuICAgICAgICAgICAgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uU2F2ZScsIHN0YWtlaG9sZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRWYWx1ZShsaXN0LCB2YWx1ZSl7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYodmFsdWUgPT09IGxpc3RbaV0pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI4LzA3LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdwcm9maWxlQ29udHJvbGxlcicscHJvZmlsZUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHByb2ZpbGVDb250cm9sbGVyKFNvY2tldCwgJHdpbmRvdywkc3RhdGUsIHRvYXN0QXBwLCAkc2NvcGUsc2lnbnVwU2VydmljZSl7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuc3RhcnRQcm9maWxlID0gc3RhcnRQcm9maWxlO1xyXG4gICAgICAgIHNlbGYudXBsb2FkSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgc2VsZi51cGxvYWRQcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgc2VsZi51c2VyaWQ7XHJcbiAgICAgICAgc2VsZi5zYXZlUGhvdG8gPSBzYXZlUGhvdG87XHJcbiAgICAgICAgc2VsZi5zeXN0ZW1SZXR1cm4gPSBzeXN0ZW1SZXR1cm47XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN5c3RlbVJldHVybigpe1xyXG4gICAgICAgICAgICBTb2NrZXQuZW1pdCgnZGlzY29ubmVjdFByb2JsZW0nLCAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdzdGFydHByb2JsZW0nKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzZWxmLm15SW1hZ2U9Jyc7XHJcbiAgICAgICAgc2VsZi5teUNyb3BwZWRJbWFnZT0nJztcclxuXHJcbiAgICAgICAgdmFyIGhhbmRsZUZpbGVTZWxlY3QgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICAgdmFyIGZpbGUgPSBldnQuY3VycmVudFRhcmdldC5maWxlc1swXTtcclxuICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm15SW1hZ2UgPSBldnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLGhhbmRsZUZpbGVTZWxlY3QpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzdGFydFByb2ZpbGUoKXtcclxuICAgICAgICAgICAgc2VsZi51c2VyaWQgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmlkXCIpO1xyXG4gICAgICAgICAgICBpZihzZWxmLnVzZXJpZCAhPT0gdW5kZWZpbmVkKXtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZVBob3RvKG15aW1hZ2Upe1xyXG4gICAgICAgICAgICB2YXIgdXNlclBob3RvID17XHJcbiAgICAgICAgICAgICAgICB1c2VyaWQgOiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmlkXCIpLFxyXG4gICAgICAgICAgICAgICAgcGhvdG8gOiBteWltYWdlXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNpZ251cFNlcnZpY2UudXBsb2FkUGhvdG8odXNlclBob3RvKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGhvdG9cIixteWltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiLS0tLS1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3NpZ251cENvbnRyb2xsZXInLCBzaWdudXBDb250cm9sbGVyKTtcclxuICAgIHNpZ251cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHRyYW5zbGF0ZScsJyR3aW5kb3cnLCdzaWdudXBTZXJ2aWNlJywnJHN0YXRlJywndG9hc3RBcHAnLCdBdXRoVG9rZW4nLCdBdXRoJywnJGZpbHRlcicsJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICBmdW5jdGlvbiBzaWdudXBDb250cm9sbGVyKCR0cmFuc2xhdGUsICR3aW5kb3csIHNpZ251cFNlcnZpY2UsJHN0YXRlLHRvYXN0QXBwLEF1dGhUb2tlbixBdXRoLCRmaWx0ZXIsJHN0YXRlUGFyYW1zKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubWVzc2FnZSAgPSAnJztcclxuICAgIHNlbGYuc2F2ZVVzZXIgICA9IHNhdmVVc2VyO1xyXG4gICAgc2VsZi5yZXNjdWVQYXNzd29yZCA9IHJlc2N1ZVBhc3N3b3JkO1xyXG4gICAgc2VsZi5jaGFuZ2VQYXNzd29yZCA9IGNoYW5nZVBhc3N3b3JkO1xyXG4gICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgIHNlbGYubG9naW5JblByb2dyZXNzID0gZmFsc2U7XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZVVzZXIodXNlcikge1xyXG4gICAgICBzaWdudXBTZXJ2aWNlLmNyZWF0ZSh1c2VyKVxyXG4gICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdXRUxDT01FX1NZU1RFTScpICsgdXNlci5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2luaXQubG9naW4nKTtcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVtYWlsIErDoSBjYWRhc3RyYWRvXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNldExhbmcobGFuZ0tleSkge1xyXG4gICAgICAgICAgJHRyYW5zbGF0ZS51c2UobGFuZ0tleSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJlc2N1ZVBhc3N3b3JkKHVzZXJFbWFpbCl7XHJcbiAgICAgICAgICBzaWdudXBTZXJ2aWNlLnJlc2N1ZVBhc3N3b3JkKHVzZXJFbWFpbClcclxuICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRW1haWwgY29tIGluc3RydcOnw7VlcyBlbnZpYWRvIHBhcmEgXCIgKyB1c2VyRW1haWwuZW1haWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0LmxvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQodXNlcil7XHJcbiAgICAgICAgICBzaWdudXBTZXJ2aWNlLmNoYW5nZVBhc3N3b3JkKHVzZXIpXHJcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbmhhIGFsdGVyYWRhIGNvbSBzdWNlc3NvLiBGYcOnYSBsb2dpbiBjb20gYSBub3ZhIHNlbmhhLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIkVycm9yXCIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ3NpZ251cFNlcnZpY2UnLCBzaWdudXBTZXJ2aWNlKTtcclxuXHJcbiAgc2lnbnVwU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsJyRsb2NhdGlvbiddO1xyXG5cclxuICBmdW5jdGlvbiBzaWdudXBTZXJ2aWNlKCRodHRwLCRsb2NhdGlvbikge1xyXG5cclxuICAgIHZhciBBUElfUk9VVEVfVVNFUiA9ICcvYXBpL3NpZ251cC8nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9SRVNDVUVQQVNTV09SRCA9ICcvYXBpL3Jlc2N1ZXBhc3N3ZC8nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9TRVRORVdQQVNTV09SRCA9ICcvYXBpL3Jlc2N1ZXBhc3N3ZC9uZXdwYXNzd2QvJztcclxuICAgIHZhciBBUElfUk9VVEVfVVBEQVRFUEhPVE8gPSAnL2FwaS9wcm9maWxlL3Bob3RvLyc7XHJcblxyXG5cclxuICAgIHZhciBzZXJ2aWNlID0ge1xyXG4gICAgICBjcmVhdGUgICAgICAgICA6IGNyZWF0ZSxcclxuICAgICAgcmVzY3VlUGFzc3dvcmQgOiByZXNjdWVQYXNzd29yZCxcclxuICAgICAgY2hhbmdlUGFzc3dvcmQgOiBjaGFuZ2VQYXNzd29yZCxcclxuICAgICAgdXBsb2FkUGhvdG86IHVwbG9hZFBob3RvXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBzZXJ2aWNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX1VTRVIsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2N1ZVBhc3N3b3JkKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfUkVTQ1VFUEFTU1dPUkQsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKGRhdGEpe1xyXG4gICAgICB2YXIgbXl0b2tlblVSTCA9ICRsb2NhdGlvbi5zZWFyY2goKTtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfU0VUTkVXUEFTU1dPUkQgKyAnP215dG9rZW49JyArIG15dG9rZW5VUkwubXl0b2tlbisnJnBhc3N3b3JkPScrZGF0YS5wYXNzd29yZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBsb2FkUGhvdG8oZGF0YSkge1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdChBUElfUk9VVEVfVVBEQVRFUEhPVE8sIGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjUvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbmZpZyhhcHBDb25maWcpO1xyXG5cclxuICAgIGFwcENvbmZpZy4kaW5qZWN0ID0gWyckbWRUaGVtaW5nUHJvdmlkZXInLCckbG9jYXRpb25Qcm92aWRlciddO1xyXG5cclxuICAgLyogZnVuY3Rpb24gYXBwQ29uZmlnICgkbWRUaGVtaW5nUHJvdmlkZXIsJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuXHJcbiAgICAgICAgIC8vJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG4gICAgICAgIHZhciBjdXN0b21HcmVlbk1hcCA9ICRtZFRoZW1pbmdQcm92aWRlci5leHRlbmRQYWxldHRlKCd0ZWFsJywge1xyXG4gICAgICAgICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxyXG4gICAgICAgICAgICAnY29udHJhc3REYXJrQ29sb3JzJzogWyc1MCddLFxyXG4gICAgICAgICAgICAnNTAnOiAnRTBGMkYxJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnY3VzdG9tR3JlZW4nLCBjdXN0b21HcmVlbk1hcCk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcclxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCdjdXN0b21HcmVlbicsIHtcclxuICAgICAgICAgICAgICAgICdkZWZhdWx0JzogJzUwMCcsXHJcbiAgICAgICAgICAgICAgICAnaHVlLTEnOiAnNTAnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hY2NlbnRQYWxldHRlKCd0ZWFsJyk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdpbnB1dCcsICdkZWZhdWx0JylcclxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCdncmVlbicpO1xyXG5cclxuICAgIH07Ki9cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBDb25maWcoJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XHJcbiAgICAgICAgLy8gRXh0ZW5kIHRoZSByZWQgdGhlbWUgd2l0aCBhIGZldyBkaWZmZXJlbnQgY29sb3JzXHJcbiAgICAgICAgdmFyIG5lb25SZWRNYXAgPSAkbWRUaGVtaW5nUHJvdmlkZXIuZXh0ZW5kUGFsZXR0ZSgndGVhbCcsIHtcclxuICAgICAgICAgICAgJzUwJzogJ0UwRjJGMScsXHJcbiAgICAgICAgICAgICcxMDAnOiAnQjJERkRCJyxcclxuICAgICAgICAgICAgJzIwMCc6ICc4MENCQzQnLFxyXG4gICAgICAgICAgICAnMzAwJzogJzREQjZBQycsXHJcbiAgICAgICAgICAgICc0MDAnOiAnMjZBNjlBJyxcclxuICAgICAgICAgICAgJzUwMCc6ICcwMDk2ODgnLFxyXG4gICAgICAgICAgICAnNjAwJzogJzAwODk3QicsXHJcbiAgICAgICAgICAgICc3MDAnOiAnMDA3OTZCJyxcclxuICAgICAgICAgICAgJzgwMCc6ICcwMDY5NUMnLFxyXG4gICAgICAgICAgICAnOTAwJzogJzAwNEQ0MCcsXHJcbiAgICAgICAgICAgICdBMTAwJzogJ0E3RkZFQicsXHJcbiAgICAgICAgICAgICdBMjAwJzogJzY0RkZEQScsXHJcbiAgICAgICAgICAgICdBNDAwJzogJzFERTlCNicsXHJcbiAgICAgICAgICAgICdBNzAwJzogJzAwQkZBNScsXHJcbiAgICAgICAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsICAgIC8vIHdoZXRoZXIsIGJ5IGRlZmF1bHQsIHRleHQgKGNvbnRyYXN0KVxyXG4gICAgICAgICAgICAvLyBvbiB0aGlzIHBhbGV0dGUgc2hvdWxkIGJlIGRhcmsgb3IgbGlnaHRcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnLCAnMTAwJywgLy9odWVzIHdoaWNoIGNvbnRyYXN0IHNob3VsZCBiZSAnZGFyaycgYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgJzIwMCcsICczMDAnLCAnNDAwJywgJ0ExMDAnXSxcclxuICAgICAgICAgICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiB1bmRlZmluZWRcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBSZWdpc3RlciB0aGUgbmV3IGNvbG9yIHBhbGV0dGUgbWFwIHdpdGggdGhlIG5hbWUgPGNvZGU+bmVvblJlZDwvY29kZT5cclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgndGVhbCcsIG5lb25SZWRNYXApO1xyXG4gICAgICAgIC8vIFVzZSB0aGF0IHRoZW1lIGZvciB0aGUgcHJpbWFyeSBpbnRlbnRpb25zXHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcclxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCd0ZWFsJylcclxuICAgICAgICAgICAgLmFjY2VudFBhbGV0dGUoJ2dyZWVuJyk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn0pKCk7IiwiXHJcbihmdW5jdGlvbigpe1xyXG5cclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXV0aFNlcnZpY2UnLCBbXSlcclxuXHRcdC5mYWN0b3J5KCdBdXRoJywgZnVuY3Rpb24oJGh0dHAsICRxLCBBdXRoVG9rZW4pIHtcclxuXHRcdFx0dmFyIGF1dGhGYWN0b3J5ID0ge307XHJcblx0XHRcdGF1dGhGYWN0b3J5LmxvZ2luID0gZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKSB7XHJcblx0XHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9naW4nLCB7XHJcblx0XHRcdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdFx0XHRwYXNzd29yZDogcGFzc3dvcmRcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS50b2tlbik7XHJcblx0XHRcdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRhdXRoRmFjdG9yeS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRBdXRoVG9rZW4uc2V0VG9rZW4oKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhGYWN0b3J5LmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0fWVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF1dGhGYWN0b3J5LmdldFVzZXIgPSBmdW5jdGlvbihpZCkge1xyXG5cdFx0XHRcdGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lLz91c2VyaWQ9JyArIGlkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJHEucmVqZWN0KHttZXNzYWdlOiBcIlVzZXIgaGFzIG5vIHRva2VuXCJ9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gYXV0aEZhY3Rvcnk7XHJcblx0XHR9KVxyXG5cdFx0LmZhY3RvcnkoJ0F1dGhUb2tlbicsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcclxuXHJcblx0XHRcdHZhciBhdXRoVG9rZW5GYWN0b3J5ID0ge307XHJcblxyXG5cdFx0XHRhdXRoVG9rZW5GYWN0b3J5LmdldFRva2VuID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRhdXRoVG9rZW5GYWN0b3J5LnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pIHtcclxuXHJcblx0XHRcdFx0aWYgKHRva2VuKSB7XHJcblx0XHRcdFx0XHQkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fTtcclxuXHRcdFx0cmV0dXJuIGF1dGhUb2tlbkZhY3Rvcnk7XHJcblx0XHR9KVxyXG5cdFx0LmZhY3RvcnkoJ0F1dGhJbnRlcmNlcHRvcicsIGZ1bmN0aW9uKCRxLCAkbG9jYXRpb24sIEF1dGhUb2tlbikge1xyXG5cdFx0XHR2YXIgaW50ZXJjZXB0b3JGYWN0b3J5ID0ge307XHJcblx0XHRcdGludGVyY2VwdG9yRmFjdG9yeS5yZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcblx0XHRcdFx0dmFyIHRva2VuID0gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcblx0XHRcdFx0aWYodG9rZW4pIHtcclxuXHRcdFx0XHRcdGNvbmZpZy5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddID0gdG9rZW47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBjb25maWc7XHJcblx0XHRcdH07XHJcblx0XHRcdHJldHVybiBpbnRlcmNlcHRvckZhY3Rvcnk7XHJcblx0XHR9KTtcclxufSkoKTsiLCJcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdEcm9wRFNDJyxbXSlcclxuICAgIC5kaXJlY3RpdmUoJ2RyYWdnYWJsZScsIGZ1bmN0aW9uKCRkb2N1bWVudCxTb2NrZXQsJHdpbmRvdykge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50Lm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnQudGFyZ2V0LmlkLnN1YnN0cmluZygwLDExKSA9PSBcInN0YWtlaG9sZGVyXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ21vdXNlbW92ZScsIG1vdXNlbW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ21vdXNldXAnLCBtb3VzZXVwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGV2ZW50LnRhcmdldC5pZC5zdWJzdHJpbmcoMCw2KSA9PSBcInBvc3RpdFwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ21vdXNlbW92ZScsIG1vdXNlbW92ZVBvc3RJdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5iaW5kKCdtb3VzZXVwJywgbW91c2V1cFBvc3RJdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiBtb3VzZW1vdmUoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBpZF9kaXYgPSBldmVudC50YXJnZXQuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaWRfZGl2ID09ICdzdmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWRfZGl2ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnN0YWtlaG9sZGVyLm9uaW9ubGF5ZXIgPSBpZF9kaXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICB5ID0gZXZlbnQucGFnZVk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB4ID0gZXZlbnQucGFnZVg7XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB5ICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAgeCArICdweCdcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Rha2Vob2xkZXIueCA9IHggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Rha2Vob2xkZXIueSA9IHkgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1vdXNlbW92ZVBvc3RJdChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZF9kaXYgPSBldmVudC50YXJnZXQuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkX2RpdiA9PSAnc3ZnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZF9kaXYgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgIHNjb3BlLnBvc3RpdC5sYXllciA9IGlkX2RpdjtcclxuICAgICAgICAgICAgICAgICAgICB5ID0gZXZlbnQucGFnZVk7XHJcbiAgICAgICAgICAgICAgICAgICAgeCA9IGV2ZW50LnBhZ2VYO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB5ICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogIHggKyAncHgnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucG9zdGl0LnggPSB4ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5wb3N0aXQueSA9IHkgKyAncHgnO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1vdXNldXAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdtb3VzZXVwJywgbW91c2V1cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE1vdmUnLCBzY29wZS5zdGFrZWhvbGRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBtb3VzZXVwUG9zdEl0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ21vdXNlbW92ZScsIG1vdXNlbW92ZVBvc3RJdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnbW91c2V1cCcsIG1vdXNldXBQb3N0SXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvbjNMYXllck1vdmUnLCBzY29wZS5wb3N0aXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgamVzdXMgb24gMjEvMDMvMjAxNi5cclxuICovXHJcbjsoZnVuY3Rpb24gKHVuZGVmaW5lZCkge1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcFJ4RHJhZycsIFsncngnXSlcclxuICAgICAgICAuZGlyZWN0aXZlKCdyeGRyYWdnYWJsZScsIGZ1bmN0aW9uKCRkb2N1bWVudCwgJHdpbmRvdywgcngsIFNvY2tldCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHRocmVlIG1ham9yIGV2ZW50c1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvY2FsY29kZSA9ICAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbGNvZGUnKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb3VzZXVwICAgPSByeC5PYnNlcnZhYmxlLmZyb21FdmVudChlbGVtZW50LCAgICdtb3VzZXVwJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2Vtb3ZlID0gcnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoJGRvY3VtZW50LCAnbW91c2Vtb3ZlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2Vkb3duID0gcnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoZWxlbWVudCwgICAnbW91c2Vkb3duJykubWFwKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBvZmZzZXRzIHdoZW4gbW91c2UgZG93blxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogZXZlbnQuY2xpZW50WCAtIGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAgZXZlbnQuY2xpZW50WSAtIGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb21iaW5lIG1vdXNlIGRvd24gd2l0aCBtb3VzZSBtb3ZlIHVudGlsIG1vdXNlIHVwXHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2VkcmFnID0gbW91c2Vkb3duLnNlbGVjdE1hbnkoZnVuY3Rpb24oaW1hZ2VPZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW91c2Vtb3ZlLm1hcChmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBvZmZzZXRzIGZyb20gbW91c2UgZG93biB0byBtb3VzZSBtb3Zlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogcG9zLmNsaWVudFggLSBpbWFnZU9mZnNldC5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAgcG9zLmNsaWVudFkgLSBpbWFnZU9mZnNldC50b3BcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9KS50YWtlVW50aWwobW91c2V1cCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBtb3VzZWRyYWcuc3Vic2NyaWJlIChmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe3RvcDogcG9zLnRvcCArICdweCcsIGxlZnQ6IHBvcy5sZWZ0ICsgJ3B4J30pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcy5sb2NhbGNvZGUgPSBsb2NhbGNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE1vdmUnLHBvcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxufS5jYWxsKHRoaXMpKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignbG9naW5Db250cm9sbGVyJyxsb2dpbkNvbnRyb2xsZXIpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsb2dpbkNvbnRyb2xsZXIoU29ja2V0LCAkdHJhbnNsYXRlLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEF1dGgsICR3aW5kb3csICRmaWx0ZXIsIHRvYXN0QXBwKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgc2VsZi5zZXRMYW5nID0gc2V0TGFuZztcclxuICAgICAgICAgICAgc2VsZi5kb0xvZ291dCA9IGRvTG9nb3V0O1xyXG4gICAgICAgICAgICBzZWxmLmRvTG9naW4gPSBkb0xvZ2luO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0TGFuZyhsYW5nS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgJHRyYW5zbGF0ZS51c2UobGFuZ0tleSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldExvY2FsQ29kZSgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgc2VsZi5sb2dnZWRJbiA9IEF1dGguaXNMb2dnZWRJbigpO1xyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ2dlZEluID0gQXV0aC5pc0xvZ2dlZEluKCk7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmdldFVzZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvTG9naW4odXNlcikge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5lcnJvciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgQXV0aC5sb2dpbih1c2VyLmVtYWlsLCB1c2VyLnBhc3N3b3JkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJlbWFpbFwiLGRhdGEuZW1haWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlcmlkXCIsZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsb2NhbGNvZGVcIixkYXRhLmlkICsgJy0nICsgZ2V0TG9jYWxDb2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibmlja25hbWVcIixkYXRhLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRMYW5nKGRhdGEubGFuZ3VhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmluUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRoLmdldFVzZXIoZGF0YS5pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHVzZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdXRUxDT01FX1NZU1RFTScpICsgXCI6IFwiICsgZGF0YS5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBob3RvXCIsdXNlckRhdGEuZGF0YS5waG90byk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3N0YXJ0cHJvYmxlbScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiVXN1w6FyaW8gZSBzZW5oYSBuw6NvIGNvbmZlcmVtLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvTG9nb3V0KCkge1xyXG4gICAgICAgICAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZSgnaW5pdCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDIxLzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5zZXJ2aWNlKCdTb2NrZXQnLFxyXG4gICAgICAgIFsnJGxvY2F0aW9uJywgJyR0aW1lb3V0JyxcclxuICAgIGZ1bmN0aW9uKCRsb2NhdGlvbiwgJHRpbWVvdXQpIHtcclxuICAgICAgICBpZiAodHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldCA9IGlvKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub24gPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQub24oZXZlbnROYW1lLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQgPSBmdW5jdGlvbihldmVudE5hbWUsIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50TmFtZSwgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbl0pXHJcblxyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
