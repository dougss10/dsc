function toastApp(e){function t(t){this.message=t,e.show({controller:"toastController",controllerAs:"vm",templateUrl:"views/pages/dsctoast.html",action:"OK",highlightAction:!0,position:"top left",hideDelay:5e3})}var o={message:"",errorMessage:t};return o}function chatDSC(e,t,o,r,a,n){var i=this;i.newmsg="",i.messages=[],i.replay=!1,i.close=function(){o("chat").close().then(function(){r.debug("close chat")})},i.initHistoryChat=function(){console.log("--------------------------------------------------------"),i.idProblem=n.localStorage.getItem("problemid"),a.gethistorychat(i.idProblem).success(function(e){if(e.success){console.log(e.historychat);for(var t=0;t<e.historychat.length;t++){var o=new Date(e.historychat[t].time),r={nickname:e.historychat[t].nickname,msg:e.historychat[t].msg,time:o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear()+" ["+o.getHours()+":"+o.getMinutes()+"] "};i.messages.push(r)}}})},i.showReplay=function(){i.replay=i.replay?!1:!0},t.on("onBroadcastChat",function(e){var t=new Date(e[e.length-1].time);i.messages.push({nickname:e[e.length-1].nickname,msg:e[e.length-1].msg,time:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" ["+t.getHours()+":"+t.getMinutes()+"] "})}),i.sendMessage=function(e){t.emit("broadcastChat",e),i.newmsg=""}}function evaluationframeworkController(e,t,o,r){function a(){n.idproblem=e.localStorage.getItem("problemid"),t.getevaluation(n.idproblem).success(function(e){e.success?n.evaluationframeworkList=e.evaluationframework:toastApp.errorMessage(e.message)})}var n=this;n.evaluationframeworkList=[],n.initEvaluation=a,o.on("onBroadcastFrameSave",function(e){angular.forEach(n.evaluationframeworkList,function(t){t.onionlayer==e.onionlayer&&angular.forEach(t.stakeholders,function(t){t._id==e._id&&(t.name=e.name,t.onionlayer=e.onionlayer,t.description=e.description,t.openEdit=e.openEdit,t.problems=e.problems,t.solutions=e.solutions)})})}),r.saveDiscution=function(e){o.emit("broadcastFrameSave",e)},o.on("onUpdateStakeholder",function(e){console.log(e)}),r.setOpenEditDiscution=function(e){e.openEdit=!0}}function semioticframeworkController(e,t,o){function r(){u.idproblem=t.localStorage.getItem("problemid"),o.getsemiotic(u.idproblem).success(function(e){e.success?u.semioticframework=e.semioticframework:toastApp.errorMessage(e.message)})}function a(t,o){var r={text:t,update:o};e.emit("updateSocialWorld",r)}function n(t,o){var r={text:t,update:o};e.emit("updatePragmatic",r)}function i(t,o){var r={text:t,update:o};e.emit("updateSemantic",r)}function s(t,o){var r={text:t,update:o};e.emit("updateSyntatic",r)}function l(t,o){var r={text:t,update:o};e.emit("updateEmpirical",r)}function c(t,o){var r={text:t,update:o};e.emit("updatePhysical",r)}var u=this;u.idproblem="",u.saveSocialWorld=a,u.savePragmatic=n,u.saveSemantic=i,u.saveSyntatic=s,u.saveEmpirical=l,u.savePhysical=c,u.semioticframework="",u.initSemioticFramework=r,e.on("onUpdateSocialWorld",function(e){u.semioticframework.socialworld=e}),e.on("onUpdatePragmatic",function(e){u.semioticframework.pragmatic=e}),e.on("onUpdateSemantic",function(e){u.semioticframework.semioticramework=e}),e.on("onUpdateSyntatic",function(e,t){u.semioticframework.syntatic=e}),e.on("onUpdateEmpirical",function(e){u.semioticframework.empirical=e}),e.on("onUpdatePhysical",function(e){u.semioticframework.physical=e})}function stakeholderController(e,t,o,r){function a(){n.idproblem=o.localStorage.getItem("problemid"),r.getonion(n.idproblem).success(function(e){e.success?n.stakeholderList=e.stakeholders:toastApp.errorMessage(e.message)})}var n=this;n.idproblem="",n.stakeholderList=[],n.stakeholder="",n.intitOnion=a,n.move=!1,e.on("onBroadcastOnionSave",function(e){angular.forEach(n.stakeholderList,function(t){t._id==e._id&&(t.stakeholder=e.stakeholder,t.name=e.name,t.description=e.description,t.openEdit=e.dadaopenEdit,t.x=e.x,t.y=e.y)})}),t.saveStakeholder=function(t){e.emit("broadcastOnionSave",t)},e.on("onBroadcastOnionEdit",function(e){angular.forEach(n.stakeholderList,function(t){t._id==e&&(t.openEdit=!0)})}),t.setOpenEdit=function(t){e.emit("broadcastOnionEdit",t)},e.on("onBroadcastOnionRemove",function(e){var t=document.getElementById("stakeholder"+n.stakeholderList[e]._id);t.style.display="none",n.stakeholderList.splice(e,1)}),t.setValue=function(){console.log("Chamando para trocar para true....")},t.delPostIt=function(t,o){var r={index:t,stakeholder:o};e.emit("broadcastOnionRemove",r)},e.on("onBroadcastOnionAdd",function(e){n.stakeholderList.push(e)}),t.addPostIt=function(t,o){var r=n.stakeholderList.length+1,a={_id:r,onionlayer:o,name:"",description:"",openEdit:!0,x:t.pageX+"px",y:t.pageY+"px"};e.emit("broadcastOnionAdd",a)},n.acende=function(e){e.target.setAttribute("opacity","0.8")},n.apaga=function(e){e.target.setAttribute("opacity","1.0")}}!function(){"use strict";angular.module("app",["toastService","textAngular","luegg.directives","DropDSC","authService","ui.router","ngMaterial","ngMdIcons","ngCookies","pascalprecht.translate"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor")}])}(),angular.module("toastService",[]).controller("toastController",["$mdToast","toastApp",function(e,t){var o=this;o.message=t.message,o.closeToast=function(){e.hide()}}]).factory("toastApp",toastApp),toastApp.$inject=["$mdToast"],function(){"use strict";function e(e,t){e.state("init",{url:"/",templateUrl:"views/pages/initpage.html",controller:"loginController as vm"}).state("init.login",{url:"login",views:{"content-tab":{templateUrl:"views/pages/userlogin.html",controller:"loginController as vm"}}}).state("init.signup",{url:"signup",views:{"content-tab":{templateUrl:"views/pages/signup.html",controller:"signupController as vm"}}}).state("init.rescuepassword",{url:"rescuepassword",views:{"content-tab":{templateUrl:"views/pages/rescuepassword.html",controller:"signupController as vm"}}}).state("startproblem",{url:"/startproblem",templateUrl:"views/pages/startproblem.html",controller:"startProblemController as vm"}).state("newpassword",{url:"/newpassword/:mytoken",templateUrl:"views/pages/newpassword.html",controller:"signupController as vm"}).state("problem",{url:"/problem",templateUrl:"views/pages/problem.html",controller:"menuProblemController as vm"}).state("problem.description",{url:"/description",views:{"problem-description":{templateUrl:"views/pages/problemdescription.html",controller:"editProblemController as vm"}}}).state("problem.collaborators",{url:"/collaborators",views:{"problem-description":{templateUrl:"views/pages/collaborators.html",controller:"controllerCollaborators as vm"}}}).state("problem.stakeholders",{url:"stakeholders",views:{"dsc-artifact":{templateUrl:"views/pages/stakeholders.html",controller:"stakeholderController as vm"}}}).state("problem.evaluationframework",{url:"evaluationframework",views:{"dsc-artifact":{templateUrl:"views/pages/evaluationframework.html",controller:"evaluationframeworkController as vm"}}}).state("problem.semioticframework",{url:"semioticframework",views:{"dsc-artifact":{templateUrl:"views/pages/semioticframework.html",controller:"semioticframeworkController as vm"}}}).state("problem.carf",{url:"carf",views:{"dsc-artifact":{templateUrl:"views/pages/carf.html",controller:"carfController as vm"}}}),t.otherwise("/login")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e,t,o,r){function a(){i.idProblem=e.localStorage.getItem("problemid"),o.getcarf(i.idProblem).success(function(e){e.success&&(i.localStakeholders=e.stakeholders,i.stakeholderList=i.localStakeholders,i.carfList=e.carf,i.carfPriorityList=i.localPriorityList)})}function n(){i.carf={_id:"",pms:"",values:[],priority:"",requirement:"",stakeholders:[]},i.valueList=[]}var i=this;i.idProblem="",i.valueList=[],i.stakeholderList=[],i.localStakeholders=[],i.carf={pms:"",values:[],priority:"",requirement:"",stakeholders:[]},i.initCarf=a,i.carfList=[],i.carfPriorityList=[],t.on("onBroadcastCARFadd",function(e){i.carfList.push(e),n(),i.stakeholderList=i.localStakeholders,i.carfPriorityList=i.localPriorityList}),i.addpmsvalue=function(e){""==e.pms?r.errorMessage("Select PMS"):e.values.length<1?r.errorMessage("Select one or more Value"):e.stakeholders.length<1?r.errorMessage("Select one or more Stakeholder(s)"):""==e.priority?r.errorMessage("Select priority [Low, Medium or High]"):(t.emit("broadcastCARFadd",e),i.stakeholderList=[],i.carfPriorityList=[])},t.on("onBroadcastCARFremove",function(e){i.carfList.splice(e,1)}),i.removeCARF=function(e,o){var r={index:e,carf:o};t.emit("broadcastCARFremove",r)},i.selectPMSValue=function(e){void 0!=e&&angular.forEach(i.carfPMSValue,function(t){return t.pms==e?(i.carf.values=[],void(i.valueList=t.values)):void 0})},i.setPriotity=function(e){i.carf.priority=e},i.addListValue=function(e){if(0==i.carf.values.length)i.carf.values.push(e);else{for(var t=0;t<i.carf.values.length;t++)if(e==i.carf.values[t])return void i.carf.values.splice(t,1);i.carf.values.push(e)}},i.addStakeholder=function(e){if(0==i.carf.stakeholders.length)i.carf.stakeholders.push(e);else{for(var t=0;t<i.carf.stakeholders.length;t++)if(e==i.carf.stakeholders[t])return void i.carf.stakeholders.splice(t,1);i.carf.stakeholders.push(e)}},i.localPriorityList=["Low","Medium","High"],i.carfPMSValue=[{pms:"Interaction",values:["Identity","Norms"]},{pms:"Association",values:["Conversation","Groups","Relationship","Trust"]},{pms:"Learning",values:["Meta-communication"]},{pms:"Play",values:["Aesthetics","Emotion and Affection"]},{pms:"Protection",values:["Informed consert","Reputation","Security"]},{pms:"Exploitation",values:["Accessibility","Object","Property (ownership)","Usability"]},{pms:"Teporality",values:["Availability","Awareness","Presence"]},{pms:"Territoriality",values:["Portability","Privacy","Scalability","Visibility"]},{pms:"Classification",values:["Autonomy","Collaboration","Sharing","Adaptability"]},{pms:"Subsistence",values:["Reciprocity"]}]}angular.module("app").controller("carfController",e),e.$inject=["$window","Socket","problemService","toastApp"]}(),angular.module("app").controller("chatDSC",chatDSC),chatDSC.$inject=["$timeout","Socket","$mdSidenav","$log","problemService","$window"],function(){"use strict";function e(e,t,o){function r(e){for(var t=0;t<a.collaborators.length;t++)if(e==a.collaborators[t].email)return!0;return!1}var a=this;a.idProblem="",a.collaborators=[],a.useremail="",a.initCollaborators=function(){a.idProblem=e.localStorage.getItem("problemid"),a.useremail=e.localStorage.getItem("useremail"),t.getcollaborators(a.idProblem).success(function(e){e.success?a.collaborators=e.collaborators:o.errorMessage(e.message)})},a.addCollaborator=function(e){if(a.useremail==e)o.errorMessage(a.useremail+" is email of owner.");else if(r(e))o.errorMessage("Usuario Cadastrado.");else{var n={idproblem:a.idProblem,email:e};t.invite(n).success(function(e){e.success?a.collaborators=e.collaborators:o.errorMessage(e.message)})}},a.removeCollaborator=function(e){var r={idproblem:a.idProblem,email:e.email};t.removecollaborators(r).success(function(e){e.success?(o.errorMessage("Colaborador foi removido do projeto."),a.collaborators=e.collaborators):o.errorMessage(e.message)})}}angular.module("app").controller("controllerCollaborators",e),e.$inject=["$window","problemService","toastApp"]}(),angular.module("app").controller("evaluationframeworkController",evaluationframeworkController),evaluationframeworkController.$inject=["$window","problemService","Socket","$scope"],function(){"use strict";function e(e,t,o,r,a,n){function i(e){var t=a.debounce(function(){r(e).toggle().then(function(){n.debug("toggle "+e+" is done")})},300);return t}var s=this;s.openChat=i("chat"),s.formAddCollaborators=function(){o.go("problem.collaborators")},s.editDescriptionProblem=function(){o.go("problem.description")},s.doLogout=function(){e.logout(),o.go("init.login")}}angular.module("app").controller("menuProblemController",e),e.$inject=["Auth","$timeout","$state","$mdSidenav","$mdUtil","$log"]}(),function(){"use strict";function e(e,t,o,r,a,n){var i=this,s=!0;i.problem="",i.tabs=["problem.stakeholders","problem.evaluationframework","problem.semioticframework","problem.carf"],i.getCurrentProblem=function(){i.idProblem=a.localStorage.getItem("problemid"),n.getproblem(i.idProblem).success(function(e){e.success?i.problem=e.problem:r.errorMessage(e.message)})};var l=function(){s=!0};t.on("onAtualizarProblema",function(e){console.log("=========================================================================retorno...."+e),i.problem.description=e.description,i.problem.update=s}),e.problemUpdate=function(e){e.update=s,t.emit("atualizarProblema",e),s&&(s=!1,o(l,2e3))},e.saveDescription=function(e){console.log("============================================================================="),e.update=s,t.emit("atualizarProblema",e)}}angular.module("app").controller("editProblemController",e),e.$injectre=["$scope","Socket"],e.$inject=["$scope","Socket","$timeout","toastApp","$window","problemService"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(h,t)}function r(t){return e.get(v+"?idproblem="+t)}function a(t){return e.get(f+"?email="+t)}function n(t){return e.get(k+"?idproblem="+t)}function i(t){return e.post(w,t)}function s(t){return e.get(S+"?idproblem="+t)}function l(t){return e.get(y+"?idproblem="+t)}function c(t){return e.get(P+"?idproblem="+t)}function u(t){return e.get($+"?idproblem="+t)}function m(t){return e.get(C+"?idproblem="+t)}function p(t){return e.get(b+"?email="+t)}function d(t){return e.get(L+"?idproblem="+t.idproblem+"&email="+t.email)}function g(t){return e.get(A+"?idproblem="+t)}var f="/api/problem/getproblems",b="/api/problem/getproblemscollaborator",h="/api/problem/newproblem",v="/api/problem/getproblem",k="/api/problem/getcollaborators",w="/api/problem/invite",S="/api/problem/getonion",y="/api/problem/getevaluation",P="/api/problem/getsemiotic",$="/api/problem/getcarf",C="/api/problem/removeproblem",L="/api/problem/removecollaborator",A="/api/problem/historychat",M={newproblem:o,getuserproblems:a,getproblem:r,getcollaborators:n,invite:i,getonion:s,getevaluation:l,getsemiotic:c,getcarf:u,removeproblem:m,getproblemscollaborator:p,removecollaborators:d,gethistorychat:g};return M}angular.module("app").factory("problemService",e),e.$inject=["$http","$location"]}(),angular.module("app").controller("semioticframeworkController",semioticframeworkController),semioticframeworkController.$inject=["Socket","$window","problemService"],angular.module("app").controller("stakeholderController",stakeholderController),stakeholderController.$inject=["Socket","$scope","$window","problemService"],function(){"use strict";function e(e,t,o,r,a,n,i){function s(e){n.removeproblem(e).success(function(t){if(t.success){for(var o=0;o<c.problemList.length;o++)if(c.problemList[o]._id==e){c.problemList.splice(o,1);break}}else i.errorMessage(t.message)})}function l(e,t){e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.addNewProblem=function(e){c.startNewProblem(e),t.cancel()}}var c=this;c.nickname="",c.userid="",c.useremail="",c.problemList=[],c.problemCollaboratorList=[],c.getProblems=function(){c.userid=a.localStorage.getItem("userid"),c.nickname=a.localStorage.getItem("nickname"),c.useremail=a.localStorage.getItem("useremail"),n.getuserproblems(c.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"");c.problemList=e.problems}else i.errorMessage(e.message)}),n.getproblemscollaborator(c.useremail).success(function(e){if(e.success){for(var t=0;t<e.problems.length;t++)e.problems[t].description=e.problems[t].description.replace(/(<([^>]+)>)/gi,"");c.problemCollaboratorList=e.problems}else i.errorMessage(e.message)})},c.revomveProblem=function(t,o){var r=e.confirm().parent(angular.element(document.body)).title("Detete Problem?").content("Title: "+o.title).ariaLabel("Remove Problem").ok("Desejo remover!").cancel("Cancel").targetEvent(t);e.show(r).then(function(){s(o._id)})},c.startNewProblem=function(e){e.userid=c.userid,n.newproblem(e).success(function(e){e.success?c.editProblem(e.problem):i.errorMessage(e.message)})},c.editProblem=function(e){a.localStorage.setItem("problemid",e._id);var o={idproblem:e._id,nickname:c.nickname};r.emit("initProblem",o),t.go("problem.stakeholders")},c.doLogout=function(){o.logout(),t.go("init.login")},c.newProblem=function(t){e.show({controller:l,templateUrl:"views/pages/newproblem.html",parent:angular.element(document.body),targetEvent:t})},l.$inject=["$scope","$mdDialog"]}angular.module("app").controller("startProblemController",e),e.$inject=["$mdDialog","$state","Auth","Socket","$window","problemService","toastApp"]}(),function(){"use strict";function e(e){e.useStaticFilesLoader({prefix:"app/language/lang-",suffix:".json"}),e.preferredLanguage("en"),e.useSanitizeValueStrategy("escaped"),e.useLocalStorage()}function t(e){this.setLang=function(t){e.use(t)}}function o(){return{templateUrl:"app/language/changeLanguage.html",restrict:"E"}}angular.module("app").config(e).controller("languageController",t).directive("changeLanguage",o),e.$inject=["$translateProvider"],t.$inject=["$translate"]}(),function(){"use strict";function e(e,t,o,r,a,n,i){function s(i){e.create(i).success(function(e){e.success?(r.setToken(e.token),a.getUser().then(function(e){u.user=e.data,o.errorMessage(n("translate")("WELCOME_SYSTEM")+": "+u.user.nickname),t.go("startproblem")})):o.errorMessage("Email Já cadastrado")})}function l(t){e.rescuePassword(t).success(function(e){console.log(e),o.errorMessage(e.success?"Email com instruções enviado":"Error")})}function c(r){e.changePassword(r).success(function(e){e.success?(o.errorMessage("Senha alterada com sucesso. Faça login com a nova senha."),t.go("init")):o.errorMessage("Error")})}var u=this;u.message="",u.save=s,u.rescuePassword=l,u.changePassword=c}angular.module("app").controller("signupController",e),e.$inject=["signupService","$state","toastApp","AuthToken","Auth","$filter","$stateParams"]}(),function(){"use strict";function e(e,t){function o(t){return e.post(n,t)}function r(t){return e.post(i,t)}function a(o){var r=t.search();return e.get(s+"?mytoken="+r.mytoken+"&password="+o.password)}var n="/api/signup/",i="/api/rescuepasswd/",s="/api/rescuepasswd/newpasswd/",l={create:o,rescuePassword:r,changePassword:a};return l}angular.module("app").factory("signupService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e,t){var o=e.extendPalette("teal",{contrastDefaultColor:"light",contrastDarkColors:["50"],50:"E0F2F1"});e.definePalette("customGreen",o),e.theme("default").primaryPalette("customGreen",{"default":"500","hue-1":"50"}).accentPalette("teal"),e.theme("input","default").primaryPalette("green")}angular.module("app").config(e),e.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";angular.module("authService",[]).factory("Auth",["$http","$q","AuthToken",function(e,t,o){var r={};return r.login=function(t,r){return e.post("/api/login",{email:t,password:r}).success(function(e){return o.setToken(e.token),e})},r.logout=function(){o.setToken()},r.isLoggedIn=function(){return o.getToken()?!0:!1},r.getUser=function(){return o.getToken()?e.get("/api/me"):t.reject({message:"User has no token"})},r}]).factory("AuthToken",["$window",function(e){var t={};return t.getToken=function(){return e.localStorage.getItem("token")},t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token")},t}]).factory("AuthInterceptor",["$q","$location","AuthToken",function(e,t,o){var r={};return r.request=function(e){var t=o.getToken();return t&&(e.headers["x-access-token"]=t),e},r}])}(),angular.module("DropDSC",[]).directive("draggable",["$document","Socket",function(e,t){return{restrict:"A",replace:!0,link:function(t,o,r){function a(e){var r=e.target.id;"svg"==r&&(r=""),t.stakeholder.onionlayer=r,y=e.pageY,x=e.pageX,o.css({top:y+"px",left:x+"px"}),t.stakeholder.x=x+"px",t.stakeholder.y=y+"px"}function n(){e.unbind("mousemove",a),e.unbind("mouseup",n)}o.on("mousedown",function(t){"stakeholder"==t.target.id.substring(0,11)&&(t.preventDefault(),e.bind("mousemove",a),e.bind("mouseup",n))})}}}]),function(){"use strict";function e(e,t,o,r,a,n){var i=this;i.loggedIn=o.isLoggedIn(),e.$on("$routeChangeStart",function(){i.loggedIn=o.isLoggedIn(),o.getUser().then(function(e){i.user=e.data})}),i.doLogin=function(e){i.processing=!0,i.error="",o.login(e.email,e.password).success(function(e){r.localStorage.setItem("useremail",e.email),r.localStorage.setItem("userid",e.id),r.localStorage.setItem("nickname",e.nickname),i.processing=!1,o.getUser().then(function(e){i.user=e.data,n.errorMessage(a("translate")("WELCOME_SYSTEM")+": "+i.user.nickname)}),e.success?t.go("startproblem"):i.error=e.message})},i.doLogout=function(){o.logout(),t("init")}}angular.module("app").controller("loginController",e),e.$inject=["$rootScope","$state","Auth","$window","$filter","toastApp"]}(),angular.module("app").service("Socket",["$location","$timeout",function(e,t){this.socket=io(),this.on=function(e,o){this.socket&&this.socket.on(e,function(e){t(function(){o(e)})})},this.emit=function(e,t){this.socket&&this.socket.emit(e,t)},this.removeListener=function(e){this.socket&&this.socket.removeListener(e)}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvYXN0LnNlcnZpY2UuanMiLCJwcm9ibGVtL2NoYXQuY29udHJvbGxlci5qcyIsInByb2JsZW0vZXZhbHVhdGlvbmZyYW1ld29yay5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9zZW1pb3RpY2ZyYW1ld29yay5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3N0YWtlaG9sZGVyLmVkaXQuY29udHJvbGxlci5qcyIsImRzYy5hcHAuanMiLCJyb3V0ZXIuYXBwLmpzIiwiYXBwLmRzYy5taW4uanMiLCJwcm9ibGVtL2NhcmYuY29udHJvbGxlci5qcyIsInByb2JsZW0vY29sbGFib3JhdG9ycy5jb250cm9sbGVyLmpzIiwicHJvYmxlbS9tZW51LnByb2JsZW0uY29udHJvbGxlci5qcyIsInByb2JsZW0vcHJvYmxlbS5lZGl0LmNvbnRyb2xsZXIuanMiLCJwcm9ibGVtL3Byb2JsZW0uc2VydmljZS5qcyIsInByb2JsZW0vc3RhcnQucHJvYmxlbS5jb250cm9sbGVyLmpzIiwibGFuZ3VhZ2UvdHJhbnNsYXRlLmNvbnRyb2xsZXIuanMiLCJ1c2VyL3NpZ251cC5jb250cm9sbGVyLmpzIiwidXNlci9zaWdudXAuc2VydmljZS5qcyIsImFwcC5jb25maWcuanMiLCJhdXRoLnNlcnZpY2UuanMiLCJkcmFnLmRzYy5qcyIsImxvZ2luLmNvbnRyb2xsZXIuanMiLCJzb2NrZXQuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJ0b2FzdEFwcCIsIiRtZFRvYXN0IiwiZXJyb3JNZXNzYWdlIiwidGhpcyIsIm1lc3NhZ2UiLCJzaG93IiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInRlbXBsYXRlVXJsIiwiYWN0aW9uIiwiaGlnaGxpZ2h0QWN0aW9uIiwicG9zaXRpb24iLCJoaWRlRGVsYXkiLCJzZXJ2aWNlIiwiY2hhdERTQyIsIiR0aW1lb3V0IiwiU29ja2V0IiwiJG1kU2lkZW5hdiIsIiRsb2ciLCJwcm9ibGVtU2VydmljZSIsIiR3aW5kb3ciLCJ2bSIsIm5ld21zZyIsIm1lc3NhZ2VzIiwicmVwbGF5IiwiY2xvc2UiLCJ0aGVuIiwiZGVidWciLCJpbml0SGlzdG9yeUNoYXQiLCJjb25zb2xlIiwibG9nIiwiaWRQcm9ibGVtIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImdldGhpc3RvcnljaGF0Iiwic3VjY2VzcyIsImRhdGEiLCJoaXN0b3J5Y2hhdCIsImkiLCJsZW5ndGgiLCJ0bXAiLCJEYXRlIiwidGltZSIsIm1zbiIsIm5pY2tuYW1lIiwibXNnIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJwdXNoIiwic2hvd1JlcGxheSIsIm9uIiwib2JqIiwic2VuZE1lc3NhZ2UiLCJjaGF0bXNnIiwiZW1pdCIsImV2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyIiwiJHNjb3BlIiwiaW5pdEV2YWx1YXRpb24iLCJpZHByb2JsZW0iLCJnZXRldmFsdWF0aW9uIiwiZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QiLCJldmFsdWF0aW9uZnJhbWV3b3JrIiwiYW5ndWxhciIsImZvckVhY2giLCJvbmlvbmxheWVyIiwic3Rha2Vob2xkZXJzIiwic3Rha2Vob2xkZXIiLCJfaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJvcGVuRWRpdCIsInByb2JsZW1zIiwic29sdXRpb25zIiwic2F2ZURpc2N1dGlvbiIsInN0YWtlaG9sZGVyT25pb24iLCJzZXRPcGVuRWRpdERpc2N1dGlvbiIsImN1cnJlbnRTdGFrZWhvbGRlciIsInNlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlciIsImluaXRTZW1pb3RpY0ZyYW1ld29yayIsImdldHNlbWlvdGljIiwic2VtaW90aWNmcmFtZXdvcmsiLCJzYXZlU29jaWFsV29ybGQiLCJ0ZXh0IiwiZmxhZ1NhdmUiLCJ1cGRhdGUiLCJzYXZlUHJhZ21hdGljIiwic2F2ZVNlbWFudGljIiwic2F2ZVN5bnRhdGljIiwic2F2ZUVtcGlyaWNhbCIsInNhdmVQaHlzaWNhbCIsInNvY2lhbHdvcmxkIiwicHJhZ21hdGljIiwic2VtaW90aWNyYW1ld29yayIsInN5bnRhdGljIiwiZW1waXJpY2FsIiwicGh5c2ljYWwiLCJzdGFrZWhvbGRlckNvbnRyb2xsZXIiLCJpbnRpdE9uaW9uIiwiZ2V0b25pb24iLCJzdGFrZWhvbGRlckxpc3QiLCJtb3ZlIiwiZGFkYW9wZW5FZGl0IiwieCIsInkiLCJzYXZlU3Rha2Vob2xkZXIiLCJpZCIsInNldE9wZW5FZGl0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsInNwbGljZSIsInNldFZhbHVlIiwiZGVsUG9zdEl0IiwiaW5kZXgiLCJyZXRvcm5vIiwiYWRkUG9zdEl0IiwiZSIsImNhbWFkYSIsIm5ld1N0YWtlaG9sZGVyIiwicGFnZVgiLCJwYWdlWSIsImFjZW5kZSIsImV2dCIsInRhcmdldCIsInNldEF0dHJpYnV0ZSIsImFwYWdhIiwibW9kdWxlIiwiY29uZmlnIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsImNsb3NlVG9hc3QiLCJoaWRlIiwiZmFjdG9yeSIsIiRpbmplY3QiLCJyb3V0ZXMiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsInN0YXRlIiwidXJsIiwidmlld3MiLCJjb250ZW50LXRhYiIsInByb2JsZW0tZGVzY3JpcHRpb24iLCJkc2MtYXJ0aWZhY3QiLCJvdGhlcndpc2UiLCJjYXJmQ29udHJvbGxlciIsImluaXRDYXJmIiwiZ2V0Y2FyZiIsImxvY2FsU3Rha2Vob2xkZXJzIiwiY2FyZkxpc3QiLCJjYXJmIiwiY2FyZlByaW9yaXR5TGlzdCIsImxvY2FsUHJpb3JpdHlMaXN0IiwicmVzZXRDYXJmIiwicG1zIiwidmFsdWVzIiwicHJpb3JpdHkiLCJyZXF1aXJlbWVudCIsInZhbHVlTGlzdCIsImFkZHBtc3ZhbHVlIiwicmVtb3ZlQ0FSRiIsInNlbGVjdFBNU1ZhbHVlIiwidW5kZWZpbmVkIiwiY2FyZlBNU1ZhbHVlIiwicG1zX3ZhbHVlIiwic2V0UHJpb3RpdHkiLCJhZGRMaXN0VmFsdWUiLCJuZXd2YWx1ZSIsImFkZFN0YWtlaG9sZGVyIiwiY29udHJvbGxlckNvbGxhYm9yYXRvcnMiLCJzZWFyY2hDYWxsYWJvcmF0aW9uIiwiZW1haWwiLCJzZWxmIiwiY29sbGFib3JhdG9ycyIsInVzZXJlbWFpbCIsImluaXRDb2xsYWJvcmF0b3JzIiwiZ2V0Y29sbGFib3JhdG9ycyIsImFkZENvbGxhYm9yYXRvciIsImludml0ZSIsInJlbW92ZUNvbGxhYm9yYXRvciIsInBlb3BsZSIsInJlbW92ZWNvbGxhYm9yYXRvcnMiLCJtZW51UHJvYmxlbWFDb250cm9sbGVyIiwiQXV0aCIsIiRzdGF0ZSIsIiRtZFV0aWwiLCJidWlsZFRvZ2dsZXIiLCJuYXZJRCIsImRlYm91bmNlRm4iLCJkZWJvdW5jZSIsInRvZ2dsZSIsIm9wZW5DaGF0IiwiZm9ybUFkZENvbGxhYm9yYXRvcnMiLCJnbyIsImVkaXREZXNjcmlwdGlvblByb2JsZW0iLCJkb0xvZ291dCIsImxvZ291dCIsImVkaXRQcm9ibGVtYUNvbnRyb2xsZXIiLCJ1cGRhdGVUcnVlIiwicHJvYmxlbSIsInRhYnMiLCJnZXRDdXJyZW50UHJvYmxlbSIsImdldHByb2JsZW0iLCJzZXRVcGRhdGUiLCJwcm9ibGVtVXBkYXRlIiwic2F2ZURlc2NyaXB0aW9uIiwiJGluamVjdHJlIiwiJGh0dHAiLCIkbG9jYXRpb24iLCJuZXdwcm9ibGVtIiwicG9zdCIsIkFQSV9ST1VURV9ORVdQUk9CTEVNIiwiZ2V0IiwiQVBJX1JPVVRFX0dFVFBST0JMRU0iLCJnZXR1c2VycHJvYmxlbXMiLCJBUElfUk9VVEVfR0VUVVNFUlBST0JMRU1TIiwiQVBJX1JPVVRFX0dFVENPTExBQk9SQVRPUlMiLCJBUElfUk9VVEVfSU5WSVRFIiwiQVBJX1JPVVRFX0dFVE9OSU9OIiwiQVBJX1JPVVRFX0dFVEVWQUxVQVRJT04iLCJBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksiLCJBUElfUk9VVEVfR0VUQ0FSRiIsInJlbW92ZXByb2JsZW0iLCJBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSIsImdldHByb2JsZW1zY29sbGFib3JhdG9yIiwiQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiIsIkFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IiLCJBUElfUk9VVEVfR0VUSElTVE9SWUNIQVQiLCJzdGFydFByb2JsZW1Db250cm9sbGVyIiwiJG1kRGlhbG9nIiwicmVtb3ZlUHJvYmxlbSIsInByb2JsZW1pZCIsInByb2JsZW1MaXN0IiwiRGlhbG9nQ29udHJvbGxlciIsImNhbmNlbCIsImFkZE5ld1Byb2JsZW0iLCJzdGFydE5ld1Byb2JsZW0iLCJ1c2VyaWQiLCJwcm9ibGVtQ29sbGFib3JhdG9yTGlzdCIsImdldFByb2JsZW1zIiwicmVwbGFjZSIsInJldm9tdmVQcm9ibGVtIiwiZXYiLCJjb25maXJtIiwicGFyZW50IiwiZWxlbWVudCIsImJvZHkiLCJ0aXRsZSIsImNvbnRlbnQiLCJhcmlhTGFiZWwiLCJvayIsInRhcmdldEV2ZW50IiwiZWRpdFByb2JsZW0iLCJzZXRJdGVtIiwiaW5pdHNvY2tldHByb2JsZW0iLCJuZXdQcm9ibGVtIiwiaW5pdExhbmd1YWdlIiwiJHRyYW5zbGF0ZVByb3ZpZGVyIiwidXNlU3RhdGljRmlsZXNMb2FkZXIiLCJwcmVmaXgiLCJzdWZmaXgiLCJwcmVmZXJyZWRMYW5ndWFnZSIsInVzZVNhbml0aXplVmFsdWVTdHJhdGVneSIsInVzZUxvY2FsU3RvcmFnZSIsImxhbmd1YWdlQ29udHJvbGxlciIsIiR0cmFuc2xhdGUiLCJzZXRMYW5nIiwibGFuZ0tleSIsInVzZSIsImNoYW5nZUxhbmd1YWdlIiwicmVzdHJpY3QiLCJkaXJlY3RpdmUiLCJzaWdudXBDb250cm9sbGVyIiwic2lnbnVwU2VydmljZSIsIkF1dGhUb2tlbiIsIiRmaWx0ZXIiLCIkc3RhdGVQYXJhbXMiLCJzYXZlVXNlciIsInVzZXIiLCJjcmVhdGUiLCJzZXRUb2tlbiIsInRva2VuIiwiZ2V0VXNlciIsInJlc2N1ZVBhc3N3b3JkIiwidXNlckVtYWlsIiwiY2hhbmdlUGFzc3dvcmQiLCJzYXZlIiwiQVBJX1JPVVRFX1VTRVIiLCJBUElfUk9VVEVfUkVTQ1VFUEFTU1dPUkQiLCJteXRva2VuVVJMIiwic2VhcmNoIiwiQVBJX1JPVVRFX1NFVE5FV1BBU1NXT1JEIiwibXl0b2tlbiIsInBhc3N3b3JkIiwiYXBwQ29uZmlnIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJjdXN0b21HcmVlbk1hcCIsImV4dGVuZFBhbGV0dGUiLCJjb250cmFzdERlZmF1bHRDb2xvciIsImNvbnRyYXN0RGFya0NvbG9ycyIsIjUwIiwiZGVmaW5lUGFsZXR0ZSIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJkZWZhdWx0IiwiaHVlLTEiLCJhY2NlbnRQYWxldHRlIiwiJHEiLCJhdXRoRmFjdG9yeSIsImxvZ2luIiwiaXNMb2dnZWRJbiIsImdldFRva2VuIiwicmVqZWN0IiwiYXV0aFRva2VuRmFjdG9yeSIsInJlbW92ZUl0ZW0iLCJpbnRlcmNlcHRvckZhY3RvcnkiLCJyZXF1ZXN0IiwiaGVhZGVycyIsIiRkb2N1bWVudCIsImxpbmsiLCJzY29wZSIsImF0dHIiLCJtb3VzZW1vdmUiLCJldmVudCIsImlkX2RpdiIsImNzcyIsInRvcCIsImxlZnQiLCJtb3VzZXVwIiwidW5iaW5kIiwic3Vic3RyaW5nIiwicHJldmVudERlZmF1bHQiLCJiaW5kIiwibG9naW5Db250cm9sbGVyIiwiJHJvb3RTY29wZSIsImxvZ2dlZEluIiwiJG9uIiwiZG9Mb2dpbiIsInByb2Nlc3NpbmciLCJlcnJvciIsInNvY2tldCIsImlvIiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJyZW1vdmVMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkFBbUJBLFFBQUFBLFVBQUFDLEdBVUEsUUFBQUMsR0FBQUEsR0FDQUMsS0FBQUMsUUFBQUYsRUFDQUQsRUFBQUksTUFFQUMsV0FBQSxrQkFDQUMsYUFBQSxLQUNBQyxZQUFBLDRCQUNBQyxPQUFBLEtBQ0FDLGlCQUFBLEVBQ0FDLFNBQUEsV0FD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LFVBQ0FyUSxRQUFBLFNBQUFDLEdBQ0FoQixFQUFBWSxhQUFBZ08sUUFBQSxZQUFBNU4sRUFBQTBJLE9BQ0ExSixFQUFBWSxhQUFBZ08sUUFBQSxTQUFBNU4sRUFBQXdFLElBQ0F4RixFQUFBWSxhQUFBZ08sUUFBQSxXQUFBNU4sRUFBQVEsVUFDQXZCLEVBQUFpVSxZQUFBLEVBQ0E1SixFQUFBbUcsVUFDQW5RLEtBQUEsU0FBQVUsR0FDQWYsRUFBQW9RLEtBQUFyUCxFQUFBQSxLQUNBcEMsRUFBQUUsYUFBQW9SLEVBQUEsYUFBQSxrQkFBQSxLQUFBalEsRUFBQW9RLEtBQUE3TyxZQUVBUixFQUFBRCxRQUNBd0osRUFBQVMsR0FBQSxnQkFJQS9LLEVBQUFrVSxNQUFBblQsRUFBQWhDLFdBS0FpQixFQUFBaUwsU0FBQSxXQUVBWixFQUFBYSxTQUNBWixFQUFBLFNBM0NBMUgsUUFBQWlFLE9BQUEsT0FDQTVILFdBQUEsa0JBQUEyVSxHYjhnRFFBLEVBQWdCeE0sU0FBVyxhQUFjLFNBQVUsT0FBUSxVQUFXLFVBQVcsZWNsaER6RnhFLFFBQUFpRSxPQUFBLE9BQ0FySCxRQUFBLFVBQ0EsWUFBQSxXQUNBLFNBQUFzTSxFQUFBcE0sR0FFQVosS0FBQXFWLE9BQUFDLEtBSUF0VixLQUFBa0QsR0FBQSxTQUFBcVMsRUFBQUMsR0FDQXhWLEtBQUFxVixRQUNBclYsS0FBQXFWLE9BQUFuUyxHQUFBcVMsRUFBQSxTQUFBdFQsR0FDQXJCLEVBQUEsV0FDQTRVLEVBQUF2VCxRQUtBakMsS0FBQXNELEtBQUEsU0FBQWlTLEVBQUF0VCxHQUNBakMsS0FBQXFWLFFBQ0FyVixLQUFBcVYsT0FBQS9SLEtBQUFpUyxFQUFBdFQsSUFJQWpDLEtBQUF5VixlQUFBLFNBQUFGLEdBQ0F2VixLQUFBcVYsUUFDQXJWLEtBQUFxVixPQUFBSSxlQUFBRiIsImZpbGUiOiJhcHAuZHNjLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjcvMDYvMjAxNS5cclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCd0b2FzdFNlcnZpY2UnLFtdKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3RvYXN0Q29udHJvbGxlcicsIGZ1bmN0aW9uKCRtZFRvYXN0LHRvYXN0QXBwKSB7XHJcblxyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0ubWVzc2FnZSA9ICB0b2FzdEFwcC5tZXNzYWdlO1xyXG4gICAgICAgIHZtLmNsb3NlVG9hc3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJG1kVG9hc3QuaGlkZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSlcclxuICAgIC5mYWN0b3J5KCAndG9hc3RBcHAnLCB0b2FzdEFwcCApO1xyXG5cclxuICAgIHRvYXN0QXBwLiRpbmplY3QgPSBbICckbWRUb2FzdCcgXTtcclxuXHJcbiAgICBmdW5jdGlvbiB0b2FzdEFwcCAoJG1kVG9hc3QpIHtcclxuXHJcblxyXG4gICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgICAgbWVzc2FnZTogJycsXHJcbiAgICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2VcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHNlcnZpY2U7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVycm9yTWVzc2FnZShlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd0b2FzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2RzY3RvYXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJPS1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodEFjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJ0b3AgbGVmdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVEZWxheTogNTAwMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLypmdW5jdGlvbiBlcnJvck1lc3NhZ2UoZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAgICAgICAuY29udGVudCh0aGlzLm1lc3NhZ2UpLFxyXG4gICAgICAgICAgICAgICAgLmFjdGlvbignT0snKVxyXG4gICAgICAgICAgICAgICAgLmhpZ2hsaWdodEFjdGlvbih0cnVlKVxyXG4gICAgICAgICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgICAgICAgLmhpZGVEZWxheSg5MDAwKVxyXG4gICAgICAgICk7XHJcbiAgICB9Ki9cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTUvMDcvMjAxNS5cclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignY2hhdERTQycsY2hhdERTQyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY2hhdERTQygkdGltZW91dCwgU29ja2V0LCAkbWRTaWRlbmF2LCAkbG9nLHByb2JsZW1TZXJ2aWNlLCR3aW5kb3cpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLm5ld21zZyA9IFwiXCI7XHJcbiAgICAgICAgdm0ubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICB2bS5yZXBsYXkgPSBmYWxzZTtcclxuICAgICAgICB2bS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJG1kU2lkZW5hdignY2hhdCcpLmNsb3NlKClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmRlYnVnKFwiY2xvc2UgY2hhdFwiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZtLmluaXRIaXN0b3J5Q2hhdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpXHJcbiAgICAgICAgICAgIHZtLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRoaXN0b3J5Y2hhdCh2bS5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuaGlzdG9yeWNoYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaGlzdG9yeWNoYXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShkYXRhLmhpc3RvcnljaGF0W2ldLnRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1zbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuaWNrbmFtZTogZGF0YS5oaXN0b3J5Y2hhdFtpXS5uaWNrbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGRhdGEuaGlzdG9yeWNoYXRbaV0ubXNnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IHRtcC5nZXREYXRlKCkgKyBcIi9cIiArICh0bXAuZ2V0TW9udGgoKSArIDEgKSsgXCIvXCIgKyB0bXAuZ2V0RnVsbFllYXIoKSArIFwiIFtcIiArIHRtcC5nZXRIb3VycygpICsgXCI6XCIgKyB0bXAuZ2V0TWludXRlcygpICsgXCJdIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5tZXNzYWdlcy5wdXNoKG1zbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdm0uc2hvd1JlcGxheSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKHZtLnJlcGxheSl7XHJcbiAgICAgICAgICAgICAgICB2bS5yZXBsYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2bS5yZXBsYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0Q2hhdCcsIGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgRGF0ZShvYmpbb2JqLmxlbmd0aCAtMV0udGltZSk7XHJcbiAgICAgICAgICAgICAgICB2bS5tZXNzYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBuaWNrbmFtZTogb2JqW29iai5sZW5ndGggLTFdLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIG1zZzogb2JqW29iai5sZW5ndGggLTFdLm1zZyxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lOiB0bXAuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodG1wLmdldE1vbnRoKCkgKyAxKSArIFwiL1wiICsgdG1wLmdldEZ1bGxZZWFyKCkgKyBcIiBbXCIgKyB0bXAuZ2V0SG91cnMoKSArIFwiOlwiICsgdG1wLmdldE1pbnV0ZXMoKSArIFwiXSBcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZtLnNlbmRNZXNzYWdlID0gZnVuY3Rpb24oY2hhdG1zZyl7XHJcbiAgICAgICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0Q2hhdCcsIGNoYXRtc2cpO1xyXG4gICAgICAgICAgICB2bS5uZXdtc2cgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyOS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ2V2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyJyxldmFsdWF0aW9uZnJhbWV3b3JrQ29udHJvbGxlcik7XHJcblxyXG5cclxuXHJcblxyXG4gIGZ1bmN0aW9uIGV2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyICgkd2luZG93LHByb2JsZW1TZXJ2aWNlLFNvY2tldCwkc2NvcGUpe1xyXG5cclxuICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgdm0uZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QgPVtdO1xyXG4gICAgICB2bS5pbml0RXZhbHVhdGlvbiA9IGluaXRFdmFsdWF0aW9uO1xyXG5cclxuICAgICAgZnVuY3Rpb24gaW5pdEV2YWx1YXRpb24oKXtcclxuICAgICAgICAgIHZtLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRldmFsdWF0aW9uKHZtLmlkcHJvYmxlbSlcclxuICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdm0uZXZhbHVhdGlvbmZyYW1ld29ya0xpc3QgPSBkYXRhLmV2YWx1YXRpb25mcmFtZXdvcms7XHJcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICB9O1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RGcmFtZVNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLmV2YWx1YXRpb25mcmFtZXdvcmtMaXN0LGZ1bmN0aW9uKGV2YWx1YXRpb25mcmFtZXdvcmspe1xyXG4gICAgICAgICAgICAgaWYoIGV2YWx1YXRpb25mcmFtZXdvcmsub25pb25sYXllciA9PSBkYXRhLm9uaW9ubGF5ZXIpe1xyXG4gICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChldmFsdWF0aW9uZnJhbWV3b3JrLnN0YWtlaG9sZGVycyxmdW5jdGlvbihzdGFrZWhvbGRlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFrZWhvbGRlci5faWQgPT0gZGF0YS5faWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIubmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9uaW9ubGF5ZXIgPSBkYXRhLm9uaW9ubGF5ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5vcGVuRWRpdCA9IGRhdGEub3BlbkVkaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5wcm9ibGVtcyA9IGRhdGEucHJvYmxlbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci5zb2x1dGlvbnMgPSBkYXRhLnNvbHV0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICRzY29wZS5zYXZlRGlzY3V0aW9uID0gZnVuY3Rpb24oc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RGcmFtZVNhdmUnLCBzdGFrZWhvbGRlcik7XHJcbiAgICAgIH07XHJcblxyXG5cclxuICAgICAgU29ja2V0Lm9uKCdvblVwZGF0ZVN0YWtlaG9sZGVyJywgZnVuY3Rpb24gKHN0YWtlaG9sZGVyT25pb24pIHtcclxuICAgICAgICAgY29uc29sZS5sb2coc3Rha2Vob2xkZXJPbmlvbik7XHJcblxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICRzY29wZS5zZXRPcGVuRWRpdERpc2N1dGlvbiA9IGZ1bmN0aW9uKGN1cnJlbnRTdGFrZWhvbGRlcil7XHJcbiAgICAgICAgICBjdXJyZW50U3Rha2Vob2xkZXIub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgICB9O1xyXG4gIH1cclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjkvMDYvMjAxNS5cclxuICovXHJcblxyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyJyxzZW1pb3RpY2ZyYW1ld29ya0NvbnRyb2xsZXIpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHNlbWlvdGljZnJhbWV3b3JrQ29udHJvbGxlcihTb2NrZXQsJHdpbmRvdywgcHJvYmxlbVNlcnZpY2Upe1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIHZtLmlkcHJvYmxlbSA9IFwiXCI7XHJcbiAgICB2bS5zYXZlU29jaWFsV29ybGQgPSBzYXZlU29jaWFsV29ybGQ7XHJcbiAgICB2bS5zYXZlUHJhZ21hdGljID0gc2F2ZVByYWdtYXRpYztcclxuICAgIHZtLnNhdmVTZW1hbnRpYyA9IHNhdmVTZW1hbnRpYztcclxuICAgIHZtLnNhdmVTeW50YXRpYyA9IHNhdmVTeW50YXRpYztcclxuICAgIHZtLnNhdmVFbXBpcmljYWwgPSBzYXZlRW1waXJpY2FsO1xyXG4gICAgdm0uc2F2ZVBoeXNpY2FsID0gc2F2ZVBoeXNpY2FsO1xyXG4gICAgdm0uc2VtaW90aWNmcmFtZXdvcmsgPSBcIlwiO1xyXG4gICAgdm0uaW5pdFNlbWlvdGljRnJhbWV3b3JrID0gaW5pdFNlbWlvdGljRnJhbWV3b3JrO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRTZW1pb3RpY0ZyYW1ld29yaygpe1xyXG4gICAgICAgIHZtLmlkcHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG5cclxuICAgICAgICBwcm9ibGVtU2VydmljZS5nZXRzZW1pb3RpYyh2bS5pZHByb2JsZW0pXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLnNlbWlvdGljZnJhbWV3b3JrID0gZGF0YS5zZW1pb3RpY2ZyYW1ld29yaztcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlU29jaWFsV29ybGQnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHZtLnNlbWlvdGljZnJhbWV3b3JrLnNvY2lhbHdvcmxkID0gdGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVTb2NpYWxXb3JsZCh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlU29jaWFsV29ybGQnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVQcmFnbWF0aWMnLCBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHZtLnNlbWlvdGljZnJhbWV3b3JrLnByYWdtYXRpYyA9IHRleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlUHJhZ21hdGljKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVQcmFnbWF0aWMnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVTZW1hbnRpYycsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdm0uc2VtaW90aWNmcmFtZXdvcmsuc2VtaW90aWNyYW1ld29yayA9IHRleHQ7XHJcbiAgICB9KTtcclxuICAgIGZ1bmN0aW9uIHNhdmVTZW1hbnRpYyh0ZXh0LGZsYWdTYXZlKXtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGZsYWdTYXZlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTb2NrZXQuZW1pdCgndXBkYXRlU2VtYW50aWMnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVTeW50YXRpYycsIGZ1bmN0aW9uICh0ZXh0LGZsYWdTYXZlKSB7XHJcbiAgICAgICAgdm0uc2VtaW90aWNmcmFtZXdvcmsuc3ludGF0aWMgPSB0ZXh0O1xyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiBzYXZlU3ludGF0aWModGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVN5bnRhdGljJywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBTb2NrZXQub24oJ29uVXBkYXRlRW1waXJpY2FsJywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB2bS5zZW1pb3RpY2ZyYW1ld29yay5lbXBpcmljYWwgPSB0ZXh0O1xyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiBzYXZlRW1waXJpY2FsKHRleHQsZmxhZ1NhdmUpe1xyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZmxhZ1NhdmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCd1cGRhdGVFbXBpcmljYWwnLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25VcGRhdGVQaHlzaWNhbCcsIGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdm0uc2VtaW90aWNmcmFtZXdvcmsucGh5c2ljYWwgPSB0ZXh0O1xyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiBzYXZlUGh5c2ljYWwodGV4dCxmbGFnU2F2ZSl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgdXBkYXRlOiBmbGFnU2F2ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ3VwZGF0ZVBoeXNpY2FsJywgb2JqKTtcclxuICAgIH1cclxufSIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjkvMDYvMjAxNS5cclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3N0YWtlaG9sZGVyQ29udHJvbGxlcicsc3Rha2Vob2xkZXJDb250cm9sbGVyKTtcclxuXHJcblxyXG5mdW5jdGlvbiBzdGFrZWhvbGRlckNvbnRyb2xsZXIoU29ja2V0LCRzY29wZSwkd2luZG93LHByb2JsZW1TZXJ2aWNlKXtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICB2bS5pZHByb2JsZW0gPSBcIlwiO1xyXG4gICAgdm0uc3Rha2Vob2xkZXJMaXN0ID0gW107XHJcbiAgICB2bS5zdGFrZWhvbGRlciA9IFwiXCI7XHJcbiAgICB2bS5pbnRpdE9uaW9uID0gaW50aXRPbmlvbjtcclxuICAgIHZtLm1vdmUgPSBmYWxzZTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbnRpdE9uaW9uKCl7XHJcbiAgICAgICAgdm0uaWRwcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0b25pb24odm0uaWRwcm9ibGVtKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2bS5zdGFrZWhvbGRlckxpc3QgPSBkYXRhLnN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvblNhdmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLnN0YWtlaG9sZGVyTGlzdCwgZnVuY3Rpb24gKHN0YWtlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFrZWhvbGRlci5faWQgPT0gZGF0YS5faWQpe1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIuc3Rha2Vob2xkZXIgPSBkYXRhLnN0YWtlaG9sZGVyO1xyXG4gICAgICAgICAgICAgICAgc3Rha2Vob2xkZXIubmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLm9wZW5FZGl0ID0gZGF0YS5kYWRhb3BlbkVkaXRcclxuICAgICAgICAgICAgICAgIHN0YWtlaG9sZGVyLnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlci55ID0gZGF0YS55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgICRzY29wZS5zYXZlU3Rha2Vob2xkZXIgPSBmdW5jdGlvbihzdGFrZWhvbGRlcikge1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblNhdmUnLCBzdGFrZWhvbGRlcik7XHJcbiAgICB9O1xyXG5cclxuICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RPbmlvbkVkaXQnLCBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2godm0uc3Rha2Vob2xkZXJMaXN0LCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgaWYgKHN0YWtlaG9sZGVyLl9pZCA9PSBpZCkgc3Rha2Vob2xkZXIub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICRzY29wZS5zZXRPcGVuRWRpdCA9IGZ1bmN0aW9uKGlkKXtcclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25FZGl0JywgaWQpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uUmVtb3ZlJywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgdmFyIHN0YWtlaG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGFrZWhvbGRlclwiICt2bS5zdGFrZWhvbGRlckxpc3RbaWRdLl9pZCk7XHJcbiAgICAgICAgc3Rha2Vob2xkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB2bS5zdGFrZWhvbGRlckxpc3Quc3BsaWNlKGlkLDEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJHNjb3BlLnNldFZhbHVlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNoYW1hbmRvIHBhcmEgdHJvY2FyIHBhcmEgdHJ1ZS4uLi5cIilcclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUuZGVsUG9zdEl0ID0gZnVuY3Rpb24oaW5kZXgsc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgIHN0YWtlaG9sZGVyOiBzdGFrZWhvbGRlclxyXG4gICAgICAgIH1cclxuICAgICAgICBTb2NrZXQuZW1pdCgnYnJvYWRjYXN0T25pb25SZW1vdmUnLCBvYmopO1xyXG4gICAgfTtcclxuXHJcbiAgICBTb2NrZXQub24oJ29uQnJvYWRjYXN0T25pb25BZGQnLCBmdW5jdGlvbiAocmV0b3Jubykge1xyXG4gICAgICAgIHZtLnN0YWtlaG9sZGVyTGlzdC5wdXNoKHJldG9ybm8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJHNjb3BlLmFkZFBvc3RJdCA9IGZ1bmN0aW9uKGUsY2FtYWRhKSB7XHJcbiAgICAgICAgdmFyIGlkID0gdm0uc3Rha2Vob2xkZXJMaXN0Lmxlbmd0aCArIDE7XHJcbiAgICAgICAgdmFyIG5ld1N0YWtlaG9sZGVyID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiX2lkXCI6aWQsXHJcbiAgICAgICAgICAgIFwib25pb25sYXllclwiOiBjYW1hZGEsXHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXHJcbiAgICAgICAgICAgIFwib3BlbkVkaXRcIjogdHJ1ZSxcclxuICAgICAgICAgICAgXCJ4XCI6IGUucGFnZVggKyAncHgnLFxyXG4gICAgICAgICAgICBcInlcIjogZS5wYWdlWSArICdweCdcclxuICAgICAgICB9XHJcbiAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdE9uaW9uQWRkJywgbmV3U3Rha2Vob2xkZXIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5hY2VuZGUgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBldnQudGFyZ2V0LnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIiwgXCIwLjhcIik7XHJcbiAgICB9XHJcbiAgICB2bS5hcGFnYSA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIGV2dC50YXJnZXQuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLCBcIjEuMFwiKTtcclxuICAgIH1cclxuXHJcbn0iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI1LzA2LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnLFsndG9hc3RTZXJ2aWNlJywndGV4dEFuZ3VsYXInLCdsdWVnZy5kaXJlY3RpdmVzJywgJ0Ryb3BEU0MnLCdhdXRoU2VydmljZScsJ3VpLnJvdXRlcicsJ25nTWF0ZXJpYWwnLCduZ01kSWNvbnMnLCduZ0Nvb2tpZXMnLCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXHJcbiAgICAgICAgLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhJbnRlcmNlcHRvcicpO1xyXG4gICAgICAgIH0pXHJcblxyXG59KSgpO1xyXG5cclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjUvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhyb3V0ZXMpO1xyXG5cclxuZnVuY3Rpb24gcm91dGVzKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuXHJcbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnaW5pdCcsIHtcclxuICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2luaXRwYWdlLmh0bWwnLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3RhdGUoJ2luaXQubG9naW4nLCB7XHJcbiAgICAgICAgICAgIHVybDogJ2xvZ2luJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3VzZXJsb2dpbi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbG9naW5Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3RhdGUoJ2luaXQuc2lnbnVwJywge1xyXG4gICAgICAgICAgICB1cmw6ICdzaWdudXAnLFxyXG4gICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQtdGFiJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc2lnbnVwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3RhdGUoJ2luaXQucmVzY3VlcGFzc3dvcmQnLCB7XHJcbiAgICAgICAgICAgIHVybDogJ3Jlc2N1ZXBhc3N3b3JkJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdjb250ZW50LXRhYic6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3Jlc2N1ZXBhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3RhdGUoJ3N0YXJ0cHJvYmxlbScsIHtcclxuICAgICAgICAgICAgdXJsOiAnL3N0YXJ0cHJvYmxlbScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc3RhcnRwcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnc3RhcnRQcm9ibGVtQ29udHJvbGxlciBhcyB2bSdcclxuXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCduZXdwYXNzd29yZCcsIHtcclxuXHJcbiAgICAgICAgICAgIHVybDogJy9uZXdwYXNzd29yZC86bXl0b2tlbicsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvbmV3cGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyIGFzIHZtJyxcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ3Byb2JsZW0nLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9wcm9ibGVtJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9ibGVtLmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnbWVudVByb2JsZW1Db250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmRlc2NyaXB0aW9uJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvZGVzY3JpcHRpb24nLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ3Byb2JsZW0tZGVzY3JpcHRpb24nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9wcm9ibGVtZGVzY3JpcHRpb24uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2VkaXRQcm9ibGVtQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0YXRlKCdwcm9ibGVtLmNvbGxhYm9yYXRvcnMnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9jb2xsYWJvcmF0b3JzJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdwcm9ibGVtLWRlc2NyaXB0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvY29sbGFib3JhdG9ycy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY29udHJvbGxlckNvbGxhYm9yYXRvcnMgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdGF0ZSgncHJvYmxlbS5zdGFrZWhvbGRlcnMnLCB7XHJcbiAgICAgICAgICAgIHVybDogJ3N0YWtlaG9sZGVycycsXHJcbiAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvc3Rha2Vob2xkZXJzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzdGFrZWhvbGRlckNvbnRyb2xsZXIgYXMgdm0nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdGF0ZSgncHJvYmxlbS5ldmFsdWF0aW9uZnJhbWV3b3JrJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnZXZhbHVhdGlvbmZyYW1ld29yaycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdkc2MtYXJ0aWZhY3QnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvZXZhbHVhdGlvbmZyYW1ld29yay5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V2YWx1YXRpb25mcmFtZXdvcmtDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdwcm9ibGVtLnNlbWlvdGljZnJhbWV3b3JrJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnc2VtaW90aWNmcmFtZXdvcmsnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL3NlbWlvdGljZnJhbWV3b3JrLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2VtaW90aWNmcmFtZXdvcmtDb250cm9sbGVyIGFzIHZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAuc3RhdGUoJ3Byb2JsZW0uY2FyZicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ2NhcmYnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnZHNjLWFydGlmYWN0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL2NhcmYuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjYXJmQ29udHJvbGxlciBhcyB2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2xvZ2luJyk7XHJcbn1cclxuXHJcbn0pKCk7IixudWxsLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDE0LzA3LzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKFwiY2FyZkNvbnRyb2xsZXJcIixjYXJmQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gY2FyZkNvbnRyb2xsZXIoJHdpbmRvdyxTb2NrZXQscHJvYmxlbVNlcnZpY2UsdG9hc3RBcHApe1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0uaWRQcm9ibGVtID0gXCJcIixcclxuICAgICAgICB2bS52YWx1ZUxpc3QgPSBbXTtcclxuICAgICAgICB2bS5zdGFrZWhvbGRlckxpc3QgPSBbXTtcclxuICAgICAgICB2bS5sb2NhbFN0YWtlaG9sZGVycyA9IFtdO1xyXG4gICAgICAgIHZtLmNhcmYgPSB7XHJcbiAgICAgICAgICAgIHBtczogXCJcIixcclxuICAgICAgICAgICAgdmFsdWVzOiBbXSxcclxuICAgICAgICAgICAgcHJpb3JpdHk6IFwiXCIsXHJcbiAgICAgICAgICAgIHJlcXVpcmVtZW50OiBcIlwiLFxyXG4gICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgdm0uaW5pdENhcmYgPSBpbml0Q2FyZjtcclxuICAgICAgICB2bS5jYXJmTGlzdCA9IFtdO1xyXG4gICAgICAgIHZtLmNhcmZQcmlvcml0eUxpc3QgPSBbXTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdENhcmYoKXtcclxuICAgICAgICAgICAgdm0uaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGNhcmYodm0uaWRQcm9ibGVtKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5sb2NhbFN0YWtlaG9sZGVycyA9IGRhdGEuc3Rha2Vob2xkZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5zdGFrZWhvbGRlckxpc3QgPSB2bS5sb2NhbFN0YWtlaG9sZGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0uY2FyZkxpc3QgPSBkYXRhLmNhcmY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNhcmZQcmlvcml0eUxpc3QgPSB2bS5sb2NhbFByaW9yaXR5TGlzdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0Q2FyZigpe1xyXG4gICAgICAgICAgICB2bS5jYXJmID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgcG1zOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzOiBbXSxcclxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZW1lbnQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBzdGFrZWhvbGRlcnM6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZtLnZhbHVlTGlzdCA9IFtdO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgU29ja2V0Lm9uKCdvbkJyb2FkY2FzdENBUkZhZGQnLCBmdW5jdGlvbiAoY2FyZikge1xyXG4gICAgICAgICAgICB2bS5jYXJmTGlzdC5wdXNoKGNhcmYpO1xyXG4gICAgICAgICAgICByZXNldENhcmYoKTtcclxuICAgICAgICAgICAgdm0uc3Rha2Vob2xkZXJMaXN0ID0gdm0ubG9jYWxTdGFrZWhvbGRlcnM7XHJcbiAgICAgICAgICAgIHZtLmNhcmZQcmlvcml0eUxpc3QgPSB2bS5sb2NhbFByaW9yaXR5TGlzdDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdm0uYWRkcG1zdmFsdWUgPSBmdW5jdGlvbihjYXJmKXtcclxuXHJcbiAgICAgICAgICAgIGlmKGNhcmYucG1zID09IFwiXCIpe1xyXG4gICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IFBNU1wiKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBpZihjYXJmLnZhbHVlcy5sZW5ndGggPCAxICl7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VsZWN0IG9uZSBvciBtb3JlIFZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FyZi5zdGFrZWhvbGRlcnMubGVuZ3RoIDwgMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBvbmUgb3IgbW9yZSBTdGFrZWhvbGRlcihzKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FyZi5wcmlvcml0eSA9PSBcIlwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShcIlNlbGVjdCBwcmlvcml0eSBbTG93LCBNZWRpdW0gb3IgSGlnaF1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU29ja2V0LmVtaXQoJ2Jyb2FkY2FzdENBUkZhZGQnLCBjYXJmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLnN0YWtlaG9sZGVyTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uY2FyZlByaW9yaXR5TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIFNvY2tldC5vbignb25Ccm9hZGNhc3RDQVJGcmVtb3ZlJywgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgIHZtLmNhcmZMaXN0LnNwbGljZShpZCwxKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdm0ucmVtb3ZlQ0FSRiA9IGZ1bmN0aW9uKGluZGV4LGNhcmYpe1xyXG4gICAgICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgY2FyZjogY2FyZlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFNvY2tldC5lbWl0KCdicm9hZGNhc3RDQVJGcmVtb3ZlJywgb2JqKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2bS5zZWxlY3RQTVNWYWx1ZSA9IGZ1bmN0aW9uKHBtcyl7XHJcbiAgICAgICAgICAgIGlmKHBtcyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5jYXJmUE1TVmFsdWUsIGZ1bmN0aW9uIChwbXNfdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG1zX3ZhbHVlLnBtcyA9PSBwbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0uY2FyZi52YWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0udmFsdWVMaXN0ID0gcG1zX3ZhbHVlLnZhbHVlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2bS5zZXRQcmlvdGl0eSA9IGZ1bmN0aW9uKHByaW9yaXR5KXtcclxuICAgICAgICAgICAgdm0uY2FyZi5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdm0uYWRkTGlzdFZhbHVlID0gZnVuY3Rpb24obmV3dmFsdWUpe1xyXG4gICAgICAgICAgIGlmKHZtLmNhcmYudmFsdWVzLmxlbmd0aCA9PSAwKXtcclxuICAgICAgICAgICAgICAgIHZtLmNhcmYudmFsdWVzLnB1c2gobmV3dmFsdWUpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uY2FyZi52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgIGlmIChuZXd2YWx1ZSA9PSB2bS5jYXJmLnZhbHVlc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHZtLmNhcmYudmFsdWVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgdm0uY2FyZi52YWx1ZXMucHVzaChuZXd2YWx1ZSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZtLmFkZFN0YWtlaG9sZGVyID0gZnVuY3Rpb24obmV3U3Rha2Vob2xkZXIpe1xyXG4gICAgICAgICAgICBpZih2bS5jYXJmLnN0YWtlaG9sZGVycy5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgICAgICB2bS5jYXJmLnN0YWtlaG9sZGVycy5wdXNoKG5ld1N0YWtlaG9sZGVyKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHZtLmNhcmYuc3Rha2Vob2xkZXJzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihuZXdTdGFrZWhvbGRlciA9PSB2bS5jYXJmLnN0YWtlaG9sZGVyc1tpXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNhcmYuc3Rha2Vob2xkZXJzLnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdm0uY2FyZi5zdGFrZWhvbGRlcnMucHVzaChuZXdTdGFrZWhvbGRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2bS5sb2NhbFByaW9yaXR5TGlzdCA9IFsnTG93JywgJ01lZGl1bScsJ0hpZ2gnXTtcclxuXHJcbiAgICAgICAgdm0uY2FyZlBNU1ZhbHVlID0gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiSW50ZXJhY3Rpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSWRlbnRpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJOb3Jtc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIkFzc29jaWF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnZlcnNhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkdyb3Vwc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlJlbGF0aW9uc2hpcFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlRydXN0XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiTGVhcm5pbmdcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTWV0YS1jb21tdW5pY2F0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiUGxheVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBZXN0aGV0aWNzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRW1vdGlvbiBhbmQgQWZmZWN0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiUHJvdGVjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJbmZvcm1lZCBjb25zZXJ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVwdXRhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNlY3VyaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiRXhwbG9pdGF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkFjY2Vzc2liaWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJPYmplY3RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQcm9wZXJ0eSAob3duZXJzaGlwKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlVzYWJpbGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcInBtc1wiOiBcIlRlcG9yYWxpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQXZhaWxhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQXdhcmVuZXNzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJlc2VuY2VcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJUZXJyaXRvcmlhbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQb3J0YWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlByaXZhY3lcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTY2FsYWJpbGl0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlZpc2liaWxpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwbXNcIjogXCJDbGFzc2lmaWNhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBdXRvbm9teVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbGxhYm9yYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTaGFyaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQWRhcHRhYmlsaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicG1zXCI6IFwiU3Vic2lzdGVuY2VcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVjaXByb2NpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgfVxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDEwLzA3LzIwMTUuXHJcbiAqL1xyXG5cclxuXHJcbihmdW5jdGlvbigpe1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignY29udHJvbGxlckNvbGxhYm9yYXRvcnMnLCBjb250cm9sbGVyQ29sbGFib3JhdG9ycyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlckNvbGxhYm9yYXRvcnMoJHdpbmRvdyxwcm9ibGVtU2VydmljZSx0b2FzdEFwcCl7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmlkUHJvYmxlbSA9IFwiXCI7XHJcbiAgICAgICAgc2VsZi5jb2xsYWJvcmF0b3JzID0gW107XHJcbiAgICAgICAgc2VsZi51c2VyZW1haWwgPSBcIlwiO1xyXG5cclxuXHJcbiAgICAgICAgc2VsZi5pbml0Q29sbGFib3JhdG9ycyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHNlbGYuaWRQcm9ibGVtID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvYmxlbWlkJyk7XHJcbiAgICAgICAgICAgIHNlbGYudXNlcmVtYWlsID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmVtYWlsJyk7XHJcbiAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldGNvbGxhYm9yYXRvcnMoc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29sbGFib3JhdG9ycyA9IGRhdGEuY29sbGFib3JhdG9ycztcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZWFyY2hDYWxsYWJvcmF0aW9uKGVtYWlsKXtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHNlbGYuY29sbGFib3JhdG9ycy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZihlbWFpbCA9PSBzZWxmLmNvbGxhYm9yYXRvcnNbaV0uZW1haWwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmFkZENvbGxhYm9yYXRvciA9IGZ1bmN0aW9uKGVtYWlsKXtcclxuICAgICAgICAgICAgaWYoc2VsZi51c2VyZW1haWwgPT0gZW1haWwpe1xyXG4gICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKHNlbGYudXNlcmVtYWlsICsgXCIgaXMgZW1haWwgb2Ygb3duZXIuXCIpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VhcmNoQ2FsbGFib3JhdGlvbihlbWFpbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJVc3VhcmlvIENhZGFzdHJhZG8uXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW52aXRlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZHByb2JsZW06IHNlbGYuaWRQcm9ibGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLmludml0ZShpbnZpdGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb2xsYWJvcmF0b3JzID0gZGF0YS5jb2xsYWJvcmF0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5yZW1vdmVDb2xsYWJvcmF0b3IgPSBmdW5jdGlvbihwZW9wbGUpe1xyXG4gICAgICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgaWRwcm9ibGVtOiBzZWxmLmlkUHJvYmxlbSxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiBwZW9wbGUuZW1haWxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICBwcm9ibGVtU2VydmljZS5yZW1vdmVjb2xsYWJvcmF0b3JzKG9iailcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiQ29sYWJvcmFkb3IgZm9pIHJlbW92aWRvIGRvIHByb2pldG8uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbGxhYm9yYXRvcnMgPSBkYXRhLmNvbGxhYm9yYXRvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDI4LzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuXHJcblxyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignbWVudVByb2JsZW1Db250cm9sbGVyJywgbWVudVByb2JsZW1hQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gbWVudVByb2JsZW1hQ29udHJvbGxlcihBdXRoLCAkdGltZW91dCwgJHN0YXRlLCAkbWRTaWRlbmF2ICwkbWRVdGlsLCRsb2cpe1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5vcGVuQ2hhdCA9IGJ1aWxkVG9nZ2xlcignY2hhdCcpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJ1aWxkIGhhbmRsZXIgdG8gb3Blbi9jbG9zZSBhIFNpZGVOYXY7IHdoZW4gYW5pbWF0aW9uIGZpbmlzaGVzXHJcbiAgICAgICAgICogcmVwb3J0IGNvbXBsZXRpb24gaW4gY29uc29sZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkVG9nZ2xlcihuYXZJRCkge1xyXG4gICAgICAgICAgICB2YXIgZGVib3VuY2VGbiA9ICAkbWRVdGlsLmRlYm91bmNlKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkbWRTaWRlbmF2KG5hdklEKVxyXG4gICAgICAgICAgICAgICAgICAgIC50b2dnbGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGxvZy5kZWJ1ZyhcInRvZ2dsZSBcIiArIG5hdklEICsgXCIgaXMgZG9uZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwzMDApO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVib3VuY2VGbjtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgc2VsZi5mb3JtQWRkQ29sbGFib3JhdG9ycyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdwcm9ibGVtLmNvbGxhYm9yYXRvcnMnKTtcclxuICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5lZGl0RGVzY3JpcHRpb25Qcm9ibGVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRzdGF0ZS5nbygncHJvYmxlbS5kZXNjcmlwdGlvbicpO1xyXG4gICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5kb0xvZ291dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICRzdGF0ZS5nbygnaW5pdC5sb2dpbicpO1xyXG4gICAgfTtcclxuICAgIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XHJcblxyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdlZGl0UHJvYmxlbUNvbnRyb2xsZXInLGVkaXRQcm9ibGVtYUNvbnRyb2xsZXIpO1xyXG5lZGl0UHJvYmxlbWFDb250cm9sbGVyLiRpbmplY3RyZSA9IFsnJHNjb3BlJywnU29ja2V0J107XHJcblxyXG5mdW5jdGlvbiBlZGl0UHJvYmxlbWFDb250cm9sbGVyKCRzY29wZSwgU29ja2V0LCAkdGltZW91dCx0b2FzdEFwcCwkd2luZG93LHByb2JsZW1TZXJ2aWNlKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgdXBkYXRlVHJ1ZSA9IHRydWU7XHJcbiAgICBzZWxmLnByb2JsZW0gPSBcIlwiO1xyXG5cclxuICAgIHNlbGYudGFicyA9IFsncHJvYmxlbS5zdGFrZWhvbGRlcnMnLCdwcm9ibGVtLmV2YWx1YXRpb25mcmFtZXdvcmsnLCdwcm9ibGVtLnNlbWlvdGljZnJhbWV3b3JrJywncHJvYmxlbS5jYXJmJ107XHJcblxyXG5cclxuXHJcbiAgICBzZWxmLmdldEN1cnJlbnRQcm9ibGVtID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBzZWxmLmlkUHJvYmxlbSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2JsZW1pZCcpO1xyXG4gICAgICAgIHByb2JsZW1TZXJ2aWNlLmdldHByb2JsZW0oc2VsZi5pZFByb2JsZW0pXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucHJvYmxlbSA9IGRhdGEucHJvYmxlbTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgc2V0VXBkYXRlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB1cGRhdGVUcnVlID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgU29ja2V0Lm9uKCdvbkF0dWFsaXphclByb2JsZW1hJywgZnVuY3Rpb24gKHJldG9ybm8pIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1yZXRvcm5vLi4uLlwiICsgcmV0b3Jubyk7XHJcbiAgICAgICAgc2VsZi5wcm9ibGVtLmRlc2NyaXB0aW9uID0gcmV0b3Juby5kZXNjcmlwdGlvbjtcclxuICAgICAgICBzZWxmLnByb2JsZW0udXBkYXRlID0gdXBkYXRlVHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgICRzY29wZS5wcm9ibGVtVXBkYXRlID0gZnVuY3Rpb24gKHByb2JsZW0pIHtcclxuICAgICAgICBwcm9ibGVtLnVwZGF0ZSA9IHVwZGF0ZVRydWU7XHJcblxyXG4gICAgICAgIFNvY2tldC5lbWl0KCdhdHVhbGl6YXJQcm9ibGVtYScsIHByb2JsZW0pO1xyXG4gICAgICAgIGlmICh1cGRhdGVUcnVlKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRydWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHRpbWVvdXQoc2V0VXBkYXRlLCAyMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5zYXZlRGVzY3JpcHRpb24gPSBmdW5jdGlvbiAocHJvYmxlbSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cIik7XHJcbiAgICAgICAgcHJvYmxlbS51cGRhdGUgPSB1cGRhdGVUcnVlO1xyXG4gICAgICAgIFNvY2tldC5lbWl0KCdhdHVhbGl6YXJQcm9ibGVtYScsIHByb2JsZW0pO1xyXG4gICAgfTtcclxuXHJcbn1cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ3Byb2JsZW1TZXJ2aWNlJywgcHJvYmxlbVNlcnZpY2UpO1xyXG5cclxuICBwcm9ibGVtU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsJyRsb2NhdGlvbiddO1xyXG5cclxuICBmdW5jdGlvbiBwcm9ibGVtU2VydmljZSgkaHR0cCwkbG9jYXRpb24pIHtcclxuXHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNUyA9ICcvYXBpL3Byb2JsZW0vZ2V0cHJvYmxlbXMnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRVU0VSUFJPQkxFTVNDT0xMQUJPUkFUT1IgPSAnL2FwaS9wcm9ibGVtL2dldHByb2JsZW1zY29sbGFib3JhdG9yJztcclxuICAgIHZhciBBUElfUk9VVEVfTkVXUFJPQkxFTSA9ICcvYXBpL3Byb2JsZW0vbmV3cHJvYmxlbSc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVFBST0JMRU0gPSAnL2FwaS9wcm9ibGVtL2dldHByb2JsZW0nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRDT0xMQUJPUkFUT1JTID0gJy9hcGkvcHJvYmxlbS9nZXRjb2xsYWJvcmF0b3JzJztcclxuICAgIHZhciBBUElfUk9VVEVfSU5WSVRFID0gJy9hcGkvcHJvYmxlbS9pbnZpdGUnO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRPTklPTiA9ICcvYXBpL3Byb2JsZW0vZ2V0b25pb24nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9HRVRFVkFMVUFUSU9OID0gJy9hcGkvcHJvYmxlbS9nZXRldmFsdWF0aW9uJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUU0VNSU9USUNGUkFNRVdPUksgPSAnL2FwaS9wcm9ibGVtL2dldHNlbWlvdGljJztcclxuICAgIHZhciBBUElfUk9VVEVfR0VUQ0FSRiA9ICcvYXBpL3Byb2JsZW0vZ2V0Y2FyZic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1JFTU9WRVBST0JMRU0gPSAnL2FwaS9wcm9ibGVtL3JlbW92ZXByb2JsZW0nO1xyXG4gICAgdmFyIEFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IgPSAnL2FwaS9wcm9ibGVtL3JlbW92ZWNvbGxhYm9yYXRvcic7XHJcbiAgICB2YXIgQVBJX1JPVVRFX0dFVEhJU1RPUllDSEFUID0gJy9hcGkvcHJvYmxlbS9oaXN0b3J5Y2hhdCc7XHJcblxyXG4gICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgIG5ld3Byb2JsZW0gICAgICAgOiBuZXdwcm9ibGVtLFxyXG4gICAgICBnZXR1c2VycHJvYmxlbXMgIDogZ2V0dXNlcnByb2JsZW1zLFxyXG4gICAgICBnZXRwcm9ibGVtICAgICAgIDogZ2V0cHJvYmxlbSxcclxuICAgICAgZ2V0Y29sbGFib3JhdG9ycyA6IGdldGNvbGxhYm9yYXRvcnMsXHJcbiAgICAgIGludml0ZSAgICAgICAgICAgOiBpbnZpdGUsXHJcbiAgICAgIGdldG9uaW9uICAgICAgICAgOiBnZXRvbmlvbixcclxuICAgICAgZ2V0ZXZhbHVhdGlvbiAgICA6IGdldGV2YWx1YXRpb24sXHJcbiAgICAgIGdldHNlbWlvdGljICAgICAgOiBnZXRzZW1pb3RpYyxcclxuICAgICAgZ2V0Y2FyZiAgICAgICAgICA6IGdldGNhcmYsXHJcbiAgICAgIHJlbW92ZXByb2JsZW0gICAgOiByZW1vdmVwcm9ibGVtLFxyXG4gICAgICBnZXRwcm9ibGVtc2NvbGxhYm9yYXRvcjogZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3IsXHJcbiAgICAgIHJlbW92ZWNvbGxhYm9yYXRvcnMgOiByZW1vdmVjb2xsYWJvcmF0b3JzLFxyXG4gICAgICBnZXRoaXN0b3J5Y2hhdDogZ2V0aGlzdG9yeWNoYXRcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHNlcnZpY2U7XHJcblxyXG4gICAgZnVuY3Rpb24gbmV3cHJvYmxlbShkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX05FV1BST0JMRU0sIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldHByb2JsZW0oZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFBST0JMRU0gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBnZXR1c2VycHJvYmxlbXMoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNUyArICc/ZW1haWw9JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRjb2xsYWJvcmF0b3JzKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRDT0xMQUJPUkFUT1JTICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbnZpdGUoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9JTlZJVEUsIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRvbmlvbihkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfR0VUT05JT04gKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldGV2YWx1YXRpb24gKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9HRVRFVkFMVUFUSU9OICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRzZW1pb3RpYyAoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFNFTUlPVElDRlJBTUVXT1JLICsgJz9pZHByb2JsZW09JyArIGRhdGEgKVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldGNhcmYoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVENBUkYgKyAnP2lkcHJvYmxlbT0nICsgZGF0YSApXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlcHJvYmxlbShkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLmdldChBUElfUk9VVEVfUkVNT1ZFUFJPQkxFTSArICc/aWRwcm9ibGVtPScgKyBkYXRhICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3IoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVFVTRVJQUk9CTEVNU0NPTExBQk9SQVRPUiArICc/ZW1haWw9JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVjb2xsYWJvcmF0b3JzKGRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFQSV9ST1VURV9SRU1PVkVDT0xMQUJPUkFUT1IgKyAnP2lkcHJvYmxlbT0nICsgZGF0YS5pZHByb2JsZW0gKyAnJmVtYWlsPScgKyBkYXRhLmVtYWlsICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0aGlzdG9yeWNoYXQoZGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX0dFVEhJU1RPUllDSEFUICsgJz9pZHByb2JsZW09JyArIGRhdGEgKTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG59KSgpO1xyXG4iLCJcclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3N0YXJ0UHJvYmxlbUNvbnRyb2xsZXInLHN0YXJ0UHJvYmxlbUNvbnRyb2xsZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0UHJvYmxlbUNvbnRyb2xsZXIoJG1kRGlhbG9nLCRzdGF0ZSxBdXRoLFNvY2tldCwgJHdpbmRvdywgcHJvYmxlbVNlcnZpY2UsdG9hc3RBcHAgKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZtLm5pY2tuYW1lID0gXCJcIjtcclxuICAgICAgICAgICAgdm0udXNlcmlkID0gXCJcIjtcclxuICAgICAgICAgICAgdm0udXNlcmVtYWlsID0gXCJcIjtcclxuICAgICAgICAgICAgdm0ucHJvYmxlbUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgdm0ucHJvYmxlbUNvbGxhYm9yYXRvckxpc3QgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHZtLmdldFByb2JsZW1zID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZtLnVzZXJpZCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpO1xyXG4gICAgICAgICAgICAgICAgdm0ubmlja25hbWUgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgdm0udXNlcmVtYWlsID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmVtYWlsJyk7XHJcbiAgICAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5nZXR1c2VycHJvYmxlbXModm0udXNlcmVtYWlsKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBkYXRhLnByb2JsZW1zLmxlbmd0aDsgaSsrICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uID0gZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZyxcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0ucHJvYmxlbUxpc3QgPSBkYXRhLnByb2JsZW1zO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcHJvYmxlbVNlcnZpY2UuZ2V0cHJvYmxlbXNjb2xsYWJvcmF0b3Iodm0udXNlcmVtYWlsKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGRhdGEucHJvYmxlbXMubGVuZ3RoOyBpKysgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2JsZW1zW2ldLmRlc2NyaXB0aW9uID0gZGF0YS5wcm9ibGVtc1tpXS5kZXNjcmlwdGlvbi5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZyxcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5wcm9ibGVtQ29sbGFib3JhdG9yTGlzdCA9IGRhdGEucHJvYmxlbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlUHJvYmxlbShwcm9ibGVtaWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZXJ2aWNlLnJlbW92ZXByb2JsZW0ocHJvYmxlbWlkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHZtLnByb2JsZW1MaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih2bS5wcm9ibGVtTGlzdFtpXS5faWQgPT0gcHJvYmxlbWlkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0ucHJvYmxlbUxpc3Quc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB2bS5yZXZvbXZlUHJvYmxlbSA9IGZ1bmN0aW9uKGV2LHByb2JsZW0pIHtcclxuICAgICAgICAgICAgICAgIC8vIEFwcGVuZGluZyBkaWFsb2cgdG8gZG9jdW1lbnQuYm9keSB0byBjb3ZlciBzaWRlbmF2IGluIGRvY3MgYXBwXHJcbiAgICAgICAgICAgICAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgICAgICAgICAgICAucGFyZW50KGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSlcclxuICAgICAgICAgICAgICAgICAgICAudGl0bGUoJ0RldGV0ZSBQcm9ibGVtPycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQoJ1RpdGxlOiAnICsgcHJvYmxlbS50aXRsZSlcclxuICAgICAgICAgICAgICAgICAgICAuYXJpYUxhYmVsKCdSZW1vdmUgUHJvYmxlbScpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9rKCdEZXNlam8gcmVtb3ZlciEnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KGV2KTtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUHJvYmxlbShwcm9ibGVtLl9pZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnN0YXJ0TmV3UHJvYmxlbSA9IGZ1bmN0aW9uKG5ld3Byb2JsZW0pe1xyXG4gICAgICAgICAgICAgICAgbmV3cHJvYmxlbS51c2VyaWQgPSB2bS51c2VyaWQ7XHJcbiAgICAgICAgICAgICAgICBwcm9ibGVtU2VydmljZS5uZXdwcm9ibGVtKG5ld3Byb2JsZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmVkaXRQcm9ibGVtKGRhdGEucHJvYmxlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2bS5lZGl0UHJvYmxlbSA9IGZ1bmN0aW9uIChwcm9ibGVtKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2JsZW1pZFwiLHByb2JsZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgIHZhciBpbml0c29ja2V0cHJvYmxlbSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBcImlkcHJvYmxlbVwiOnByb2JsZW0uX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIFwibmlja25hbWVcIjogdm0ubmlja25hbWVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBTb2NrZXQuZW1pdCgnaW5pdFByb2JsZW0nLCBpbml0c29ja2V0cHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2JsZW0uc3Rha2Vob2xkZXJzJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdm0uZG9Mb2dvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0LmxvZ2luJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdm0ubmV3UHJvYmxlbSA9IGZ1bmN0aW9uKGV2KSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogRGlhbG9nQ29udHJvbGxlcixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhZ2VzL25ld3Byb2JsZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gRGlhbG9nQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZykge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhpZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTmV3UHJvYmxlbSA9IGZ1bmN0aW9uKHByb2JsZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2bS5zdGFydE5ld1Byb2JsZW0ocHJvYmxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxufSkoKTtcclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMTkvMDYvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGluaXRMYW5ndWFnZSlcclxuICAgIC5jb250cm9sbGVyKCdsYW5ndWFnZUNvbnRyb2xsZXInLGxhbmd1YWdlQ29udHJvbGxlcilcclxuICAgIC5kaXJlY3RpdmUoJ2NoYW5nZUxhbmd1YWdlJyxjaGFuZ2VMYW5ndWFnZSk7XHJcblxyXG5pbml0TGFuZ3VhZ2UuJGluamVjdCA9IFsnJHRyYW5zbGF0ZVByb3ZpZGVyJ107XHJcbmxhbmd1YWdlQ29udHJvbGxlci4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJ107XHJcblxyXG5mdW5jdGlvbiBpbml0TGFuZ3VhZ2UgKCR0cmFuc2xhdGVQcm92aWRlcikge1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VTdGF0aWNGaWxlc0xvYWRlcih7XHJcbiAgICAgICAgICAgIHByZWZpeDogJ2FwcC9sYW5ndWFnZS9sYW5nLScsXHJcbiAgICAgICAgICAgIHN1ZmZpeDogJy5qc29uJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCdlc2NhcGVkJyk7XHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZUxvY2FsU3RvcmFnZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsYW5ndWFnZUNvbnRyb2xsZXIgKCR0cmFuc2xhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRMYW5nID0gZnVuY3Rpb24obGFuZ0tleSkge1xyXG4gICAgICAgICAgICAkdHJhbnNsYXRlLnVzZShsYW5nS2V5KTtcclxuICAgICAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VMYW5ndWFnZSgpe1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0ZW1wbGF0ZVVybCA6IFwiYXBwL2xhbmd1YWdlL2NoYW5nZUxhbmd1YWdlLmh0bWxcIixcclxuICAgICAgICByZXN0cmljdDogXCJFXCJcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3NpZ251cENvbnRyb2xsZXInLCBzaWdudXBDb250cm9sbGVyKTtcclxuICAgIHNpZ251cENvbnRyb2xsZXIuJGluamVjdCA9IFsnc2lnbnVwU2VydmljZScsJyRzdGF0ZScsJ3RvYXN0QXBwJywnQXV0aFRva2VuJywnQXV0aCcsJyRmaWx0ZXInLCckc3RhdGVQYXJhbXMnXTtcclxuXHJcbiAgZnVuY3Rpb24gc2lnbnVwQ29udHJvbGxlcihzaWdudXBTZXJ2aWNlLCRzdGF0ZSx0b2FzdEFwcCxBdXRoVG9rZW4sQXV0aCwkZmlsdGVyLCRzdGF0ZVBhcmFtcyl7XHJcbiAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLm1lc3NhZ2UgID0gJyc7XHJcbiAgICB2bS5zYXZlICAgPSBzYXZlVXNlcjtcclxuICAgIHZtLnJlc2N1ZVBhc3N3b3JkID0gcmVzY3VlUGFzc3dvcmQ7XHJcbiAgICB2bS5jaGFuZ2VQYXNzd29yZCA9IGNoYW5nZVBhc3N3b3JkO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVVc2VyKHVzZXIpIHtcclxuICAgICAgc2lnbnVwU2VydmljZS5jcmVhdGUodXNlcilcclxuICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgQXV0aFRva2VuLnNldFRva2VuKGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICAgIEF1dGguZ2V0VXNlcigpXHJcbiAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2bS51c2VyID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0QXBwLmVycm9yTWVzc2FnZSgkZmlsdGVyKCd0cmFuc2xhdGUnKSgnV0VMQ09NRV9TWVNURU0nKSArIFwiOiBcIiArIHZtLnVzZXIubmlja25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnRwcm9ibGVtJyk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRW1haWwgSsOhIGNhZGFzdHJhZG9cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByZXNjdWVQYXNzd29yZCh1c2VyRW1haWwpe1xyXG4gICAgICAgICAgc2lnbnVwU2VydmljZS5yZXNjdWVQYXNzd29yZCh1c2VyRW1haWwpXHJcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoXCJFbWFpbCBjb20gaW5zdHJ1w6fDtWVzIGVudmlhZG9cIik7XHJcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZCh1c2VyKXtcclxuICAgICAgICAgIHNpZ251cFNlcnZpY2UuY2hhbmdlUGFzc3dvcmQodXNlcilcclxuICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiU2VuaGEgYWx0ZXJhZGEgY29tIHN1Y2Vzc28uIEZhw6dhIGxvZ2luIGNvbSBhIG5vdmEgc2VuaGEuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdpbml0Jyk7XHJcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RBcHAuZXJyb3JNZXNzYWdlKFwiRXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuXHJcbiAgfVxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnc2lnbnVwU2VydmljZScsIHNpZ251cFNlcnZpY2UpO1xyXG5cclxuICBzaWdudXBTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywnJGxvY2F0aW9uJ107XHJcblxyXG4gIGZ1bmN0aW9uIHNpZ251cFNlcnZpY2UoJGh0dHAsJGxvY2F0aW9uKSB7XHJcblxyXG4gICAgdmFyIEFQSV9ST1VURV9VU0VSID0gJy9hcGkvc2lnbnVwLyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1JFU0NVRVBBU1NXT1JEID0gJy9hcGkvcmVzY3VlcGFzc3dkLyc7XHJcbiAgICB2YXIgQVBJX1JPVVRFX1NFVE5FV1BBU1NXT1JEID0gJy9hcGkvcmVzY3VlcGFzc3dkL25ld3Bhc3N3ZC8nO1xyXG5cclxuXHJcbiAgICB2YXIgc2VydmljZSA9IHtcclxuICAgICAgY3JlYXRlICAgICAgICAgOiBjcmVhdGUsXHJcbiAgICAgIHJlc2N1ZVBhc3N3b3JkIDogcmVzY3VlUGFzc3dvcmQsXHJcbiAgICAgIGNoYW5nZVBhc3N3b3JkIDogY2hhbmdlUGFzc3dvcmRcclxuICAgIH07XHJcbiAgICByZXR1cm4gc2VydmljZTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KEFQSV9ST1VURV9VU0VSLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNjdWVQYXNzd29yZChkYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoQVBJX1JPVVRFX1JFU0NVRVBBU1NXT1JELCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZChkYXRhKXtcclxuICAgICAgdmFyIG15dG9rZW5VUkwgPSAkbG9jYXRpb24uc2VhcmNoKCk7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQVBJX1JPVVRFX1NFVE5FV1BBU1NXT1JEICsgJz9teXRva2VuPScgKyBteXRva2VuVVJMLm15dG9rZW4rJyZwYXNzd29yZD0nK2RhdGEucGFzc3dvcmQpO1xyXG4gICAgfVxyXG4gIH1cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSk9TRVZBTERFUkxFSSBvbiAyNS8wNi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAgLmNvbmZpZyhhcHBDb25maWcpO1xyXG5cclxuICAgIGFwcENvbmZpZy4kaW5qZWN0ID0gWyckbWRUaGVtaW5nUHJvdmlkZXInLCckbG9jYXRpb25Qcm92aWRlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFwcENvbmZpZyAoJG1kVGhlbWluZ1Byb3ZpZGVyLCRsb2NhdGlvblByb3ZpZGVyKSB7XHJcblxyXG4gICAgICAgICAvLyRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuICAgICAgICB2YXIgY3VzdG9tR3JlZW5NYXAgPSAkbWRUaGVtaW5nUHJvdmlkZXIuZXh0ZW5kUGFsZXR0ZSgndGVhbCcsIHtcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnXSxcclxuICAgICAgICAgICAgJzUwJzogJ0UwRjJGMSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ2N1c3RvbUdyZWVuJywgY3VzdG9tR3JlZW5NYXApO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXHJcbiAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgnY3VzdG9tR3JlZW4nLCB7XHJcbiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6ICc1MDAnLFxyXG4gICAgICAgICAgICAgICAgJ2h1ZS0xJzogJzUwJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYWNjZW50UGFsZXR0ZSgndGVhbCcpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnaW5wdXQnLCAnZGVmYXVsdCcpXHJcbiAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgnZ3JlZW4nKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxufSkoKTsiLCJcclxuKGZ1bmN0aW9uKCl7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcbmFuZ3VsYXIubW9kdWxlKCdhdXRoU2VydmljZScsIFtdKVxyXG5cdC5mYWN0b3J5KCdBdXRoJywgZnVuY3Rpb24oJGh0dHAsICRxLCBBdXRoVG9rZW4pIHtcclxuXHR2YXIgYXV0aEZhY3RvcnkgPSB7fTtcclxuXHRhdXRoRmFjdG9yeS5sb2dpbiA9IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbG9naW4nLCB7XHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0cGFzc3dvcmQ6IHBhc3N3b3JkXHJcblx0XHR9KVxyXG5cdFx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS50b2tlbik7XHJcblx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0YXV0aEZhY3RvcnkubG9nb3V0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRBdXRoVG9rZW4uc2V0VG9rZW4oKTtcclxuXHR9O1xyXG5cclxuXHRhdXRoRmFjdG9yeS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKSB7XHJcblx0XHRpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1lbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGF1dGhGYWN0b3J5LmdldFVzZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWUnKTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gJHEucmVqZWN0KHttZXNzYWdlOiBcIlVzZXIgaGFzIG5vIHRva2VuXCJ9KTtcclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHRyZXR1cm4gYXV0aEZhY3Rvcnk7XHJcbn0pXHJcblxyXG5cclxuLmZhY3RvcnkoJ0F1dGhUb2tlbicsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcclxuXHJcblx0dmFyIGF1dGhUb2tlbkZhY3RvcnkgPSB7fTtcclxuXHJcblx0YXV0aFRva2VuRmFjdG9yeS5nZXRUb2tlbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcblx0fTtcclxuXHJcblx0YXV0aFRva2VuRmFjdG9yeS5zZXRUb2tlbiA9IGZ1bmN0aW9uKHRva2VuKSB7XHJcblxyXG5cdFx0aWYgKHRva2VuKSB7XHJcblx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZXtcclxuXHRcdFx0JHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTtcclxuXHR9XHJcblxyXG5cdH07XHJcblx0cmV0dXJuIGF1dGhUb2tlbkZhY3Rvcnk7XHJcbn0pXHJcblxyXG5cclxuLmZhY3RvcnkoJ0F1dGhJbnRlcmNlcHRvcicsIGZ1bmN0aW9uKCRxLCAkbG9jYXRpb24sIEF1dGhUb2tlbikge1xyXG5cdHZhciBpbnRlcmNlcHRvckZhY3RvcnkgPSB7fTtcclxuXHRpbnRlcmNlcHRvckZhY3RvcnkucmVxdWVzdCA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG5cdFx0dmFyIHRva2VuID0gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcblx0XHRpZih0b2tlbikge1xyXG5cdFx0XHRjb25maWcuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSA9IHRva2VuO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGNvbmZpZztcclxuXHR9O1xyXG5cdHJldHVybiBpbnRlcmNlcHRvckZhY3Rvcnk7XHJcbn0pO1xyXG59KSgpOyIsIlxyXG5hbmd1bGFyLm1vZHVsZSgnRHJvcERTQycsW10pXHJcbiAgICAuZGlyZWN0aXZlKCdkcmFnZ2FibGUnLCBmdW5jdGlvbigkZG9jdW1lbnQsU29ja2V0KSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnQudGFyZ2V0LmlkLnN1YnN0cmluZygwLDExKSA9PSBcInN0YWtlaG9sZGVyXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBkcmFnZ2luZyBvZiBzZWxlY3RlZCBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnbW91c2V1cCcsIG1vdXNldXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1vdXNlbW92ZShldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGlkX2RpdiA9IGV2ZW50LnRhcmdldC5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChpZF9kaXYgPT0gJ3N2ZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZF9kaXYgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnN0YWtlaG9sZGVyLm9uaW9ubGF5ZXIgPSBpZF9kaXY7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgeSA9IGV2ZW50LnBhZ2VZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgeCA9IGV2ZW50LnBhZ2VYO1xyXG4gICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogeSArICdweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogIHggKyAncHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIC8qU29ja2V0Lm9uKCdvbkJyb2FkY2FzdE9uaW9uUG9zaXRpb24nLCBmdW5jdGlvbiAoc3Rha2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogc3Rha2Vob2xkZXIueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogIHN0YWtlaG9sZGVyLnhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdGFrZWhvbGRlci54ID0geCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdGFrZWhvbGRlci55ID0geSArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvL1NvY2tldC5lbWl0KCdicm9hZGNhc3RPbmlvblBvc2l0aW9uJywgc2NvcGUuc3Rha2Vob2xkZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1vdXNldXAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdtb3VzZW1vdmUnLCBtb3VzZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnbW91c2V1cCcsIG1vdXNldXApO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgIH0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEpPU0VWQUxERVJMRUkgb24gMjUvMDYvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAgICAuY29udHJvbGxlcignbG9naW5Db250cm9sbGVyJyxsb2dpbkNvbnRyb2xsZXIpO1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbG9naW5Db250cm9sbGVyKCRyb290U2NvcGUsJHN0YXRlLCBBdXRoLCAkd2luZG93LCAkZmlsdGVyLCB0b2FzdEFwcCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdm0ubG9nZ2VkSW4gPSBBdXRoLmlzTG9nZ2VkSW4oKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5sb2dnZWRJbiA9IEF1dGguaXNMb2dnZWRJbigpO1xyXG4gICAgICAgICAgICAgICAgQXV0aC5nZXRVc2VyKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdm0uZG9Mb2dpbiA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgIHZtLnByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdm0uZXJyb3IgPSAnJztcclxuICAgICAgICAgICAgICAgIEF1dGgubG9naW4odXNlci5lbWFpbCwgdXNlci5wYXNzd29yZClcclxuICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyZW1haWxcIixkYXRhLmVtYWlsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJpZFwiLGRhdGEuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibmlja25hbWVcIixkYXRhLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICB2bS5wcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGguZ2V0VXNlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0udXNlciA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdEFwcC5lcnJvck1lc3NhZ2UoJGZpbHRlcigndHJhbnNsYXRlJykoJ1dFTENPTUVfU1lTVEVNJykgKyBcIjogXCIgKyB2bS51c2VyLm5pY2tuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnRwcm9ibGVtJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uZXJyb3IgPSBkYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZtLmRvTG9nb3V0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZSgnaW5pdCcpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBKT1NFVkFMREVSTEVJIG9uIDIxLzA2LzIwMTUuXHJcbiAqL1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLlxyXG4gICAgc2VydmljZSgnU29ja2V0JyxcclxuICAgIFsnJGxvY2F0aW9uJywgJyR0aW1lb3V0JyxcclxuICAgIGZ1bmN0aW9uKCRsb2NhdGlvbiwgJHRpbWVvdXQpIHtcclxuICAgICAgICBpZiAodHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldCA9IGlvKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5vbihldmVudE5hbWUsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQuZW1pdChldmVudE5hbWUsIGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5dKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9